import{aggregateTransactions as Mn,filterAndSortTransactions as xo,removeDuplicateTransactions as Ps}from"./pdf-DjtUqXJN.js";import{k as pr,d as gr,g as nn,s as rn}from"./database-Boc4ICmW.js";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function on(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const oe={},Dt=[],ze=()=>{},wo=()=>!1,ws=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ln=e=>e.startsWith("onUpdate:"),Ae=Object.assign,an=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},_o=Object.prototype.hasOwnProperty,se=(e,t)=>_o.call(e,t),K=Array.isArray,$t=e=>Zt(e)==="[object Map]",_s=e=>Zt(e)==="[object Set]",In=e=>Zt(e)==="[object Date]",q=e=>typeof e=="function",he=e=>typeof e=="string",Ve=e=>typeof e=="symbol",ue=e=>e!==null&&typeof e=="object",hr=e=>(ue(e)||q(e))&&q(e.then)&&q(e.catch),mr=Object.prototype.toString,Zt=e=>mr.call(e),Co=e=>Zt(e).slice(8,-1),vr=e=>Zt(e)==="[object Object]",cn=e=>he(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vt=on(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cs=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},So=/-(\w)/g,Ne=Cs(e=>e.replace(So,(t,s)=>s?s.toUpperCase():"")),To=/\B([A-Z])/g,ht=Cs(e=>e.replace(To,"-$1").toLowerCase()),Ss=Cs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rs=Cs(e=>e?`on${Ss(e)}`:""),ft=(e,t)=>!Object.is(e,t),os=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},zs=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},us=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Fn;const Ts=()=>Fn||(Fn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function un(e){if(K(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=he(n)?Eo(n):un(n);if(r)for(const o in r)t[o]=r[o]}return t}else if(he(e)||ue(e))return e}const Do=/;(?![^(]*\))/g,$o=/:([^]+)/,Ao=/\/\*[^]*?\*\//g;function Eo(e){const t={};return e.replace(Ao,"").split(Do).forEach(s=>{if(s){const n=s.split($o);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ge(e){let t="";if(he(e))t=e;else if(K(e))for(let s=0;s<e.length;s++){const n=ge(e[s]);n&&(t+=n+" ")}else if(ue(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ko="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oo=on(ko);function br(e){return!!e||e===""}function Mo(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Ds(e[n],t[n]);return s}function Ds(e,t){if(e===t)return!0;let s=In(e),n=In(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Ve(e),n=Ve(t),s||n)return e===t;if(s=K(e),n=K(t),s||n)return s&&n?Mo(e,t):!1;if(s=ue(e),n=ue(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const l=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(l&&!a||!l&&a||!Ds(e[i],t[i]))return!1}}return String(e)===String(t)}function Io(e,t){return e.findIndex(s=>Ds(s,t))}const yr=e=>!!(e&&e.__v_isRef===!0),V=e=>he(e)?e:e==null?"":K(e)||ue(e)&&(e.toString===mr||!q(e.toString))?yr(e)?V(e.value):JSON.stringify(e,xr,2):String(e),xr=(e,t)=>yr(t)?xr(e,t.value):$t(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],o)=>(s[js(n,o)+" =>"]=r,s),{})}:_s(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>js(s))}:Ve(t)?js(t):ue(t)&&!K(t)&&!vr(t)?String(t):t,js=(e,t="")=>{var s;return Ve(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oe;class Fo{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Oe,!t&&Oe&&(this.index=(Oe.scopes||(Oe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Oe;try{return Oe=this,t()}finally{Oe=s}}}on(){++this._on===1&&(this.prevScope=Oe,Oe=this)}off(){this._on>0&&--this._on===0&&(Oe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Po(){return Oe}let ae;const Ns=new WeakSet;class wr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Oe&&Oe.active&&Oe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ns.has(this)&&(Ns.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Cr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pn(this),Sr(this);const t=ae,s=Ue;ae=this,Ue=!0;try{return this.fn()}finally{Tr(this),ae=t,Ue=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)pn(t);this.deps=this.depsTail=void 0,Pn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ns.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qs(this)&&this.run()}get dirty(){return qs(this)}}let _r=0,Bt,Ht;function Cr(e,t=!1){if(e.flags|=8,t){e.next=Ht,Ht=e;return}e.next=Bt,Bt=e}function fn(){_r++}function dn(){if(--_r>0)return;if(Ht){let t=Ht;for(Ht=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Bt;){let t=Bt;for(Bt=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Sr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Tr(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),pn(n),Ro(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function qs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Dr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Dr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Yt)||(e.globalVersion=Yt,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!qs(e))))return;e.flags|=2;const t=e.dep,s=ae,n=Ue;ae=e,Ue=!0;try{Sr(e);const r=e.fn(e._value);(t.version===0||ft(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ae=s,Ue=n,Tr(e),e.flags&=-3}}function pn(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)pn(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ro(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ue=!0;const $r=[];function et(){$r.push(Ue),Ue=!1}function tt(){const e=$r.pop();Ue=e===void 0?!0:e}function Pn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ae;ae=void 0;try{t()}finally{ae=s}}}let Yt=0;class jo{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ae||!Ue||ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ae)s=this.activeLink=new jo(ae,this),ae.deps?(s.prevDep=ae.depsTail,ae.depsTail.nextDep=s,ae.depsTail=s):ae.deps=ae.depsTail=s,Ar(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ae.depsTail,s.nextDep=void 0,ae.depsTail.nextDep=s,ae.depsTail=s,ae.deps===s&&(ae.deps=n)}return s}trigger(t){this.version++,Yt++,this.notify(t)}notify(t){fn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{dn()}}}function Ar(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ar(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ys=new WeakMap,wt=Symbol(""),Gs=Symbol(""),Gt=Symbol("");function _e(e,t,s){if(Ue&&ae){let n=Ys.get(e);n||Ys.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new gn),r.map=n,r.key=s),r.track()}}function Qe(e,t,s,n,r,o){const i=Ys.get(e);if(!i){Yt++;return}const l=a=>{a&&a.trigger()};if(fn(),t==="clear")i.forEach(l);else{const a=K(e),h=a&&cn(s);if(a&&s==="length"){const p=Number(n);i.forEach((m,D)=>{(D==="length"||D===Gt||!Ve(D)&&D>=p)&&l(m)})}else switch((s!==void 0||i.has(void 0))&&l(i.get(s)),h&&l(i.get(Gt)),t){case"add":a?h&&l(i.get("length")):(l(i.get(wt)),$t(e)&&l(i.get(Gs)));break;case"delete":a||(l(i.get(wt)),$t(e)&&l(i.get(Gs)));break;case"set":$t(e)&&l(i.get(wt));break}}dn()}function St(e){const t=te(e);return t===e?t:(_e(t,"iterate",Gt),je(e)?t:t.map(be))}function $s(e){return _e(e=te(e),"iterate",Gt),e}const No={__proto__:null,[Symbol.iterator](){return Ls(this,Symbol.iterator,be)},concat(...e){return St(this).concat(...e.map(t=>K(t)?St(t):t))},entries(){return Ls(this,"entries",e=>(e[1]=be(e[1]),e))},every(e,t){return Je(this,"every",e,t,void 0,arguments)},filter(e,t){return Je(this,"filter",e,t,s=>s.map(be),arguments)},find(e,t){return Je(this,"find",e,t,be,arguments)},findIndex(e,t){return Je(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Je(this,"findLast",e,t,be,arguments)},findLastIndex(e,t){return Je(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Je(this,"forEach",e,t,void 0,arguments)},includes(...e){return Us(this,"includes",e)},indexOf(...e){return Us(this,"indexOf",e)},join(e){return St(this).join(e)},lastIndexOf(...e){return Us(this,"lastIndexOf",e)},map(e,t){return Je(this,"map",e,t,void 0,arguments)},pop(){return Nt(this,"pop")},push(...e){return Nt(this,"push",e)},reduce(e,...t){return Rn(this,"reduce",e,t)},reduceRight(e,...t){return Rn(this,"reduceRight",e,t)},shift(){return Nt(this,"shift")},some(e,t){return Je(this,"some",e,t,void 0,arguments)},splice(...e){return Nt(this,"splice",e)},toReversed(){return St(this).toReversed()},toSorted(e){return St(this).toSorted(e)},toSpliced(...e){return St(this).toSpliced(...e)},unshift(...e){return Nt(this,"unshift",e)},values(){return Ls(this,"values",be)}};function Ls(e,t,s){const n=$s(e),r=n[t]();return n!==e&&!je(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=s(o.value)),o}),r}const Lo=Array.prototype;function Je(e,t,s,n,r,o){const i=$s(e),l=i!==e&&!je(e),a=i[t];if(a!==Lo[t]){const m=a.apply(e,o);return l?be(m):m}let h=s;i!==e&&(l?h=function(m,D){return s.call(this,be(m),D,e)}:s.length>2&&(h=function(m,D){return s.call(this,m,D,e)}));const p=a.call(i,h,n);return l&&r?r(p):p}function Rn(e,t,s,n){const r=$s(e);let o=s;return r!==e&&(je(e)?s.length>3&&(o=function(i,l,a){return s.call(this,i,l,a,e)}):o=function(i,l,a){return s.call(this,i,be(l),a,e)}),r[t](o,...n)}function Us(e,t,s){const n=te(e);_e(n,"iterate",Gt);const r=n[t](...s);return(r===-1||r===!1)&&bn(s[0])?(s[0]=te(s[0]),n[t](...s)):r}function Nt(e,t,s=[]){et(),fn();const n=te(e)[t].apply(e,s);return dn(),tt(),n}const Uo=on("__proto__,__v_isRef,__isVue"),Er=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ve));function Vo(e){Ve(e)||(e=String(e));const t=te(this);return _e(t,"has",e),t.hasOwnProperty(e)}class kr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(r?o?Xo:Fr:o?Ir:Mr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=K(t);if(!r){let a;if(i&&(a=No[s]))return a;if(s==="hasOwnProperty")return Vo}const l=Reflect.get(t,s,Se(t)?t:n);return(Ve(s)?Er.has(s):Uo(s))||(r||_e(t,"get",s),o)?l:Se(l)?i&&cn(s)?l:l.value:ue(l)?r?Pr(l):mn(l):l}}class Or extends kr{constructor(t=!1){super(!1,t)}set(t,s,n,r){let o=t[s];if(!this._isShallow){const a=gt(o);if(!je(n)&&!gt(n)&&(o=te(o),n=te(n)),!K(t)&&Se(o)&&!Se(n))return a?!1:(o.value=n,!0)}const i=K(t)&&cn(s)?Number(s)<t.length:se(t,s),l=Reflect.set(t,s,n,Se(t)?t:r);return t===te(r)&&(i?ft(n,o)&&Qe(t,"set",s,n):Qe(t,"add",s,n)),l}deleteProperty(t,s){const n=se(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&Qe(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!Ve(s)||!Er.has(s))&&_e(t,"has",s),n}ownKeys(t){return _e(t,"iterate",K(t)?"length":wt),Reflect.ownKeys(t)}}class Bo extends kr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ho=new Or,Ko=new Bo,Wo=new Or(!0);const Js=e=>e,ss=e=>Reflect.getPrototypeOf(e);function zo(e,t,s){return function(...n){const r=this.__v_raw,o=te(r),i=$t(o),l=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,h=r[e](...n),p=s?Js:t?fs:be;return!t&&_e(o,"iterate",a?Gs:wt),{next(){const{value:m,done:D}=h.next();return D?{value:m,done:D}:{value:l?[p(m[0]),p(m[1])]:p(m),done:D}},[Symbol.iterator](){return this}}}}function ns(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qo(e,t){const s={get(r){const o=this.__v_raw,i=te(o),l=te(r);e||(ft(r,l)&&_e(i,"get",r),_e(i,"get",l));const{has:a}=ss(i),h=t?Js:e?fs:be;if(a.call(i,r))return h(o.get(r));if(a.call(i,l))return h(o.get(l));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!e&&_e(te(r),"iterate",wt),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,i=te(o),l=te(r);return e||(ft(r,l)&&_e(i,"has",r),_e(i,"has",l)),r===l?o.has(r):o.has(r)||o.has(l)},forEach(r,o){const i=this,l=i.__v_raw,a=te(l),h=t?Js:e?fs:be;return!e&&_e(a,"iterate",wt),l.forEach((p,m)=>r.call(o,h(p),h(m),i))}};return Ae(s,e?{add:ns("add"),set:ns("set"),delete:ns("delete"),clear:ns("clear")}:{add(r){!t&&!je(r)&&!gt(r)&&(r=te(r));const o=te(this);return ss(o).has.call(o,r)||(o.add(r),Qe(o,"add",r,r)),this},set(r,o){!t&&!je(o)&&!gt(o)&&(o=te(o));const i=te(this),{has:l,get:a}=ss(i);let h=l.call(i,r);h||(r=te(r),h=l.call(i,r));const p=a.call(i,r);return i.set(r,o),h?ft(o,p)&&Qe(i,"set",r,o):Qe(i,"add",r,o),this},delete(r){const o=te(this),{has:i,get:l}=ss(o);let a=i.call(o,r);a||(r=te(r),a=i.call(o,r)),l&&l.call(o,r);const h=o.delete(r);return a&&Qe(o,"delete",r,void 0),h},clear(){const r=te(this),o=r.size!==0,i=r.clear();return o&&Qe(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=zo(r,e,t)}),s}function hn(e,t){const s=qo(e,t);return(n,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(se(s,r)&&r in n?s:n,r,o)}const Yo={get:hn(!1,!1)},Go={get:hn(!1,!0)},Jo={get:hn(!0,!1)};const Mr=new WeakMap,Ir=new WeakMap,Fr=new WeakMap,Xo=new WeakMap;function Qo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zo(e){return e.__v_skip||!Object.isExtensible(e)?0:Qo(Co(e))}function mn(e){return gt(e)?e:vn(e,!1,Ho,Yo,Mr)}function ei(e){return vn(e,!1,Wo,Go,Ir)}function Pr(e){return vn(e,!0,Ko,Jo,Fr)}function vn(e,t,s,n,r){if(!ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Zo(e);if(o===0)return e;const i=r.get(e);if(i)return i;const l=new Proxy(e,o===2?n:s);return r.set(e,l),l}function At(e){return gt(e)?At(e.__v_raw):!!(e&&e.__v_isReactive)}function gt(e){return!!(e&&e.__v_isReadonly)}function je(e){return!!(e&&e.__v_isShallow)}function bn(e){return e?!!e.__v_raw:!1}function te(e){const t=e&&e.__v_raw;return t?te(t):e}function ti(e){return!se(e,"__v_skip")&&Object.isExtensible(e)&&zs(e,"__v_skip",!0),e}const be=e=>ue(e)?mn(e):e,fs=e=>ue(e)?Pr(e):e;function Se(e){return e?e.__v_isRef===!0:!1}function J(e){return si(e,!1)}function si(e,t){return Se(e)?e:new ni(e,t)}class ni{constructor(t,s){this.dep=new gn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:te(t),this._value=s?t:be(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||je(t)||gt(t);t=n?t:te(t),ft(t,s)&&(this._rawValue=t,this._value=n?t:be(t),this.dep.trigger())}}function ri(e){return Se(e)?e.value:e}const oi={get:(e,t,s)=>t==="__v_raw"?e:ri(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Se(r)&&!Se(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function Rr(e){return At(e)?e:new Proxy(e,oi)}class ii{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new gn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return Cr(this,!0),!0}get value(){const t=this.dep.track();return Dr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function li(e,t,s=!1){let n,r;return q(e)?n=e:(n=e.get,r=e.set),new ii(n,r,s)}const rs={},ds=new WeakMap;let yt;function ai(e,t=!1,s=yt){if(s){let n=ds.get(s);n||ds.set(s,n=[]),n.push(e)}}function ci(e,t,s=oe){const{immediate:n,deep:r,once:o,scheduler:i,augmentJob:l,call:a}=s,h=I=>r?I:je(I)||r===!1||r===0?Ze(I,1):Ze(I);let p,m,D,A,L=!1,$=!1;if(Se(e)?(m=()=>e.value,L=je(e)):At(e)?(m=()=>h(e),L=!0):K(e)?($=!0,L=e.some(I=>At(I)||je(I)),m=()=>e.map(I=>{if(Se(I))return I.value;if(At(I))return h(I);if(q(I))return a?a(I,2):I()})):q(e)?t?m=a?()=>a(e,2):e:m=()=>{if(D){et();try{D()}finally{tt()}}const I=yt;yt=p;try{return a?a(e,3,[A]):e(A)}finally{yt=I}}:m=ze,t&&r){const I=m,B=r===!0?1/0:r;m=()=>Ze(I(),B)}const ie=Po(),H=()=>{p.stop(),ie&&ie.active&&an(ie.effects,p)};if(o&&t){const I=t;t=(...B)=>{I(...B),H()}}let F=$?new Array(e.length).fill(rs):rs;const W=I=>{if(!(!(p.flags&1)||!p.dirty&&!I))if(t){const B=p.run();if(r||L||($?B.some((ve,ne)=>ft(ve,F[ne])):ft(B,F))){D&&D();const ve=yt;yt=p;try{const ne=[B,F===rs?void 0:$&&F[0]===rs?[]:F,A];F=B,a?a(t,3,ne):t(...ne)}finally{yt=ve}}}else p.run()};return l&&l(W),p=new wr(m),p.scheduler=i?()=>i(W,!1):W,A=I=>ai(I,!1,p),D=p.onStop=()=>{const I=ds.get(p);if(I){if(a)a(I,4);else for(const B of I)B();ds.delete(p)}},t?n?W(!0):F=p.run():i?i(W.bind(null,!0),!0):p.run(),H.pause=p.pause.bind(p),H.resume=p.resume.bind(p),H.stop=H,H}function Ze(e,t=1/0,s){if(t<=0||!ue(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Se(e))Ze(e.value,t,s);else if(K(e))for(let n=0;n<e.length;n++)Ze(e[n],t,s);else if(_s(e)||$t(e))e.forEach(n=>{Ze(n,t,s)});else if(vr(e)){for(const n in e)Ze(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Ze(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function es(e,t,s,n){try{return n?e(...n):e()}catch(r){As(r,t,s)}}function qe(e,t,s,n){if(q(e)){const r=es(e,t,s,n);return r&&hr(r)&&r.catch(o=>{As(o,t,s)}),r}if(K(e)){const r=[];for(let o=0;o<e.length;o++)r.push(qe(e[o],t,s,n));return r}}function As(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||oe;if(t){let l=t.parent;const a=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const p=l.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](e,a,h)===!1)return}l=l.parent}if(o){et(),es(o,null,10,[e,a,h]),tt();return}}ui(e,s,r,n,i)}function ui(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const $e=[];let Ke=-1;const Et=[];let lt=null,Tt=0;const jr=Promise.resolve();let ps=null;function Kt(e){const t=ps||jr;return e?t.then(this?e.bind(this):e):t}function fi(e){let t=Ke+1,s=$e.length;for(;t<s;){const n=t+s>>>1,r=$e[n],o=Jt(r);o<e||o===e&&r.flags&2?t=n+1:s=n}return t}function yn(e){if(!(e.flags&1)){const t=Jt(e),s=$e[$e.length-1];!s||!(e.flags&2)&&t>=Jt(s)?$e.push(e):$e.splice(fi(t),0,e),e.flags|=1,Nr()}}function Nr(){ps||(ps=jr.then(Ur))}function di(e){K(e)?Et.push(...e):lt&&e.id===-1?lt.splice(Tt+1,0,e):e.flags&1||(Et.push(e),e.flags|=1),Nr()}function jn(e,t,s=Ke+1){for(;s<$e.length;s++){const n=$e[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;$e.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Lr(e){if(Et.length){const t=[...new Set(Et)].sort((s,n)=>Jt(s)-Jt(n));if(Et.length=0,lt){lt.push(...t);return}for(lt=t,Tt=0;Tt<lt.length;Tt++){const s=lt[Tt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}lt=null,Tt=0}}const Jt=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ur(e){try{for(Ke=0;Ke<$e.length;Ke++){const t=$e[Ke];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),es(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ke<$e.length;Ke++){const t=$e[Ke];t&&(t.flags&=-2)}Ke=-1,$e.length=0,Lr(),ps=null,($e.length||Et.length)&&Ur()}}let xe=null,Vr=null;function gs(e){const t=xe;return xe=e,Vr=e&&e.type.__scopeId||null,t}function ct(e,t=xe,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&qn(-1);const o=gs(t);let i;try{i=e(...r)}finally{gs(o),n._d&&qn(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function Re(e,t){if(xe===null)return e;const s=Ms(xe),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,l,a=oe]=t[r];o&&(q(o)&&(o={mounted:o,updated:o}),o.deep&&Ze(i),n.push({dir:o,instance:s,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function vt(e,t,s,n){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const l=r[i];o&&(l.oldValue=o[i].value);let a=l.dir[n];a&&(et(),qe(a,s,8,[e.el,l,e,t]),tt())}}const pi=Symbol("_vte"),gi=e=>e.__isTeleport;function xn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,xn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Br(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Wt(e,t,s,n,r=!1){if(K(e)){e.forEach((L,$)=>Wt(L,t&&(K(t)?t[$]:t),s,n,r));return}if(kt(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Wt(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?Ms(n.component):n.el,i=r?null:o,{i:l,r:a}=e,h=t&&t.r,p=l.refs===oe?l.refs={}:l.refs,m=l.setupState,D=te(m),A=m===oe?()=>!1:L=>se(D,L);if(h!=null&&h!==a&&(he(h)?(p[h]=null,A(h)&&(m[h]=null)):Se(h)&&(h.value=null)),q(a))es(a,l,12,[i,p]);else{const L=he(a),$=Se(a);if(L||$){const ie=()=>{if(e.f){const H=L?A(a)?m[a]:p[a]:a.value;r?K(H)&&an(H,o):K(H)?H.includes(o)||H.push(o):L?(p[a]=[o],A(a)&&(m[a]=p[a])):(a.value=[o],e.k&&(p[e.k]=a.value))}else L?(p[a]=i,A(a)&&(m[a]=i)):$&&(a.value=i,e.k&&(p[e.k]=i))};i?(ie.id=-1,Ie(ie,s)):ie()}}}Ts().requestIdleCallback;Ts().cancelIdleCallback;const kt=e=>!!e.type.__asyncLoader,Hr=e=>e.type.__isKeepAlive;function hi(e,t){Kr(e,"a",t)}function mi(e,t){Kr(e,"da",t)}function Kr(e,t,s=Ce){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Es(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Hr(r.parent.vnode)&&vi(n,t,s,r),r=r.parent}}function vi(e,t,s,n){const r=Es(t,e,n,!0);wn(()=>{an(n[t],r)},s)}function Es(e,t,s=Ce,n=!1){if(s){const r=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...i)=>{et();const l=ts(s),a=qe(t,s,e,i);return l(),tt(),a});return n?r.unshift(o):r.push(o),o}}const nt=e=>(t,s=Ce)=>{(!Qt||e==="sp")&&Es(e,(...n)=>t(...n),s)},bi=nt("bm"),Rt=nt("m"),yi=nt("bu"),xi=nt("u"),wi=nt("bum"),wn=nt("um"),_i=nt("sp"),Ci=nt("rtg"),Si=nt("rtc");function Ti(e,t=Ce){Es("ec",e,t)}const Di="components";function $i(e,t){return Ei(Di,e,!0,t)||e}const Ai=Symbol.for("v-ndc");function Ei(e,t,s=!0,n=!1){const r=xe||Ce;if(r){const o=r.type;{const l=ml(o,!1);if(l&&(l===t||l===Ne(t)||l===Ss(Ne(t))))return o}const i=Nn(r[e]||o[e],t)||Nn(r.appContext[e],t);return!i&&n?o:i}}function Nn(e,t){return e&&(e[t]||e[Ne(t)]||e[Ss(Ne(t))])}function Le(e,t,s,n){let r;const o=s,i=K(e);if(i||he(e)){const l=i&&At(e);let a=!1,h=!1;l&&(a=!je(e),h=gt(e),e=$s(e)),r=new Array(e.length);for(let p=0,m=e.length;p<m;p++)r[p]=t(a?h?fs(be(e[p])):be(e[p]):e[p],p,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,o)}else if(ue(e))if(e[Symbol.iterator])r=Array.from(e,(l,a)=>t(l,a,void 0,o));else{const l=Object.keys(e);r=new Array(l.length);for(let a=0,h=l.length;a<h;a++){const p=l[a];r[a]=t(e[p],p,a,o)}}else r=[];return r}function hs(e,t,s={},n,r){if(xe.ce||xe.parent&&kt(xe.parent)&&xe.parent.ce)return t!=="default"&&(s.name=t),j(),Ft(re,null,[pe("slot",s,n)],64);let o=e[t];o&&o._c&&(o._d=!1),j();const i=o&&Wr(o(s)),l=s.key||i&&i.key,a=Ft(re,{key:(l&&!Ve(l)?l:`_${t}`)+""},i||[],i&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Wr(e){return e.some(t=>Sn(t)?!(t.type===st||t.type===re&&!Wr(t.children)):!0)?e:null}const Xs=e=>e?fo(e)?Ms(e):Xs(e.parent):null,zt=Ae(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Xs(e.parent),$root:e=>Xs(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>qr(e),$forceUpdate:e=>e.f||(e.f=()=>{yn(e.update)}),$nextTick:e=>e.n||(e.n=Kt.bind(e.proxy)),$watch:e=>Xi.bind(e)}),Vs=(e,t)=>e!==oe&&!e.__isScriptSetup&&se(e,t),ki={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:o,accessCache:i,type:l,appContext:a}=e;let h;if(t[0]!=="$"){const A=i[t];if(A!==void 0)switch(A){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return o[t]}else{if(Vs(n,t))return i[t]=1,n[t];if(r!==oe&&se(r,t))return i[t]=2,r[t];if((h=e.propsOptions[0])&&se(h,t))return i[t]=3,o[t];if(s!==oe&&se(s,t))return i[t]=4,s[t];Qs&&(i[t]=0)}}const p=zt[t];let m,D;if(p)return t==="$attrs"&&_e(e.attrs,"get",""),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(s!==oe&&se(s,t))return i[t]=4,s[t];if(D=a.config.globalProperties,se(D,t))return D[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:o}=e;return Vs(r,t)?(r[t]=s,!0):n!==oe&&se(n,t)?(n[t]=s,!0):se(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:o}},i){let l;return!!s[i]||e!==oe&&se(e,i)||Vs(t,i)||(l=o[0])&&se(l,i)||se(n,i)||se(zt,i)||se(r.config.globalProperties,i)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:se(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ln(e){return K(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Qs=!0;function Oi(e){const t=qr(e),s=e.proxy,n=e.ctx;Qs=!1,t.beforeCreate&&Un(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:l,provide:a,inject:h,created:p,beforeMount:m,mounted:D,beforeUpdate:A,updated:L,activated:$,deactivated:ie,beforeDestroy:H,beforeUnmount:F,destroyed:W,unmounted:I,render:B,renderTracked:ve,renderTriggered:ne,errorCaptured:E,serverPrefetch:y,expose:v,inheritAttrs:N,components:Y,directives:X,filters:le}=t;if(h&&Mi(h,n,null),i)for(const Q in i){const Z=i[Q];q(Z)&&(n[Q]=Z.bind(s))}if(r){const Q=r.call(s,s);ue(Q)&&(e.data=mn(Q))}if(Qs=!0,o)for(const Q in o){const Z=o[Q],Te=q(Z)?Z.bind(s,s):q(Z.get)?Z.get.bind(s,s):ze,_t=!q(Z)&&q(Z.set)?Z.set.bind(s):ze,Ye=ye({get:Te,set:_t});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Pe=>Ye.value=Pe})}if(l)for(const Q in l)zr(l[Q],n,s,Q);if(a){const Q=q(a)?a.call(s):a;Reflect.ownKeys(Q).forEach(Z=>{Ni(Z,Q[Z])})}p&&Un(p,e,"c");function ee(Q,Z){K(Z)?Z.forEach(Te=>Q(Te.bind(s))):Z&&Q(Z.bind(s))}if(ee(bi,m),ee(Rt,D),ee(yi,A),ee(xi,L),ee(hi,$),ee(mi,ie),ee(Ti,E),ee(Si,ve),ee(Ci,ne),ee(wi,F),ee(wn,I),ee(_i,y),K(v))if(v.length){const Q=e.exposed||(e.exposed={});v.forEach(Z=>{Object.defineProperty(Q,Z,{get:()=>s[Z],set:Te=>s[Z]=Te})})}else e.exposed||(e.exposed={});B&&e.render===ze&&(e.render=B),N!=null&&(e.inheritAttrs=N),Y&&(e.components=Y),X&&(e.directives=X),y&&Br(e)}function Mi(e,t,s=ze){K(e)&&(e=Zs(e));for(const n in e){const r=e[n];let o;ue(r)?"default"in r?o=is(r.from||n,r.default,!0):o=is(r.from||n):o=is(r),Se(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[n]=o}}function Un(e,t,s){qe(K(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function zr(e,t,s,n){let r=n.includes(".")?io(s,n):()=>s[n];if(he(e)){const o=t[e];q(o)&&Mt(r,o)}else if(q(e))Mt(r,e.bind(s));else if(ue(e))if(K(e))e.forEach(o=>zr(o,t,s,n));else{const o=q(e.handler)?e.handler.bind(s):t[e.handler];q(o)&&Mt(r,o,e)}}function qr(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let a;return l?a=l:!r.length&&!s&&!n?a=t:(a={},r.length&&r.forEach(h=>ms(a,h,i,!0)),ms(a,t,i)),ue(t)&&o.set(t,a),a}function ms(e,t,s,n=!1){const{mixins:r,extends:o}=t;o&&ms(e,o,s,!0),r&&r.forEach(i=>ms(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const l=Ii[i]||s&&s[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Ii={data:Vn,props:Bn,emits:Bn,methods:Ut,computed:Ut,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:Ut,directives:Ut,watch:Pi,provide:Vn,inject:Fi};function Vn(e,t){return t?e?function(){return Ae(q(e)?e.call(this,this):e,q(t)?t.call(this,this):t)}:t:e}function Fi(e,t){return Ut(Zs(e),Zs(t))}function Zs(e){if(K(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function De(e,t){return e?[...new Set([].concat(e,t))]:t}function Ut(e,t){return e?Ae(Object.create(null),e,t):t}function Bn(e,t){return e?K(e)&&K(t)?[...new Set([...e,...t])]:Ae(Object.create(null),Ln(e),Ln(t??{})):t}function Pi(e,t){if(!e)return t;if(!t)return e;const s=Ae(Object.create(null),e);for(const n in t)s[n]=De(e[n],t[n]);return s}function Yr(){return{app:null,config:{isNativeTag:wo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ri=0;function ji(e,t){return function(n,r=null){q(n)||(n=Ae({},n)),r!=null&&!ue(r)&&(r=null);const o=Yr(),i=new WeakSet,l=[];let a=!1;const h=o.app={_uid:Ri++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:bl,get config(){return o.config},set config(p){},use(p,...m){return i.has(p)||(p&&q(p.install)?(i.add(p),p.install(h,...m)):q(p)&&(i.add(p),p(h,...m))),h},mixin(p){return o.mixins.includes(p)||o.mixins.push(p),h},component(p,m){return m?(o.components[p]=m,h):o.components[p]},directive(p,m){return m?(o.directives[p]=m,h):o.directives[p]},mount(p,m,D){if(!a){const A=h._ceVNode||pe(n,r);return A.appContext=o,D===!0?D="svg":D===!1&&(D=void 0),e(A,p,D),a=!0,h._container=p,p.__vue_app__=h,Ms(A.component)}},onUnmount(p){l.push(p)},unmount(){a&&(qe(l,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(p,m){return o.provides[p]=m,h},runWithContext(p){const m=Ot;Ot=h;try{return p()}finally{Ot=m}}};return h}}let Ot=null;function Ni(e,t){if(Ce){let s=Ce.provides;const n=Ce.parent&&Ce.parent.provides;n===s&&(s=Ce.provides=Object.create(n)),s[e]=t}}function is(e,t,s=!1){const n=Ce||xe;if(n||Ot){let r=Ot?Ot._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&q(t)?t.call(n&&n.proxy):t}}const Gr={},Jr=()=>Object.create(Gr),Xr=e=>Object.getPrototypeOf(e)===Gr;function Li(e,t,s,n=!1){const r={},o=Jr();e.propsDefaults=Object.create(null),Qr(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);s?e.props=n?r:ei(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Ui(e,t,s,n){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,l=te(r),[a]=e.propsOptions;let h=!1;if((n||i>0)&&!(i&16)){if(i&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let D=p[m];if(ks(e.emitsOptions,D))continue;const A=t[D];if(a)if(se(o,D))A!==o[D]&&(o[D]=A,h=!0);else{const L=Ne(D);r[L]=en(a,l,L,A,e,!1)}else A!==o[D]&&(o[D]=A,h=!0)}}}else{Qr(e,t,r,o)&&(h=!0);let p;for(const m in l)(!t||!se(t,m)&&((p=ht(m))===m||!se(t,p)))&&(a?s&&(s[m]!==void 0||s[p]!==void 0)&&(r[m]=en(a,l,m,void 0,e,!0)):delete r[m]);if(o!==l)for(const m in o)(!t||!se(t,m))&&(delete o[m],h=!0)}h&&Qe(e.attrs,"set","")}function Qr(e,t,s,n){const[r,o]=e.propsOptions;let i=!1,l;if(t)for(let a in t){if(Vt(a))continue;const h=t[a];let p;r&&se(r,p=Ne(a))?!o||!o.includes(p)?s[p]=h:(l||(l={}))[p]=h:ks(e.emitsOptions,a)||(!(a in n)||h!==n[a])&&(n[a]=h,i=!0)}if(o){const a=te(s),h=l||oe;for(let p=0;p<o.length;p++){const m=o[p];s[m]=en(r,a,m,h[m],e,!se(h,m))}}return i}function en(e,t,s,n,r,o){const i=e[s];if(i!=null){const l=se(i,"default");if(l&&n===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&q(a)){const{propsDefaults:h}=r;if(s in h)n=h[s];else{const p=ts(r);n=h[s]=a.call(null,t),p()}}else n=a;r.ce&&r.ce._setProp(s,n)}i[0]&&(o&&!l?n=!1:i[1]&&(n===""||n===ht(s))&&(n=!0))}return n}const Vi=new WeakMap;function Zr(e,t,s=!1){const n=s?Vi:t.propsCache,r=n.get(e);if(r)return r;const o=e.props,i={},l=[];let a=!1;if(!q(e)){const p=m=>{a=!0;const[D,A]=Zr(m,t,!0);Ae(i,D),A&&l.push(...A)};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!o&&!a)return ue(e)&&n.set(e,Dt),Dt;if(K(o))for(let p=0;p<o.length;p++){const m=Ne(o[p]);Hn(m)&&(i[m]=oe)}else if(o)for(const p in o){const m=Ne(p);if(Hn(m)){const D=o[p],A=i[m]=K(D)||q(D)?{type:D}:Ae({},D),L=A.type;let $=!1,ie=!0;if(K(L))for(let H=0;H<L.length;++H){const F=L[H],W=q(F)&&F.name;if(W==="Boolean"){$=!0;break}else W==="String"&&(ie=!1)}else $=q(L)&&L.name==="Boolean";A[0]=$,A[1]=ie,($||se(A,"default"))&&l.push(m)}}const h=[i,l];return ue(e)&&n.set(e,h),h}function Hn(e){return e[0]!=="$"&&!Vt(e)}const _n=e=>e[0]==="_"||e==="$stable",Cn=e=>K(e)?e.map(We):[We(e)],Bi=(e,t,s)=>{if(t._n)return t;const n=ct((...r)=>Cn(t(...r)),s);return n._c=!1,n},eo=(e,t,s)=>{const n=e._ctx;for(const r in e){if(_n(r))continue;const o=e[r];if(q(o))t[r]=Bi(r,o,n);else if(o!=null){const i=Cn(o);t[r]=()=>i}}},to=(e,t)=>{const s=Cn(t);e.slots.default=()=>s},so=(e,t,s)=>{for(const n in t)(s||!_n(n))&&(e[n]=t[n])},Hi=(e,t,s)=>{const n=e.slots=Jr();if(e.vnode.shapeFlag&32){const r=t.__;r&&zs(n,"__",r,!0);const o=t._;o?(so(n,t,s),s&&zs(n,"_",o,!0)):eo(t,n)}else t&&to(e,t)},Ki=(e,t,s)=>{const{vnode:n,slots:r}=e;let o=!0,i=oe;if(n.shapeFlag&32){const l=t._;l?s&&l===1?o=!1:so(r,t,s):(o=!t.$stable,eo(t,r)),i=t}else t&&(to(e,t),i={default:1});if(o)for(const l in r)!_n(l)&&i[l]==null&&delete r[l]},Ie=rl;function Wi(e){return zi(e)}function zi(e,t){const s=Ts();s.__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:i,createText:l,createComment:a,setText:h,setElementText:p,parentNode:m,nextSibling:D,setScopeId:A=ze,insertStaticContent:L}=e,$=(c,f,b,C=null,x=null,w=null,M=void 0,O=null,k=!!f.dynamicChildren)=>{if(c===f)return;c&&!Lt(c,f)&&(C=Ge(c),Pe(c,x,w,!0),c=null),f.patchFlag===-2&&(k=!1,f.dynamicChildren=null);const{type:S,ref:g,shapeFlag:d}=f;switch(S){case Os:ie(c,f,b,C);break;case st:H(c,f,b,C);break;case ls:c==null&&F(f,b,C,M);break;case re:Y(c,f,b,C,x,w,M,O,k);break;default:d&1?B(c,f,b,C,x,w,M,O,k):d&6?X(c,f,b,C,x,w,M,O,k):(d&64||d&128)&&S.process(c,f,b,C,x,w,M,O,k,mt)}g!=null&&x?Wt(g,c&&c.ref,w,f||c,!f):g==null&&c&&c.ref!=null&&Wt(c.ref,null,w,c,!0)},ie=(c,f,b,C)=>{if(c==null)n(f.el=l(f.children),b,C);else{const x=f.el=c.el;f.children!==c.children&&h(x,f.children)}},H=(c,f,b,C)=>{c==null?n(f.el=a(f.children||""),b,C):f.el=c.el},F=(c,f,b,C)=>{[c.el,c.anchor]=L(c.children,f,b,C,c.el,c.anchor)},W=({el:c,anchor:f},b,C)=>{let x;for(;c&&c!==f;)x=D(c),n(c,b,C),c=x;n(f,b,C)},I=({el:c,anchor:f})=>{let b;for(;c&&c!==f;)b=D(c),r(c),c=b;r(f)},B=(c,f,b,C,x,w,M,O,k)=>{f.type==="svg"?M="svg":f.type==="math"&&(M="mathml"),c==null?ve(f,b,C,x,w,M,O,k):y(c,f,x,w,M,O,k)},ve=(c,f,b,C,x,w,M,O)=>{let k,S;const{props:g,shapeFlag:d,transition:_,dirs:T}=c;if(k=c.el=i(c.type,w,g&&g.is,g),d&8?p(k,c.children):d&16&&E(c.children,k,null,C,x,Bs(c,w),M,O),T&&vt(c,null,C,"created"),ne(k,c,c.scopeId,M,C),g){for(const z in g)z!=="value"&&!Vt(z)&&o(k,z,null,g[z],w,C);"value"in g&&o(k,"value",null,g.value,w),(S=g.onVnodeBeforeMount)&&He(S,C,c)}T&&vt(c,null,C,"beforeMount");const R=qi(x,_);R&&_.beforeEnter(k),n(k,f,b),((S=g&&g.onVnodeMounted)||R||T)&&Ie(()=>{S&&He(S,C,c),R&&_.enter(k),T&&vt(c,null,C,"mounted")},x)},ne=(c,f,b,C,x)=>{if(b&&A(c,b),C)for(let w=0;w<C.length;w++)A(c,C[w]);if(x){let w=x.subTree;if(f===w||ao(w.type)&&(w.ssContent===f||w.ssFallback===f)){const M=x.vnode;ne(c,M,M.scopeId,M.slotScopeIds,x.parent)}}},E=(c,f,b,C,x,w,M,O,k=0)=>{for(let S=k;S<c.length;S++){const g=c[S]=O?at(c[S]):We(c[S]);$(null,g,f,b,C,x,w,M,O)}},y=(c,f,b,C,x,w,M)=>{const O=f.el=c.el;let{patchFlag:k,dynamicChildren:S,dirs:g}=f;k|=c.patchFlag&16;const d=c.props||oe,_=f.props||oe;let T;if(b&&bt(b,!1),(T=_.onVnodeBeforeUpdate)&&He(T,b,f,c),g&&vt(f,c,b,"beforeUpdate"),b&&bt(b,!0),(d.innerHTML&&_.innerHTML==null||d.textContent&&_.textContent==null)&&p(O,""),S?v(c.dynamicChildren,S,O,b,C,Bs(f,x),w):M||Z(c,f,O,null,b,C,Bs(f,x),w,!1),k>0){if(k&16)N(O,d,_,b,x);else if(k&2&&d.class!==_.class&&o(O,"class",null,_.class,x),k&4&&o(O,"style",d.style,_.style,x),k&8){const R=f.dynamicProps;for(let z=0;z<R.length;z++){const G=R[z],fe=d[G],de=_[G];(de!==fe||G==="value")&&o(O,G,fe,de,x,b)}}k&1&&c.children!==f.children&&p(O,f.children)}else!M&&S==null&&N(O,d,_,b,x);((T=_.onVnodeUpdated)||g)&&Ie(()=>{T&&He(T,b,f,c),g&&vt(f,c,b,"updated")},C)},v=(c,f,b,C,x,w,M)=>{for(let O=0;O<f.length;O++){const k=c[O],S=f[O],g=k.el&&(k.type===re||!Lt(k,S)||k.shapeFlag&198)?m(k.el):b;$(k,S,g,null,C,x,w,M,!0)}},N=(c,f,b,C,x)=>{if(f!==b){if(f!==oe)for(const w in f)!Vt(w)&&!(w in b)&&o(c,w,f[w],null,x,C);for(const w in b){if(Vt(w))continue;const M=b[w],O=f[w];M!==O&&w!=="value"&&o(c,w,O,M,x,C)}"value"in b&&o(c,"value",f.value,b.value,x)}},Y=(c,f,b,C,x,w,M,O,k)=>{const S=f.el=c?c.el:l(""),g=f.anchor=c?c.anchor:l("");let{patchFlag:d,dynamicChildren:_,slotScopeIds:T}=f;T&&(O=O?O.concat(T):T),c==null?(n(S,b,C),n(g,b,C),E(f.children||[],b,g,x,w,M,O,k)):d>0&&d&64&&_&&c.dynamicChildren?(v(c.dynamicChildren,_,b,x,w,M,O),(f.key!=null||x&&f===x.subTree)&&no(c,f,!0)):Z(c,f,b,g,x,w,M,O,k)},X=(c,f,b,C,x,w,M,O,k)=>{f.slotScopeIds=O,c==null?f.shapeFlag&512?x.ctx.activate(f,b,C,M,k):le(f,b,C,x,w,M,k):we(c,f,k)},le=(c,f,b,C,x,w,M)=>{const O=c.component=fl(c,C,x);if(Hr(c)&&(O.ctx.renderer=mt),dl(O,!1,M),O.asyncDep){if(x&&x.registerDep(O,ee,M),!c.el){const k=O.subTree=pe(st);H(null,k,f,b)}}else ee(O,c,f,b,x,w,M)},we=(c,f,b)=>{const C=f.component=c.component;if(sl(c,f,b))if(C.asyncDep&&!C.asyncResolved){Q(C,f,b);return}else C.next=f,C.update();else f.el=c.el,C.vnode=f},ee=(c,f,b,C,x,w,M)=>{const O=()=>{if(c.isMounted){let{next:d,bu:_,u:T,parent:R,vnode:z}=c;{const P=ro(c);if(P){d&&(d.el=z.el,Q(c,d,M)),P.asyncDep.then(()=>{c.isUnmounted||O()});return}}let G=d,fe;bt(c,!1),d?(d.el=z.el,Q(c,d,M)):d=z,_&&os(_),(fe=d.props&&d.props.onVnodeBeforeUpdate)&&He(fe,R,d,z),bt(c,!0);const de=Wn(c),me=c.subTree;c.subTree=de,$(me,de,m(me.el),Ge(me),c,x,w),d.el=de.el,G===null&&nl(c,de.el),T&&Ie(T,x),(fe=d.props&&d.props.onVnodeUpdated)&&Ie(()=>He(fe,R,d,z),x)}else{let d;const{el:_,props:T}=f,{bm:R,m:z,parent:G,root:fe,type:de}=c,me=kt(f);bt(c,!1),R&&os(R),!me&&(d=T&&T.onVnodeBeforeMount)&&He(d,G,f),bt(c,!0);{fe.ce&&fe.ce._def.shadowRoot!==!1&&fe.ce._injectChildStyle(de);const P=c.subTree=Wn(c);$(null,P,b,C,c,x,w),f.el=P.el}if(z&&Ie(z,x),!me&&(d=T&&T.onVnodeMounted)){const P=f;Ie(()=>He(d,G,P),x)}(f.shapeFlag&256||G&&kt(G.vnode)&&G.vnode.shapeFlag&256)&&c.a&&Ie(c.a,x),c.isMounted=!0,f=b=C=null}};c.scope.on();const k=c.effect=new wr(O);c.scope.off();const S=c.update=k.run.bind(k),g=c.job=k.runIfDirty.bind(k);g.i=c,g.id=c.uid,k.scheduler=()=>yn(g),bt(c,!0),S()},Q=(c,f,b)=>{f.component=c;const C=c.vnode.props;c.vnode=f,c.next=null,Ui(c,f.props,C,b),Ki(c,f.children,b),et(),jn(c),tt()},Z=(c,f,b,C,x,w,M,O,k=!1)=>{const S=c&&c.children,g=c?c.shapeFlag:0,d=f.children,{patchFlag:_,shapeFlag:T}=f;if(_>0){if(_&128){_t(S,d,b,C,x,w,M,O,k);return}else if(_&256){Te(S,d,b,C,x,w,M,O,k);return}}T&8?(g&16&&Ee(S,x,w),d!==S&&p(b,d)):g&16?T&16?_t(S,d,b,C,x,w,M,O,k):Ee(S,x,w,!0):(g&8&&p(b,""),T&16&&E(d,b,C,x,w,M,O,k))},Te=(c,f,b,C,x,w,M,O,k)=>{c=c||Dt,f=f||Dt;const S=c.length,g=f.length,d=Math.min(S,g);let _;for(_=0;_<d;_++){const T=f[_]=k?at(f[_]):We(f[_]);$(c[_],T,b,null,x,w,M,O,k)}S>g?Ee(c,x,w,!0,!1,d):E(f,b,C,x,w,M,O,k,d)},_t=(c,f,b,C,x,w,M,O,k)=>{let S=0;const g=f.length;let d=c.length-1,_=g-1;for(;S<=d&&S<=_;){const T=c[S],R=f[S]=k?at(f[S]):We(f[S]);if(Lt(T,R))$(T,R,b,null,x,w,M,O,k);else break;S++}for(;S<=d&&S<=_;){const T=c[d],R=f[_]=k?at(f[_]):We(f[_]);if(Lt(T,R))$(T,R,b,null,x,w,M,O,k);else break;d--,_--}if(S>d){if(S<=_){const T=_+1,R=T<g?f[T].el:C;for(;S<=_;)$(null,f[S]=k?at(f[S]):We(f[S]),b,R,x,w,M,O,k),S++}}else if(S>_)for(;S<=d;)Pe(c[S],x,w,!0),S++;else{const T=S,R=S,z=new Map;for(S=R;S<=_;S++){const Me=f[S]=k?at(f[S]):We(f[S]);Me.key!=null&&z.set(Me.key,S)}let G,fe=0;const de=_-R+1;let me=!1,P=0;const it=new Array(de);for(S=0;S<de;S++)it[S]=0;for(S=T;S<=d;S++){const Me=c[S];if(fe>=de){Pe(Me,x,w,!0);continue}let Be;if(Me.key!=null)Be=z.get(Me.key);else for(G=R;G<=_;G++)if(it[G-R]===0&&Lt(Me,f[G])){Be=G;break}Be===void 0?Pe(Me,x,w,!0):(it[Be-R]=S+1,Be>=P?P=Be:me=!0,$(Me,f[Be],b,null,x,w,M,O,k),fe++)}const ke=me?Yi(it):Dt;for(G=ke.length-1,S=de-1;S>=0;S--){const Me=R+S,Be=f[Me],On=Me+1<g?f[Me+1].el:C;it[S]===0?$(null,Be,b,On,x,w,M,O,k):me&&(G<0||S!==ke[G]?Ye(Be,b,On,2):G--)}}},Ye=(c,f,b,C,x=null)=>{const{el:w,type:M,transition:O,children:k,shapeFlag:S}=c;if(S&6){Ye(c.component.subTree,f,b,C);return}if(S&128){c.suspense.move(f,b,C);return}if(S&64){M.move(c,f,b,mt);return}if(M===re){n(w,f,b);for(let d=0;d<k.length;d++)Ye(k[d],f,b,C);n(c.anchor,f,b);return}if(M===ls){W(c,f,b);return}if(C!==2&&S&1&&O)if(C===0)O.beforeEnter(w),n(w,f,b),Ie(()=>O.enter(w),x);else{const{leave:d,delayLeave:_,afterLeave:T}=O,R=()=>{c.ctx.isUnmounted?r(w):n(w,f,b)},z=()=>{d(w,()=>{R(),T&&T()})};_?_(w,R,z):z()}else n(w,f,b)},Pe=(c,f,b,C=!1,x=!1)=>{const{type:w,props:M,ref:O,children:k,dynamicChildren:S,shapeFlag:g,patchFlag:d,dirs:_,cacheIndex:T}=c;if(d===-2&&(x=!1),O!=null&&(et(),Wt(O,null,b,c,!0),tt()),T!=null&&(f.renderCache[T]=void 0),g&256){f.ctx.deactivate(c);return}const R=g&1&&_,z=!kt(c);let G;if(z&&(G=M&&M.onVnodeBeforeUnmount)&&He(G,f,c),g&6)Ct(c.component,b,C);else{if(g&128){c.suspense.unmount(b,C);return}R&&vt(c,null,f,"beforeUnmount"),g&64?c.type.remove(c,f,b,mt,C):S&&!S.hasOnce&&(w!==re||d>0&&d&64)?Ee(S,f,b,!1,!0):(w===re&&d&384||!x&&g&16)&&Ee(k,f,b),C&&rt(c)}(z&&(G=M&&M.onVnodeUnmounted)||R)&&Ie(()=>{G&&He(G,f,c),R&&vt(c,null,f,"unmounted")},b)},rt=c=>{const{type:f,el:b,anchor:C,transition:x}=c;if(f===re){Fs(b,C);return}if(f===ls){I(c);return}const w=()=>{r(b),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(c.shapeFlag&1&&x&&!x.persisted){const{leave:M,delayLeave:O}=x,k=()=>M(b,w);O?O(c.el,w,k):k()}else w()},Fs=(c,f)=>{let b;for(;c!==f;)b=D(c),r(c),c=b;r(f)},Ct=(c,f,b)=>{const{bum:C,scope:x,job:w,subTree:M,um:O,m:k,a:S,parent:g,slots:{__:d}}=c;Kn(k),Kn(S),C&&os(C),g&&K(d)&&d.forEach(_=>{g.renderCache[_]=void 0}),x.stop(),w&&(w.flags|=8,Pe(M,c,f,b)),O&&Ie(O,f),Ie(()=>{c.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Ee=(c,f,b,C=!1,x=!1,w=0)=>{for(let M=w;M<c.length;M++)Pe(c[M],f,b,C,x)},Ge=c=>{if(c.shapeFlag&6)return Ge(c.component.subTree);if(c.shapeFlag&128)return c.suspense.next();const f=D(c.anchor||c.el),b=f&&f[pi];return b?D(b):f};let jt=!1;const ot=(c,f,b)=>{c==null?f._vnode&&Pe(f._vnode,null,null,!0):$(f._vnode||null,c,f,null,null,null,b),f._vnode=c,jt||(jt=!0,jn(),Lr(),jt=!1)},mt={p:$,um:Pe,m:Ye,r:rt,mt:le,mc:E,pc:Z,pbc:v,n:Ge,o:e};return{render:ot,hydrate:void 0,createApp:ji(ot)}}function Bs({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function bt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function qi(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function no(e,t,s=!1){const n=e.children,r=t.children;if(K(n)&&K(r))for(let o=0;o<n.length;o++){const i=n[o];let l=r[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[o]=at(r[o]),l.el=i.el),!s&&l.patchFlag!==-2&&no(i,l)),l.type===Os&&(l.el=i.el),l.type===st&&!l.el&&(l.el=i.el)}}function Yi(e){const t=e.slice(),s=[0];let n,r,o,i,l;const a=e.length;for(n=0;n<a;n++){const h=e[n];if(h!==0){if(r=s[s.length-1],e[r]<h){t[n]=r,s.push(n);continue}for(o=0,i=s.length-1;o<i;)l=o+i>>1,e[s[l]]<h?o=l+1:i=l;h<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,i=s[o-1];o-- >0;)s[o]=i,i=t[i];return s}function ro(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ro(t)}function Kn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Gi=Symbol.for("v-scx"),Ji=()=>is(Gi);function Mt(e,t,s){return oo(e,t,s)}function oo(e,t,s=oe){const{immediate:n,deep:r,flush:o,once:i}=s,l=Ae({},s),a=t&&n||!t&&o!=="post";let h;if(Qt){if(o==="sync"){const A=Ji();h=A.__watcherHandles||(A.__watcherHandles=[])}else if(!a){const A=()=>{};return A.stop=ze,A.resume=ze,A.pause=ze,A}}const p=Ce;l.call=(A,L,$)=>qe(A,p,L,$);let m=!1;o==="post"?l.scheduler=A=>{Ie(A,p&&p.suspense)}:o!=="sync"&&(m=!0,l.scheduler=(A,L)=>{L?A():yn(A)}),l.augmentJob=A=>{t&&(A.flags|=4),m&&(A.flags|=2,p&&(A.id=p.uid,A.i=p))};const D=ci(e,t,l);return Qt&&(h?h.push(D):a&&D()),D}function Xi(e,t,s){const n=this.proxy,r=he(e)?e.includes(".")?io(n,e):()=>n[e]:e.bind(n,n);let o;q(t)?o=t:(o=t.handler,s=t);const i=ts(this),l=oo(r,o.bind(n),s);return i(),l}function io(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Qi=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ne(t)}Modifiers`]||e[`${ht(t)}Modifiers`];function Zi(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||oe;let r=s;const o=t.startsWith("update:"),i=o&&Qi(n,t.slice(7));i&&(i.trim&&(r=s.map(p=>he(p)?p.trim():p)),i.number&&(r=s.map(us)));let l,a=n[l=Rs(t)]||n[l=Rs(Ne(t))];!a&&o&&(a=n[l=Rs(ht(t))]),a&&qe(a,e,6,r);const h=n[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,qe(h,e,6,r)}}function lo(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const o=e.emits;let i={},l=!1;if(!q(e)){const a=h=>{const p=lo(h,t,!0);p&&(l=!0,Ae(i,p))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(ue(e)&&n.set(e,null),null):(K(o)?o.forEach(a=>i[a]=null):Ae(i,o),ue(e)&&n.set(e,i),i)}function ks(e,t){return!e||!ws(t)?!1:(t=t.slice(2).replace(/Once$/,""),se(e,t[0].toLowerCase()+t.slice(1))||se(e,ht(t))||se(e,t))}function Wn(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[o],slots:i,attrs:l,emit:a,render:h,renderCache:p,props:m,data:D,setupState:A,ctx:L,inheritAttrs:$}=e,ie=gs(e);let H,F;try{if(s.shapeFlag&4){const I=r||n,B=I;H=We(h.call(B,I,p,m,A,D,L)),F=l}else{const I=t;H=We(I.length>1?I(m,{attrs:l,slots:i,emit:a}):I(m,null)),F=t.props?l:el(l)}}catch(I){qt.length=0,As(I,e,1),H=pe(st)}let W=H;if(F&&$!==!1){const I=Object.keys(F),{shapeFlag:B}=W;I.length&&B&7&&(o&&I.some(ln)&&(F=tl(F,o)),W=Pt(W,F,!1,!0))}return s.dirs&&(W=Pt(W,null,!1,!0),W.dirs=W.dirs?W.dirs.concat(s.dirs):s.dirs),s.transition&&xn(W,s.transition),H=W,gs(ie),H}const el=e=>{let t;for(const s in e)(s==="class"||s==="style"||ws(s))&&((t||(t={}))[s]=e[s]);return t},tl=(e,t)=>{const s={};for(const n in e)(!ln(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function sl(e,t,s){const{props:n,children:r,component:o}=e,{props:i,children:l,patchFlag:a}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return n?zn(n,i,h):!!i;if(a&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const D=p[m];if(i[D]!==n[D]&&!ks(h,D))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:n===i?!1:n?i?zn(n,i,h):!0:!!i;return!1}function zn(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(t[o]!==e[o]&&!ks(s,o))return!0}return!1}function nl({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const ao=e=>e.__isSuspense;function rl(e,t){t&&t.pendingBranch?K(e)?t.effects.push(...e):t.effects.push(e):di(e)}const re=Symbol.for("v-fgt"),Os=Symbol.for("v-txt"),st=Symbol.for("v-cmt"),ls=Symbol.for("v-stc"),qt=[];let Fe=null;function j(e=!1){qt.push(Fe=e?null:[])}function ol(){qt.pop(),Fe=qt[qt.length-1]||null}let Xt=1;function qn(e,t=!1){Xt+=e,e<0&&Fe&&t&&(Fe.hasOnce=!0)}function co(e){return e.dynamicChildren=Xt>0?Fe||Dt:null,ol(),Xt>0&&Fe&&Fe.push(e),e}function U(e,t,s,n,r,o){return co(u(e,t,s,n,r,o,!0))}function Ft(e,t,s,n,r){return co(pe(e,t,s,n,r,!0))}function Sn(e){return e?e.__v_isVNode===!0:!1}function Lt(e,t){return e.type===t.type&&e.key===t.key}const uo=({key:e})=>e??null,as=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?he(e)||Se(e)||q(e)?{i:xe,r:e,k:t,f:!!s}:e:null);function u(e,t=null,s=null,n=0,r=null,o=e===re?0:1,i=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uo(t),ref:t&&as(t),scopeId:Vr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:xe};return l?(Dn(a,s),o&128&&e.normalize(a)):s&&(a.shapeFlag|=he(s)?8:16),Xt>0&&!i&&Fe&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Fe.push(a),a}const pe=il;function il(e,t=null,s=null,n=0,r=null,o=!1){if((!e||e===Ai)&&(e=st),Sn(e)){const l=Pt(e,t,!0);return s&&Dn(l,s),Xt>0&&!o&&Fe&&(l.shapeFlag&6?Fe[Fe.indexOf(e)]=l:Fe.push(l)),l.patchFlag=-2,l}if(vl(e)&&(e=e.__vccOpts),t){t=ll(t);let{class:l,style:a}=t;l&&!he(l)&&(t.class=ge(l)),ue(a)&&(bn(a)&&!K(a)&&(a=Ae({},a)),t.style=un(a))}const i=he(e)?1:ao(e)?128:gi(e)?64:ue(e)?4:q(e)?2:0;return u(e,t,s,n,r,i,o,!0)}function ll(e){return e?bn(e)||Xr(e)?Ae({},e):e:null}function Pt(e,t,s=!1,n=!1){const{props:r,ref:o,patchFlag:i,children:l,transition:a}=e,h=t?al(r||{},t):r,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&uo(h),ref:t&&t.ref?s&&o?K(o)?o.concat(as(t)):[o,as(t)]:as(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==re?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pt(e.ssContent),ssFallback:e.ssFallback&&Pt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&n&&xn(p,a.clone(p)),p}function ut(e=" ",t=0){return pe(Os,null,e,t)}function Tn(e,t){const s=pe(ls,null,e);return s.staticCount=t,s}function ce(e="",t=!1){return t?(j(),Ft(st,null,e)):pe(st,null,e)}function We(e){return e==null||typeof e=="boolean"?pe(st):K(e)?pe(re,null,e.slice()):Sn(e)?at(e):pe(Os,null,String(e))}function at(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pt(e)}function Dn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(K(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Dn(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!Xr(t)?t._ctx=xe:r===3&&xe&&(xe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:xe},s=32):(t=String(t),n&64?(s=16,t=[ut(t)]):s=8);e.children=t,e.shapeFlag|=s}function al(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=ge([t.class,n.class]));else if(r==="style")t.style=un([t.style,n.style]);else if(ws(r)){const o=t[r],i=n[r];i&&o!==i&&!(K(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=n[r])}return t}function He(e,t,s,n=null){qe(e,t,7,[s,n])}const cl=Yr();let ul=0;function fl(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||cl,o={uid:ul++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Fo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zr(n,r),emitsOptions:lo(n,r),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:n.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Zi.bind(null,o),e.ce&&e.ce(o),o}let Ce=null,vs,tn;{const e=Ts(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};vs=t("__VUE_INSTANCE_SETTERS__",s=>Ce=s),tn=t("__VUE_SSR_SETTERS__",s=>Qt=s)}const ts=e=>{const t=Ce;return vs(e),e.scope.on(),()=>{e.scope.off(),vs(t)}},Yn=()=>{Ce&&Ce.scope.off(),vs(null)};function fo(e){return e.vnode.shapeFlag&4}let Qt=!1;function dl(e,t=!1,s=!1){t&&tn(t);const{props:n,children:r}=e.vnode,o=fo(e);Li(e,n,o,t),Hi(e,r,s||t);const i=o?pl(e,t):void 0;return t&&tn(!1),i}function pl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ki);const{setup:n}=s;if(n){et();const r=e.setupContext=n.length>1?hl(e):null,o=ts(e),i=es(n,e,0,[e.props,r]),l=hr(i);if(tt(),o(),(l||e.sp)&&!kt(e)&&Br(e),l){if(i.then(Yn,Yn),t)return i.then(a=>{Gn(e,a)}).catch(a=>{As(a,e,0)});e.asyncDep=i}else Gn(e,i)}else po(e)}function Gn(e,t,s){q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ue(t)&&(e.setupState=Rr(t)),po(e)}function po(e,t,s){const n=e.type;e.render||(e.render=n.render||ze);{const r=ts(e);et();try{Oi(e)}finally{tt(),r()}}}const gl={get(e,t){return _e(e,"get",""),e[t]}};function hl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,gl),slots:e.slots,emit:e.emit,expose:t}}function Ms(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Rr(ti(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in zt)return zt[s](e)},has(t,s){return s in t||s in zt}})):e.proxy}function ml(e,t=!0){return q(e)?e.displayName||e.name:e.name||t&&e.__name}function vl(e){return q(e)&&"__vccOpts"in e}const ye=(e,t)=>li(e,t,Qt),bl="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sn;const Jn=typeof window<"u"&&window.trustedTypes;if(Jn)try{sn=Jn.createPolicy("vue",{createHTML:e=>e})}catch{}const go=sn?e=>sn.createHTML(e):e=>e,yl="http://www.w3.org/2000/svg",xl="http://www.w3.org/1998/Math/MathML",Xe=typeof document<"u"?document:null,Xn=Xe&&Xe.createElement("template"),wl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?Xe.createElementNS(yl,e):t==="mathml"?Xe.createElementNS(xl,e):s?Xe.createElement(e,{is:s}):Xe.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>Xe.createTextNode(e),createComment:e=>Xe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,o){const i=s?s.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===o||!(r=r.nextSibling)););else{Xn.innerHTML=go(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const l=Xn.content;if(n==="svg"||n==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},_l=Symbol("_vtc");function Cl(e,t,s){const n=e[_l];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Qn=Symbol("_vod"),Sl=Symbol("_vsh"),Tl=Symbol(""),Dl=/(^|;)\s*display\s*:/;function $l(e,t,s){const n=e.style,r=he(s);let o=!1;if(s&&!r){if(t)if(he(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();s[l]==null&&cs(n,l,"")}else for(const i in t)s[i]==null&&cs(n,i,"");for(const i in s)i==="display"&&(o=!0),cs(n,i,s[i])}else if(r){if(t!==s){const i=n[Tl];i&&(s+=";"+i),n.cssText=s,o=Dl.test(s)}}else t&&e.removeAttribute("style");Qn in e&&(e[Qn]=o?n.display:"",e[Sl]&&(n.display="none"))}const Zn=/\s*!important$/;function cs(e,t,s){if(K(s))s.forEach(n=>cs(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Al(e,t);Zn.test(s)?e.setProperty(ht(n),s.replace(Zn,""),"important"):e[n]=s}}const er=["Webkit","Moz","ms"],Hs={};function Al(e,t){const s=Hs[t];if(s)return s;let n=Ne(t);if(n!=="filter"&&n in e)return Hs[t]=n;n=Ss(n);for(let r=0;r<er.length;r++){const o=er[r]+n;if(o in e)return Hs[t]=o}return t}const tr="http://www.w3.org/1999/xlink";function sr(e,t,s,n,r,o=Oo(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(tr,t.slice(6,t.length)):e.setAttributeNS(tr,t,s):s==null||o&&!br(s)?e.removeAttribute(t):e.setAttribute(t,o?"":Ve(s)?String(s):s)}function nr(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?go(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?e.getAttribute("value")||"":e.value,a=s==null?e.type==="checkbox"?"on":"":String(s);(l!==a||!("_value"in e))&&(e.value=a),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=br(s):s==null&&l==="string"?(s="",i=!0):l==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(r||t)}function xt(e,t,s,n){e.addEventListener(t,s,n)}function El(e,t,s,n){e.removeEventListener(t,s,n)}const rr=Symbol("_vei");function kl(e,t,s,n,r=null){const o=e[rr]||(e[rr]={}),i=o[t];if(n&&i)i.value=n;else{const[l,a]=Ol(t);if(n){const h=o[t]=Fl(n,r);xt(e,l,h,a)}else i&&(El(e,l,i,a),o[t]=void 0)}}const or=/(?:Once|Passive|Capture)$/;function Ol(e){let t;if(or.test(e)){t={};let n;for(;n=e.match(or);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ht(e.slice(2)),t]}let Ks=0;const Ml=Promise.resolve(),Il=()=>Ks||(Ml.then(()=>Ks=0),Ks=Date.now());function Fl(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;qe(Pl(n,s.value),t,5,[n])};return s.value=e,s.attached=Il(),s}function Pl(e,t){if(K(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const ir=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Rl=(e,t,s,n,r,o)=>{const i=r==="svg";t==="class"?Cl(e,n,i):t==="style"?$l(e,s,n):ws(t)?ln(t)||kl(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jl(e,t,n,i))?(nr(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&sr(e,t,n,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!he(n))?nr(e,Ne(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),sr(e,t,n,i))};function jl(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ir(t)&&q(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ir(t)&&he(s)?!1:t in e}const bs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return K(t)?s=>os(t,s):t};function Nl(e){e.target.composing=!0}function lr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const It=Symbol("_assign"),dt={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[It]=bs(r);const o=n||r.props&&r.props.type==="number";xt(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;s&&(l=l.trim()),o&&(l=us(l)),e[It](l)}),s&&xt(e,"change",()=>{e.value=e.value.trim()}),t||(xt(e,"compositionstart",Nl),xt(e,"compositionend",lr),xt(e,"change",lr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:o}},i){if(e[It]=bs(i),e.composing)return;const l=(o||e.type==="number")&&!/^0\d/.test(e.value)?us(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===a)||(e.value=a))}},ys={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=_s(t);xt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>s?us(xs(i)):xs(i));e[It](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,Kt(()=>{e._assigning=!1})}),e[It]=bs(n)},mounted(e,{value:t}){ar(e,t)},beforeUpdate(e,t,s){e[It]=bs(s)},updated(e,{value:t}){e._assigning||ar(e,t)}};function ar(e,t){const s=e.multiple,n=K(t);if(!(s&&!n&&!_s(t))){for(let r=0,o=e.options.length;r<o;r++){const i=e.options[r],l=xs(i);if(s)if(n){const a=typeof l;a==="string"||a==="number"?i.selected=t.some(h=>String(h)===String(l)):i.selected=Io(t,l)>-1}else i.selected=t.has(l);else if(Ds(xs(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function xs(e){return"_value"in e?e._value:e.value}const Ll=["ctrl","shift","alt","meta"],Ul={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ll.some(s=>e[`${s}Key`]&&!t.includes(s))},pt=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...o)=>{for(let i=0;i<t.length;i++){const l=Ul[t[i]];if(l&&l(r,t))return}return e(r,...o)})},Vl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bl=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=r=>{if(!("key"in r))return;const o=ht(r.key);if(t.some(i=>i===o||Vl[i]===o))return e(r)})},Hl=Ae({patchProp:Rl},wl);let cr;function Kl(){return cr||(cr=Wi(Hl))}const _u=(...e)=>{const t=Kl().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=zl(n);if(!r)return;const o=t._component;!q(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=s(r,!1,Wl(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Wl(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zl(e){return he(e)?document.querySelector(e):e}const ql="modulepreload",Yl=function(e){return"/budget/"+e},ur={},fr=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){let i=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=i(s.map(h=>{if(h=Yl(h),h in ur)return;ur[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const D=document.createElement("link");if(D.rel=p?"stylesheet":ql,p||(D.as="script"),D.crossOrigin="",D.href=h,a&&D.setAttribute("nonce",a),document.head.appendChild(D),p)return new Promise((A,L)=>{D.addEventListener("load",A),D.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return r.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};class Gl{constructor(){this.parsers={}}async loadParser(t){if(this.parsers[t])return this.parsers[t];try{if(t==="excel"){const{excelParser:s}=await fr(async()=>{const{excelParser:n}=await import("./excel-BYeBRtDZ.js");return{excelParser:n}},[]);return this.parsers.excel=s,s}else if(t==="pdf"){const{pdfParser:s}=await fr(async()=>{const{pdfParser:n}=await import("./pdf-DjtUqXJN.js");return{pdfParser:n}},[]);return this.parsers.pdf=s,s}}catch(s){throw console.error(`Ошибка загрузки парсера ${t}:`,s),new Error(`Не удалось загрузить парсер для ${t}`)}}detectFileType(t){const s=t.name.toLowerCase();if(s.endsWith(".xlsx")||s.endsWith(".xls"))return"excel";if(s.endsWith(".pdf"))return"pdf";if(t.type){if(t.type.includes("spreadsheet")||t.type.includes("excel"))return"excel";if(t.type==="application/pdf")return"pdf"}throw new Error("Неподдерживаемый тип файла. Поддерживаются Excel (.xlsx, .xls) и PDF (.pdf) файлы")}async parseFile(t){try{console.log("🔍 Определение типа файла:",t.name);const s=this.detectFileType(t),n=await this.loadParser(s);if(s==="excel")return await n.parseExcelFile(t);if(s==="pdf")return await n.parsePdfFile(t)}catch(s){throw console.error("Ошибка при парсинге файла:",s),s}}getSupportedFormats(){return[{name:"Excel файлы",extensions:[".xlsx",".xls"],type:"excel"},{name:"PDF файлы",extensions:[".pdf"],type:"pdf"}]}getAcceptString(){return this.getSupportedFormats().map(s=>s.extensions.join(",")).join(",")}}const Ws=new Gl,Jl={class:"space-y-3"},Xl={key:0,class:"space-y-3"},Ql=["accept"],Zl={class:"text-xs text-gray-500"},ea={key:1,class:"space-y-3"},ta={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},sa={class:"flex"},na={class:"text-xs text-red-700 mt-0.5"},ra={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},oa={class:"flex justify-between items-start"},ia={class:"flex"},la={class:"text-xs text-green-700 mt-0.5"},aa={key:0},ca={__name:"FileUpload",props:{accept:{type:String,default:Ws.getAcceptString()},maxSize:{type:Number,default:10*1024*1024}},emits:["file-parsed","error"],setup(e,{emit:t}){const s=e,n=t,r=J(!1),o=J(!1),i=J(null),l=J(null),a=J(null);Rt(()=>{a.value&&(a.value.value="")});const h=ye(()=>({"border-blue-500 bg-blue-50":r.value,"border-gray-300 bg-white":!r.value})),p=H=>{H.preventDefault(),r.value=!0},m=H=>{H.preventDefault(),r.value=!1},D=async H=>{H.preventDefault(),r.value=!1;const F=Array.from(H.dataTransfer.files);F.length>0&&await L(F)},A=async H=>{const F=Array.from(H.target.files);F.length>0&&await L(F)},L=async H=>{try{o.value=!0,l.value=null,i.value=null;const F=[],W=[];for(const I of H)try{if(I.size>s.maxSize)throw new Error(`Файл ${I.name} слишком большой. Максимальный размер: ${s.maxSize/1024/1024}MB`);const B=Ws.getSupportedFormats();if(!B.some(E=>E.extensions.some(y=>I.name.toLowerCase().endsWith(y)))){const E=B.map(y=>y.extensions.join(", ")).join(", ");throw new Error(`Файл ${I.name}: поддерживаются только файлы: ${E}`)}const ne=await Ws.parseFile(I);F.push(ne)}catch(B){console.error(`❌ Ошибка в обработке файла ${I.name}:`,B),W.push({file:I.name,error:B.message})}if(W.length>0){const I=W.map(B=>`${B.file}: ${B.error}`).join(`
`);l.value=`Ошибки обработки:
${I}`,n("error",I)}if(F.length>0)if(F.length===1)i.value=F[0],n("file-parsed",F[0]);else{const I=$(F);i.value=I,n("file-parsed",I)}}catch(F){console.error("❌ Общая ошибка в processFiles:",F),l.value=F.message,n("error",F.message)}finally{o.value=!1}},$=H=>{const F=[],W=[];let I=0;const B=[...new Set(H.map(ne=>ne.bankName).filter(Boolean))],ve=B.length>0?B.join(", "):"Неизвестный банк";for(const ne of H){if(ne.transactions){const E=ne.transactions.map(y=>({...y,bank:y.bank||ne.bank}));F.push(...E),I+=ne.totalTransactions||0}ne.rawData&&W.push(...ne.rawData)}return{bankName:ve,totalTransactions:I,transactions:F,rawData:W,sourceFiles:H.length}},ie=()=>{i.value=null,l.value=null};return(H,F)=>(j(),U("div",Jl,[u("div",{class:ge(["border-2 border-dashed rounded-lg p-6 text-center transition-colors",h.value]),onDragover:p,onDragleave:m,onDrop:D},[!o.value&&!i.value?(j(),U("div",Xl,[F[3]||(F[3]=u("div",{class:"text-4xl text-gray-400"},"📄",-1)),u("div",null,[F[0]||(F[0]=u("h3",{class:"text-base font-medium text-gray-900 mb-2"},"Загрузите банковскую выписку",-1)),F[1]||(F[1]=u("p",{class:"text-sm text-gray-600 mb-3"}," Перетащите файлы сюда или нажмите для выбора (можно выбрать несколько) ",-1)),u("input",{type:"file",accept:e.accept,multiple:"",class:"hidden",onChange:A,id:"file-upload",autocomplete:"off",ref_key:"fileInput",ref:a},null,40,Ql),F[2]||(F[2]=u("label",{for:"file-upload",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer font-medium text-sm shadow-md"}," 📁 Выбрать файлы ",-1))]),u("p",Zl," Поддерживаются Excel (.xlsx, .xls) и PDF (.pdf) файлы до "+V(e.maxSize/1024/1024)+"MB ",1)])):ce("",!0),o.value?(j(),U("div",ea,F[4]||(F[4]=[u("div",{class:"text-4xl text-blue-500"},"⏳",-1),u("h3",{class:"text-base font-medium text-gray-900"},"Обрабатываем файл...",-1),u("p",{class:"text-sm text-gray-600"},"Пожалуйста, подождите",-1)]))):ce("",!0)],34),l.value?(j(),U("div",ta,[u("div",sa,[F[6]||(F[6]=u("div",{class:"text-red-500 text-lg mr-2"},"⚠️",-1)),u("div",null,[F[5]||(F[5]=u("h3",{class:"text-sm font-medium text-red-800"},"Ошибка обработки",-1)),u("p",na,V(l.value),1)])])])):ce("",!0),i.value?(j(),U("div",ra,[u("div",oa,[u("div",ia,[F[8]||(F[8]=u("div",{class:"text-green-500 text-lg mr-2"},"✅",-1)),u("div",null,[F[7]||(F[7]=u("h3",{class:"text-sm font-medium text-green-800"},"Файл успешно обработан",-1)),u("p",la,[i.value.sourceFiles>1?(j(),U("span",aa," Файлов: "+V(i.value.sourceFiles)+" | ",1)):ce("",!0),ut(" Банк: "+V(i.value.bankName)+" | Транзакций: "+V(i.value.totalTransactions),1)])])]),u("button",{onClick:ie,class:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium text-sm"}," 🔄 Загрузить другой файл ")])])):ce("",!0)]))}},$n=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},ua={class:"w-full"},fa={class:"w-full caption-bottom text-sm"},da={class:"border-b bg-gray-50"},pa={class:"divide-y divide-gray-200 min-h-[200px]"},ga={__name:"Table",props:{data:{type:Array,default:()=>[]},striped:{type:Boolean,default:!1},hover:{type:Boolean,default:!0}},setup(e){return(t,s)=>(j(),U("div",ua,[u("table",fa,[u("thead",da,[u("tr",null,[hs(t.$slots,"header",{},void 0,!0)])]),u("tbody",pa,[(j(!0),U(re,null,Le(e.data,(n,r)=>(j(),U("tr",{key:n.id||`${n.date}-${n.description}-${n.amount}-${r}`,class:ge([e.hover&&"hover:bg-gray-50 transition-colors",e.striped&&r%2===1&&"bg-gray-50"])},[hs(t.$slots,"row",{row:n,index:r},void 0,!0)],2))),128))])])]))}},ha=$n(ga,[["__scopeId","data-v-8c842db0"]]),ma={class:"relative"},va={class:"truncate"},ba={key:0,class:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",style:{"min-width":"280px",width:"max-content"}},ya={class:"sticky top-0 bg-white border-b border-gray-200 p-2"},xa={class:"py-1"},wa=["onClick"],_a={key:0,class:"px-3 py-2 text-sm text-gray-500"},Ca={class:"border-t border-gray-200 p-2"},Sa={class:"flex space-x-2"},Ta=["disabled"],ho={__name:"CategorySelect",props:{modelValue:{type:String,default:""},categories:{type:Array,default:()=>[]}},emits:["update:modelValue","category-added"],setup(e,{emit:t}){const s=e,n=t,r=J(!1),o=J(""),i=J(""),l=ye(()=>{let A=s.categories;return o.value&&(A=A.filter(L=>L.toLowerCase().includes(o.value.toLowerCase()))),A});function a(){r.value=!r.value,r.value,o.value="",i.value=""}function h(A){n("update:modelValue",A),r.value=!1,o.value=""}function p(){const A=i.value.trim();A&&!s.categories.includes(A)?(n("category-added",A),n("update:modelValue",A),r.value=!1,i.value="",o.value=""):A&&s.categories.includes(A)&&(n("update:modelValue",A),r.value=!1,i.value="",o.value="")}function m(A){A.target.closest(".relative")||(r.value=!1)}function D(){o.value="",i.value=""}return Rt(()=>{document.addEventListener("click",m),window.addEventListener("categories-updated",D)}),wn(()=>{document.removeEventListener("click",m),window.removeEventListener("categories-updated",D)}),(A,L)=>(j(),U("div",ma,[u("div",{onClick:a,class:ge(["flex items-center justify-between w-full px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",{"border-blue-500 ring-2 ring-blue-500":r.value}])},[u("span",va,V(e.modelValue||"Выберите категорию"),1),(j(),U("svg",{class:ge(["w-4 h-4 text-gray-400 transition-transform",{"rotate-180":r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},L[4]||(L[4]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),r.value?(j(),U("div",ba,[u("div",ya,[Re(u("input",{"onUpdate:modelValue":L[0]||(L[0]=$=>o.value=$),type:"text",placeholder:"Поиск категории...",class:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:L[1]||(L[1]=pt(()=>{},["stop"]))},null,512),[[dt,o.value]])]),u("div",xa,[(j(!0),U(re,null,Le(l.value,$=>(j(),U("div",{key:$,onClick:ie=>h($),class:ge(["px-3 py-2 text-sm cursor-pointer hover:bg-blue-50 hover:text-blue-700 break-words",{"bg-blue-100 text-blue-700":e.modelValue===$}])},V($),11,wa))),128)),l.value.length===0&&o.value.value?(j(),U("div",_a," Категория не найдена. Введите новую категорию ниже. ")):ce("",!0)]),u("div",Ca,[u("div",Sa,[Re(u("input",{"onUpdate:modelValue":L[2]||(L[2]=$=>i.value=$),type:"text",placeholder:"Новая категория...",class:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:L[3]||(L[3]=pt(()=>{},["stop"])),onKeyup:Bl(p,["enter"])},null,544),[[dt,i.value]]),u("button",{onClick:p,disabled:!i.value.trim(),class:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors"}," + ",8,Ta)])])])):ce("",!0)]))}},An="transaction-",mo="categories";function Da(){return An+Date.now()+"-"+Math.random().toString(36).substr(2,9)}function vo(e){if(!e)return"Прочее";const t=e.trim();return t==="Прочие операции"||t==="Прочие"||t==="прочие операции"||t==="прочие"?"Прочее":t}async function bo(e){try{e.bank||console.warn("Транзакция без банка:",e);const t=Da(),n={...{...e,category:vo(e.category),bank:e.bank||"Неизвестный банк",date:e.date instanceof Date?e.date.toISOString():e.date},id:t,createdAt:new Date().toISOString()},r=JSON.parse(JSON.stringify(n));return await rn(t,r),t}catch(t){throw console.error("Ошибка при сохранении транзакции:",t),t}}async function $a(e){try{const t=[];for(const s of e){const n=await bo(s);t.push(n)}return t}catch(t){throw console.error("Ошибка при сохранении транзакций:",t),t}}async function En(){try{const t=(await pr()).filter(n=>typeof n=="string"&&n.startsWith(An)),s=[];for(const n of t){const r=await nn(n);if(r){const o={...r,date:r.date?new Date(r.date):null};s.push(o)}}return s}catch(e){return console.error("Ошибка при получении транзакций:",e),[]}}async function Aa(e){try{const t=await En(),s=[],n=[];for(const r of e)t.some(i=>{const l=$=>$ instanceof Date?$.toISOString().slice(0,10):typeof $=="string"?new Date($).toISOString().slice(0,10):$,a=l(i.date),h=l(r.date),p=a===h,m=i.amount===r.amount,D=i.bank===r.bank,A=(i.description||"").replace(/\s+/g,"").toLowerCase()===(r.description||"").replace(/\s+/g,"").toLowerCase();return p&&m&&D&&A})?s.push(r):n.push(r);return{duplicates:s,uniqueTransactions:n,duplicateCount:s.length,uniqueCount:n.length}}catch(t){throw console.error("Ошибка при проверке дубликатов:",t),t}}async function Ea(e,t){try{const s=await nn(e);if(!s)throw new Error(`Транзакция с ID ${e} не найдена`);const n={...t};n.category!==void 0&&(n.category=vo(n.category));const r={...s,...n,updatedAt:new Date().toISOString()};return await rn(e,r),r}catch(s){throw console.error("Ошибка при обновлении транзакции:",s),s}}async function dr(e){try{return await gr(e),!0}catch(t){throw console.error("Ошибка при удалении транзакции:",t),t}}async function ka(){try{const t=(await pr()).filter(s=>typeof s=="string"&&s.startsWith(An));for(const s of t)await gr(s);return{success:!0,deletedCount:t.length}}catch(e){throw console.error("Ошибка при удалении всех транзакций:",e),e}}async function yo(e){try{const t={categories:e,updatedAt:new Date().toISOString(),version:"1.0"};return await rn(mo,t),!0}catch(t){throw console.error("Ошибка при сохранении категорий:",t),t}}async function Is(){try{const e=await nn(mo);return e&&e.categories?e.categories:null}catch(e){return console.error("Ошибка при получении категорий:",e),null}}async function Oa(e){try{let s=await Is()||[];return s.includes(e)||(s.push(e),s.sort(),await yo(s)),s}catch(t){throw console.error("Ошибка при добавлении категории:",t),t}}async function Ma(){try{const e=await En(),t=await Is(),s={version:"2.0",exportedAt:new Date().toISOString(),format:"transactions",transactions:e,categories:t||[],summary:{totalTransactions:e.length,totalCategories:t?t.length:0,banks:[...new Set(e.map(i=>i.bank))],dateRange:e.length>0?{from:new Date(Math.min(...e.map(i=>new Date(i.date)))),to:new Date(Math.max(...e.map(i=>new Date(i.date))))}:null}},n=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");return o.href=r,o.download=`family-budget-backup-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r),{success:!0,count:e.length,categoriesCount:t?t.length:0}}catch(e){throw console.error("Ошибка при экспорте данных:",e),e}}async function Ia(e){try{const t=typeof e=="string"?JSON.parse(e):e;if(!t.transactions||!Array.isArray(t.transactions))throw new Error("Неверный формат файла: отсутствует массив transactions");let s=0;for(const n of t.transactions)if(n){const{id:r,createdAt:o,updatedAt:i,...l}=n;await bo(l),s++}return t.categories&&Array.isArray(t.categories)&&await yo(t.categories),{success:!0,count:s,categoriesRestored:!!t.categories}}catch(t){throw console.error("Ошибка при импорте данных:",t),t}}const Fa={class:"mb-4"},Pa={class:"text-lg font-semibold text-gray-900"},Ra={class:"text-gray-600 text-sm"},ja={class:"fixed top-2 right-2 z-50 flex flex-col gap-2"},Na={key:0,class:"mb-4 space-y-3"},La={class:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3"},Ua={class:"flex items-center"},Va={class:"text-sm text-blue-700"},Ba={class:"mb-4 flex flex-wrap gap-2 items-end"},Ha=["value"],Ka=["value"],Wa={class:"ml-auto text-xs text-gray-500"},za={key:1,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},qa={class:"flex items-center justify-between"},Ya={class:"flex items-center space-x-4"},Ga={class:"text-sm font-medium text-blue-800"},Ja={class:"w-8"},Xa=["checked","indeterminate"],Qa={key:0},Za={key:0},ec={key:0},tc={key:0},sc={class:"w-8"},nc=["checked","onChange"],rc={class:"whitespace-nowrap"},oc={class:"whitespace-nowrap px-4"},ic=["title","onBlur"],lc=["onBlur"],ac={class:"table-category"},cc=["title","onBlur"],uc={class:"whitespace-nowrap"},fc=["onClick"],dc={class:"p-6"},pc={class:"mb-6"},gc={class:"bg-gray-50 p-3 rounded border"},hc={class:"text-sm"},mc={class:"font-medium"},vc={class:"text-gray-500"},bc={class:"p-6"},yc={class:"mb-6"},xc={class:"text-gray-600 mb-3"},wc={class:"flex space-x-3"},_c={__name:"AllTransactionsTable",props:{transactions:{type:Array,default:()=>[]}},emits:["categoriesUpdated","saveToDatabase"],setup(e,{expose:t,emit:s}){const n=s,r=J([]),o=J(!1),i=J([]),l=J(0),a=J(!1),h=J(null),p=J(!1),m=J(new Set),D=J(!1);async function A(){try{const g=await Is();g&&Array.isArray(g)&&(i.value=g,await Kt(),n("categoriesUpdated"),window.dispatchEvent(new CustomEvent("categories-updated",{detail:{categories:rt.value}})))}catch(g){console.error("Ошибка при загрузке категорий из БД:",g)}}Mt(i,()=>{Kt(()=>{})},{deep:!0});const L=J([]);function $(g,d="info",_=3500){const T=Date.now()+Math.random();L.value.push({id:T,msg:g,type:d}),setTimeout(()=>{L.value=L.value.filter(R=>R.id!==T)},_)}function ie(g){m.value.has(g)?m.value.delete(g):m.value.add(g)}function H(){m.value.clear(),Ee.value.forEach(g=>{m.value.add(W(g))})}function F(){m.value.clear()}function W(g){var d;return`${((d=g.date)==null?void 0:d.getTime())||g.date}-${g.description}-${g.amount}-${g.bank}`}function I(g){return m.value.has(W(g))}function B(){return m.value.size}function ve(){if(m.value.size===0){$("Выберите транзакции для удаления","warning");return}D.value=!0}async function ne(){try{const g=Ee.value.filter(d=>m.value.has(W(d)));if(o.value){const d=g.filter(T=>!T.id);d.length>0&&(console.warn("Найдены транзакции без ID:",d),$("Некоторые транзакции не могут быть удалены (отсутствует ID)","warning"));let _=0;for(const T of g)T.id?(await dr(T.id),_++):console.warn("Транзакция без ID:",T);await ot(),l.value++,_<g.length&&$(`Удалено ${_} из ${g.length} транзакций`,"warning")}else for(const d of g){const _=r.value.findIndex(T=>T.transactions.some(R=>W(R)===W(d)));if(_!==-1){const T=r.value[_].transactions.findIndex(R=>W(R)===W(d));T!==-1&&r.value[_].transactions.splice(T,1)}}m.value.clear(),D.value=!1,l.value++,o.value||$(`Удалено ${g.length} транзакций`,"success")}catch(g){console.error("Ошибка при массовом удалении:",g),$("Ошибка при удалении транзакций","error")}}function E(){D.value=!1}async function y(g){if(!g||!g.transactions)return;if(r.value.some(_=>{var T,R,z,G,fe,de,me,P;return _.fileName===g.fileName&&((R=(T=_.period)==null?void 0:T.from)==null?void 0:R.toString())===((G=(z=g.period)==null?void 0:z.from)==null?void 0:G.toString())&&((de=(fe=_.period)==null?void 0:fe.to)==null?void 0:de.toString())===((P=(me=g.period)==null?void 0:me.to)==null?void 0:P.toString())})){$("Этот файл уже был загружен","warning");return}try{const{uniqueTransactions:_,duplicateCount:T,uniqueCount:R}=await Aa(g.transactions),z={...g,transactions:_},G=Mn(r.value),fe=z.transactions,de=Ps([...G,...fe]).length-Ps(G).length,me=fe.length-de;r.value.push(z),l.value=l.value+1,R>0&&$(`Добавлено новых транзакций: ${R}`,"success"),T>0&&$(`Дубликатов в БД: ${T}`,"warning"),me>0&&$(`Локальных дубликатов: ${me}`,"info"),R===0&&$("Все транзакции уже есть в базе данных","info")}catch(_){console.error("Ошибка при проверке дубликатов:",_),$("Ошибка при проверке дубликатов","error")}}function v(){const g=new Date,d=new Date(g.getFullYear(),0,1);X.value=d.toISOString().split("T")[0],le.value=g.toISOString().split("T")[0]}const N=J(""),Y=J(""),X=J(""),le=J(""),we=J(""),ee=J("date"),Q=J("desc");v();const Z=J(0),Te=ye(()=>(Z.value,Mn(r.value)));function _t(){return Te.value}const Ye=ye(()=>Array.from(new Set(Te.value.map(g=>g.bank))).filter(Boolean)),Pe=ye(()=>Array.from(new Set(Te.value.map(g=>g.category))).filter(Boolean)),rt=ye(()=>{const g=["Продукты","Доставка еды","Кофе","Товары для дома","Кафе и рестораны","Вода","Коты","Кварт.плата","Интернет и телефон","Аптеки","Здоровье","Фитнес","Развлечения","Хобби","Техника","Одежда","Обувь","Аксессуары","Топливо","Машина","Красота","Косметика","Повседневные товары для ухода","Семья","Подарки друзьям","Прочее"],d=Pe.value;return[...new Set([...g,...d,...i.value])].sort()});async function Fs(g){i.value.includes(g)||(i.value.push(g),i.value.sort(),await Kt(),n("categoriesUpdated"),window.dispatchEvent(new CustomEvent("categories-updated",{detail:{categories:rt.value}})));try{await Oa(g),$(`Добавлена новая категория: ${g}`,"success")}catch(d){console.error("Ошибка при сохранении категории в БД:",d),$("Ошибка при сохранении категории","error")}}function Ct(g){if(g instanceof Date)return g;if(typeof g=="string"&&/^\d{2}\.\d{2}\.\d{4}$/.test(g)){const[_,T,R]=g.split(".");return new Date(parseInt(R),parseInt(T)-1,parseInt(_))}const d=new Date(g);return isNaN(d.getTime())?(console.warn("Не удалось распарсить дату:",g),null):d}const Ee=ye(()=>xo(Te.value,{bank:N.value||void 0,category:Y.value||void 0,dateFrom:X.value?Ct(X.value):void 0,dateTo:le.value?Ct(le.value):void 0,search:we.value||void 0},{field:ee.value,direction:Q.value}));function Ge(g){ee.value===g?Q.value=Q.value==="asc"?"desc":"asc":(ee.value=g,Q.value="asc"),l.value=l.value+1}async function jt(){try{let g=0,d=0;for(const _ of r.value){const T=_.transactions.map(R=>({...R,bank:R.bank||_.bank||"Неизвестный банк"}));await $a(T),d+=T.length,g++}$(`Сохранено ${d} транзакций из ${g} выписок в базу`,"success"),await ot(),l.value=l.value+1}catch(g){$("Ошибка при сохранении в базу","error"),console.error("Ошибка сохранения:",g)}}async function ot(){try{const g=await En();if(Array.isArray(g)&&g.length>0){const d=Ps(g);if(d.length<g.length){const T=g.length-d.length;$(`Удалено ${T} дубликатов при загрузке из БД`,"info")}const _={};d.forEach(T=>{const R=T.bank||"Неизвестный банк";_[R]||(_[R]=[]),_[R].push(T)}),r.value=Object.entries(_).map(([T,R])=>({bank:T,totalTransactions:R.length,transactions:R,fileName:`Импортированные транзакции ${T}`,period:{from:new Date(Math.min(...R.map(z=>new Date(z.date)))),to:new Date(Math.max(...R.map(z=>new Date(z.date))))}})),o.value=!0,$(`Загружено ${d.length} уникальных транзакций из IndexedDB`,"success")}else r.value=[],o.value=!0,$("Нет сохраненных транзакций в базе данных","info");await A()}catch(g){$("Ошибка при загрузке из IndexedDB","error"),console.error("Ошибка загрузки из IndexedDB:",g)}}function mt(){r.value=[],o.value=!1}async function kn(){try{const g=await Ma();$(`Экспортировано ${g.count} транзакций`,"success")}catch(g){$("Ошибка при экспорте данных","error"),console.error("Ошибка экспорта:",g)}}async function c(g){const d=g.target.files[0];if(d){try{const _=await d.text(),T=await Ia(_);$(`Импортировано ${T.count} транзакций`,"success"),await ot()}catch(_){$("Ошибка при импорте данных","error"),console.error("Ошибка импорта:",_)}g.target.value=""}}function f(){p.value=!0}async function b(){try{const g=await ka();$(`Удалено ${g.deletedCount} транзакций из базы`,"success"),r.value=[],l.value=l.value+1}catch(g){$("Ошибка при удалении данных","error"),console.error("Ошибка удаления:",g)}finally{p.value=!1}}function C(){p.value=!1}async function x(g,d,_){if(d==="amount"){const T=parseFloat(_.replace(/[^\d\-.,]/g,"").replace(",","."));g.amount=isNaN(T)?0:T}else g[d]=_;if(o.value&&g.id)try{const T=await Ea(g.id,{[d]:g[d]});if(T)for(const R of r.value){const z=R.transactions.findIndex(G=>G.id===g.id);if(z!==-1){R.transactions[z][d]=T[d];break}}l.value=l.value+1,$(`Поле "${d}" обновлено`,"success")}catch(T){console.error("Ошибка при сохранении изменений:",T),$("Ошибка при сохранении изменений","error")}}function w(g){o.value=g,g&&v()}async function M(g){const d={fileName:"Ручной ввод",transactions:[g],period:{from:new Date(g.date),to:new Date(g.date)},meta:{source:"manual",addedAt:new Date().toISOString()}};r.value.push(d),l.value++,$("Транзакция добавлена","success")}function O(g){h.value=g,a.value=!0}async function k(){if(h.value)try{if(o.value)if(h.value.id)await dr(h.value.id),$("Транзакция удалена из базы данных","success"),await ot(),l.value++;else throw new Error("Транзакция не имеет ID для удаления из базы данных");else{for(let g=0;g<r.value.length;g++){const d=r.value[g],_=d.transactions.findIndex(T=>T===h.value);if(_!==-1){d.transactions.splice(_,1),d.transactions.length===0&&r.value.splice(g,1);break}}$("Транзакция удалена из несохраненных данных","success"),l.value++}a.value=!1,h.value=null}catch(g){console.error("Ошибка при удалении транзакции:",g),$("Ошибка при удалении транзакции","error")}}function S(){a.value=!1,h.value=null}return t({addStatement:y,addManualTransaction:M,loadStatementsFromDb:ot,clearStatements:mt,exportData:kn,importData:c,clearAllData:b,showClearAllConfirmation:f,getAllTransactions:_t,getCategories:()=>rt.value,saveAllToDb:jt,setDatabaseMode:w}),(g,d)=>{var _,T,R,z,G,fe,de,me;return j(),U(re,null,[u("div",Fa,[u("h3",Pa,V(o.value?"📊 Все транзакции":"📋 Загруженные данные"),1),u("p",Ra,V(o.value?"Просмотр и анализ всех сохраненных транзакций":"Просмотрите данные перед сохранением в базу"),1)]),u("div",ja,[(j(!0),U(re,null,Le(L.value,P=>(j(),U("div",{key:P.id,class:ge(["px-4 py-2 rounded shadow text-sm",P.type==="success"?"bg-green-100 text-green-800":P.type==="warning"?"bg-yellow-100 text-yellow-800":P.type==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"])},V(P.msg),3))),128))]),!o.value&&r.value.length>0?(j(),U("div",Na,[u("div",La,[u("div",Ua,[d[15]||(d[15]=u("div",{class:"text-blue-600 text-lg mr-2"},"💾",-1)),u("div",null,[d[14]||(d[14]=u("h3",{class:"font-medium text-blue-800"},"Несохраненные данные",-1)),u("p",Va,"Загружено выписок: "+V(r.value.length),1)])]),u("button",{onClick:d[0]||(d[0]=P=>n("saveToDatabase")),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"}," 💾 Сохранить все в базу ")])])):ce("",!0),u("div",Ba,[u("div",null,[d[17]||(d[17]=u("label",{class:"block text-xs mb-1"},"Банк",-1)),Re(u("select",{"onUpdate:modelValue":d[1]||(d[1]=P=>N.value=P),class:"border rounded px-2 py-1 h-8"},[d[16]||(d[16]=u("option",{value:""},"Все",-1)),(j(!0),U(re,null,Le(Ye.value,P=>(j(),U("option",{key:P,value:P},V(P),9,Ha))),128))],512),[[ys,N.value]])]),u("div",null,[d[19]||(d[19]=u("label",{class:"block text-xs mb-1"},"Категория",-1)),Re(u("select",{"onUpdate:modelValue":d[2]||(d[2]=P=>Y.value=P),class:"border rounded px-2 py-1 h-8"},[d[18]||(d[18]=u("option",{value:""},"Все",-1)),(j(!0),U(re,null,Le(rt.value,P=>(j(),U("option",{key:P,value:P},V(P),9,Ka))),128))],512),[[ys,Y.value]])]),u("div",null,[d[20]||(d[20]=u("label",{class:"block text-xs mb-1"},"Дата с",-1)),Re(u("input",{type:"date","onUpdate:modelValue":d[3]||(d[3]=P=>X.value=P),class:"border rounded px-2 py-1 h-8"},null,512),[[dt,X.value]])]),u("div",null,[d[21]||(d[21]=u("label",{class:"block text-xs mb-1"},"Дата по",-1)),Re(u("input",{type:"date","onUpdate:modelValue":d[4]||(d[4]=P=>le.value=P),class:"border rounded px-2 py-1 h-8"},null,512),[[dt,le.value]])]),u("div",null,[d[22]||(d[22]=u("label",{class:"block text-xs mb-1"},"Поиск",-1)),Re(u("input",{type:"text","onUpdate:modelValue":d[5]||(d[5]=P=>we.value=P),placeholder:"Описание, категория...",class:"border rounded px-2 py-1 h-8"},null,512),[[dt,we.value]])]),u("div",Wa,"Показано: "+V(Ee.value.length),1)]),B()>0?(j(),U("div",za,[u("div",qa,[u("div",Ya,[u("span",Ga," Выбрано: "+V(B())+" транзакций ",1),u("button",{onClick:F,class:"text-sm text-blue-600 hover:text-blue-800 underline"}," Снять выделение ")]),u("button",{onClick:ve,class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm"}," Удалить выбранные ("+V(B())+") ",1)])])):ce("",!0),(j(),Ft(ha,{data:Ee.value,key:l.value},{header:ct(()=>[u("th",Ja,[u("input",{type:"checkbox",checked:B()===Ee.value.length&&Ee.value.length>0,indeterminate:B()>0&&B()<Ee.value.length,onChange:d[6]||(d[6]=P=>B()===Ee.value.length?F():H()),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,40,Xa)]),u("th",{class:"cursor-pointer whitespace-nowrap",onClick:d[7]||(d[7]=P=>Ge("date"))},[d[23]||(d[23]=ut(" Дата ")),ee.value==="date"?(j(),U("span",Qa,V(Q.value==="asc"?"▲":"▼"),1)):ce("",!0)]),u("th",{class:"cursor-pointer whitespace-nowrap",onClick:d[8]||(d[8]=P=>Ge("bank"))},[d[24]||(d[24]=ut(" Банк ")),ee.value==="bank"?(j(),U("span",Za,V(Q.value==="asc"?"▲":"▼"),1)):ce("",!0)]),d[27]||(d[27]=u("th",{class:"table-description"},"Описание",-1)),u("th",{class:"cursor-pointer whitespace-nowrap",onClick:d[9]||(d[9]=P=>Ge("amount"))},[d[25]||(d[25]=ut(" Сумма ")),ee.value==="amount"?(j(),U("span",ec,V(Q.value==="asc"?"▲":"▼"),1)):ce("",!0)]),u("th",{class:"cursor-pointer whitespace-nowrap table-category",onClick:d[10]||(d[10]=P=>Ge("category"))},[d[26]||(d[26]=ut(" Категория ")),ee.value==="category"?(j(),U("span",tc,V(Q.value==="asc"?"▲":"▼"),1)):ce("",!0)]),d[28]||(d[28]=u("th",{class:"table-comment min-w-40 max-w-60"},"Комментарий",-1)),d[29]||(d[29]=u("th",{class:"whitespace-nowrap w-16"},"Действия",-1))]),row:ct(({row:P})=>{var it;return[u("td",sc,[u("input",{type:"checkbox",checked:I(P),onChange:ke=>ie(W(P)),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,40,nc)]),u("td",rc,V(P.date?(it=Ct(P.date))==null?void 0:it.toLocaleDateString():""),1),u("td",oc,V(P.bank),1),u("td",{class:"table-description",contenteditable:"",title:P.description,onBlur:ke=>x(P,"description",ke.target.innerText)},V(P.description),41,ic),u("td",{class:ge(P.amount>0?"text-green-600":"text-red-600"),contenteditable:"",onBlur:ke=>x(P,"amount",ke.target.innerText)},V(P.amount>0?"+":"")+V(P.amount.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2})),43,lc),u("td",ac,[(j(),Ft(ho,{modelValue:P.category,"onUpdate:modelValue":[ke=>P.category=ke,ke=>x(P,"category",ke)],categories:rt.value,key:`${P.id||P.date}-${P.description}-${P.amount}-${P.category}-${l.value}`,onCategoryAdded:Fs},null,8,["modelValue","onUpdate:modelValue","categories"]))]),u("td",{class:"table-comment",contenteditable:"",title:P.comment||"",onBlur:ke=>x(P,"comment",ke.target.innerText)},V(P.comment||""),41,cc),u("td",uc,[u("button",{onClick:ke=>O(P),class:"px-2 py-1 bg-red-300 text-white rounded hover:bg-red-500 transition-colors text-xs",title:"Удалить транзакцию"}," 🗑️ ",8,fc)])]}),_:1},8,["data"])),a.value?(j(),U("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:S},[u("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:d[11]||(d[11]=pt(()=>{},["stop"]))},[u("div",dc,[d[31]||(d[31]=u("div",{class:"flex items-center mb-4"},[u("div",{class:"text-red-500 text-2xl mr-3"},"⚠️"),u("h3",{class:"text-lg font-semibold text-gray-900"},"Удалить транзакцию?")],-1)),u("div",pc,[d[30]||(d[30]=u("p",{class:"text-gray-600 mb-3"},"Вы действительно хотите удалить эту транзакцию?",-1)),u("div",gc,[u("div",hc,[u("div",mc,V((_=h.value)==null?void 0:_.description),1),u("div",vc,[ut(V((T=h.value)!=null&&T.date?(R=Ct(h.value.date))==null?void 0:R.toLocaleDateString():"")+" • "+V((z=h.value)==null?void 0:z.bank)+" • ",1),u("span",{class:ge(((G=h.value)==null?void 0:G.amount)>0?"text-green-600":"text-red-600")},V(((fe=h.value)==null?void 0:fe.amount)>0?"+":"")+V((me=(de=h.value)==null?void 0:de.amount)==null?void 0:me.toLocaleString("ru-RU",{style:"currency",currency:"RUB"})),3)])])])]),u("div",{class:"flex space-x-3"},[u("button",{onClick:S,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Отмена "),u("button",{onClick:k,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"}," Удалить ")])])])])):ce("",!0),p.value?(j(),U("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:C},[u("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:d[12]||(d[12]=pt(()=>{},["stop"]))},[u("div",{class:"p-6"},[d[32]||(d[32]=Tn('<div class="flex items-center mb-4" data-v-1952ee9f><div class="text-red-500 text-2xl mr-3" data-v-1952ee9f>🗑️</div><h3 class="text-lg font-semibold text-gray-900" data-v-1952ee9f>Очистить все данные?</h3></div><div class="mb-6" data-v-1952ee9f><p class="text-gray-600 mb-3" data-v-1952ee9f> Вы действительно хотите удалить ВСЕ данные из базы? Это действие нельзя отменить. </p><div class="bg-red-50 p-3 rounded border border-red-200" data-v-1952ee9f><div class="text-sm text-red-700" data-v-1952ee9f><div class="font-medium" data-v-1952ee9f>⚠️ Внимание!</div><div data-v-1952ee9f>Все транзакции, категории и настройки будут безвозвратно удалены.</div></div></div></div>',2)),u("div",{class:"flex space-x-3"},[u("button",{onClick:C,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Отмена "),u("button",{onClick:b,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"}," Очистить все ")])])])])):ce("",!0),D.value?(j(),U("div",{key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:E},[u("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:d[13]||(d[13]=pt(()=>{},["stop"]))},[u("div",bc,[d[34]||(d[34]=u("div",{class:"flex items-center mb-4"},[u("div",{class:"text-red-500 text-2xl mr-3"},"⚠️"),u("h3",{class:"text-lg font-semibold text-gray-900"},"Удалить выбранные транзакции?")],-1)),u("div",yc,[u("p",xc," Вы действительно хотите удалить "+V(B())+" транзакций? Это действие нельзя отменить. ",1),d[33]||(d[33]=u("div",{class:"bg-red-50 p-3 rounded border border-red-200"},[u("div",{class:"text-sm text-red-700"},[u("div",{class:"font-medium"},"⚠️ Внимание!"),u("div",null,"Выбранные транзакции будут безвозвратно удалены.")])],-1))]),u("div",wc,[u("button",{onClick:E,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Отмена "),u("button",{onClick:ne,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"}," Удалить "+V(B()),1)])])])])):ce("",!0)],64)}}},Cc=$n(_c,[["__scopeId","data-v-1952ee9f"]]),Sc={class:"flex justify-between items-center p-6 border-b"},Tc={class:"flex items-center gap-3"},Dc={class:"flex items-center gap-2"},$c=["value"],Ac={class:"p-6 overflow-auto max-h-[calc(90vh-120px)]"},Ec={key:0,class:"text-center py-8"},kc={key:1,class:"mb-4 text-sm text-gray-600"},Oc={key:2,class:"overflow-x-auto"},Mc={class:"min-w-full border-collapse"},Ic={class:"bg-gray-50"},Fc={class:"bg-gray-50"},Pc={class:"border px-3 py-2 font-medium text-gray-900"},Rc={class:"border px-2 py-2 text-right font-semibold bg-green-100 text-gray-900"},jc={class:"border px-2 py-2 text-right font-semibold bg-red-100 text-gray-900"},Nc={class:"bg-gray-100 font-bold"},Lc={class:"border px-2 py-2 text-right bg-green-200 text-gray-900"},Uc={class:"border px-2 py-2 text-right bg-red-200 text-gray-900"},Vc={class:"border px-2 py-2 text-right bg-green-300 text-gray-900"},Bc={class:"border px-2 py-2 text-right bg-red-300 text-gray-900"},Hc={__name:"MonthlyTable",props:{transactions:{type:Array,default:()=>[]}},emits:["close"],setup(e,{expose:t}){const s=e,n=J(""),r=J([]),o=ye(()=>{let E=Object.keys(l.value).sort();n.value&&(E=E.filter(v=>v.startsWith(n.value+"-")));const y={"01":"Январь","02":"Февраль","03":"Март","04":"Апрель","05":"Май","06":"Июнь","07":"Июль","08":"Август","09":"Сентябрь",10:"Октябрь",11:"Ноябрь",12:"Декабрь"};return E.map(v=>{const[N,Y]=v.split("-");return{key:v,label:`${y[Y]} ${N}`,year:N,month:Y}})}),i=ye(()=>{const E=new Set;return Object.keys(l.value).forEach(y=>{const v=y.split("-")[0];E.add(v)}),Array.from(E).sort()}),l=ye(()=>{const E={};return s.transactions.forEach(y=>{if(!y.date||!y.amount)return;const v=I(y.date);if(!v){console.warn("Недопустимая дата для транзакции:",y);return}const N=v.getFullYear(),Y=String(v.getMonth()+1).padStart(2,"0"),X=`${N}-${Y}`,le=y.category||"Прочее";E[X]||(E[X]={}),E[X][le]||(E[X][le]={income:0,expense:0}),y.amount>0?E[X][le].income+=y.amount:E[X][le].expense+=Math.abs(y.amount)}),E}),a=ye(()=>{const E=[];return Object.values(l.value).forEach(y=>{Object.values(y).forEach(v=>{v.income>0&&E.push(v.income)})}),E.length===0?{min:0,max:0}:{min:Math.min(...E),max:Math.max(...E)}}),h=ye(()=>{const E=[];return Object.values(l.value).forEach(y=>{Object.values(y).forEach(v=>{v.expense>0&&E.push(v.expense)})}),E.length===0?{min:0,max:0}:{min:Math.min(...E),max:Math.max(...E)}}),p=J([]),m=ye(()=>{const E=Array.from(new Set(s.transactions.map(v=>v.category))).filter(Boolean);return[...new Set([...p.value,...E])].sort()});Rt(async()=>{await D()});async function D(){try{const E=await Is();E&&(p.value=E,r.value=[...E])}catch(E){console.error("Ошибка при загрузке категорий из БД:",E)}}const A=()=>{const E=Array.from(new Set(s.transactions.map(y=>y.category))).filter(Boolean);r.value=E.sort()};Mt([m,p,()=>s.transactions],()=>{A()},{immediate:!0});function L(E){return Object.values(l.value).reduce((y,v)=>{var N;return y+(((N=v[E])==null?void 0:N.income)||0)},0)}function $(E){return Object.values(l.value).reduce((y,v)=>{var N;return y+(((N=v[E])==null?void 0:N.expense)||0)},0)}function ie(E){const y=l.value[E]||{};return Object.values(y).reduce((v,N)=>v+(N.income||0),0)}function H(E){const y=l.value[E]||{};return Object.values(y).reduce((v,N)=>v+(N.expense||0),0)}function F(){return Object.keys(l.value).reduce((E,y)=>E+ie(y),0)}function W(){return Object.keys(l.value).reduce((E,y)=>E+H(y),0)}function I(E){if(E instanceof Date)return E;if(typeof E=="string"&&/^\d{2}\.\d{2}\.\d{4}$/.test(E)){const[v,N,Y]=E.split(".");return new Date(parseInt(Y),parseInt(N)-1,parseInt(v))}const y=new Date(E);return isNaN(y.getTime())?(console.warn("Не удалось распарсить дату:",E),null):y}function B(E){return E===0?"0":E.toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:0})}function ve(E,y="income"){if(E===0)return"";const v=y==="income"?a.value:h.value;if(v.max===0)return"";const N=E/v.max;return y==="income"?N>=.8?"bg-green-600 text-white font-semibold":N>=.6?"bg-green-500 text-white":N>=.4?"bg-green-400 text-white":N>=.2?"bg-green-300 text-gray-800":"bg-green-100 text-gray-800":N>=.8?"bg-red-600 text-white font-semibold":N>=.6?"bg-red-500 text-white":N>=.4?"bg-red-400 text-white":N>=.2?"bg-red-300 text-gray-800":"bg-red-100 text-gray-800"}function ne(){}return t({refreshCategoriesFromDb:D}),(E,y)=>(j(),U("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:y[3]||(y[3]=v=>E.$emit("close"))},[u("div",{class:"bg-white rounded-lg shadow-xl w-full max-h-[90vh] overflow-hidden",onClick:y[2]||(y[2]=pt(()=>{},["stop"]))},[u("div",Sc,[y[6]||(y[6]=u("h2",{class:"text-2xl font-bold text-gray-900"},"📊 Таблица расходов по месяцам",-1)),u("div",Tc,[u("div",Dc,[y[5]||(y[5]=u("label",{class:"text-sm text-gray-600"},"Год:",-1)),Re(u("select",{"onUpdate:modelValue":y[0]||(y[0]=v=>n.value=v),class:"text-sm border rounded px-2 py-1",onChange:ne},[y[4]||(y[4]=u("option",{value:""},"Все годы",-1)),(j(!0),U(re,null,Le(i.value,v=>(j(),U("option",{key:v,value:v},V(v),9,$c))),128))],544),[[ys,n.value]])]),u("button",{onClick:y[1]||(y[1]=v=>E.$emit("close")),class:"text-gray-400 hover:text-gray-600 text-2xl font-bold"}," × ")])]),u("div",Ac,[!l.value||Object.keys(l.value).length===0?(j(),U("div",Ec,y[7]||(y[7]=[u("p",{class:"text-gray-500"},"Нет данных для отображения",-1)]))):ce("",!0),l.value&&Object.keys(l.value).length>0?(j(),U("div",kc," Всего транзакций: "+V(s.transactions.length)+" | Показано месяцев: "+V(o.value.length)+" | Категорий: "+V(r.value.length),1)):ce("",!0),l.value&&Object.keys(l.value).length>0?(j(),U("div",Oc,[u("table",Mc,[u("thead",null,[u("tr",Ic,[y[8]||(y[8]=u("th",{class:"border px-3 py-2 text-left font-semibold text-gray-700"},"Категория",-1)),(j(!0),U(re,null,Le(o.value,v=>(j(),U("th",{key:v.key,class:"border px-3 py-2 text-center font-semibold text-gray-700",colspan:"2"},V(v.label),1))),128)),y[9]||(y[9]=u("th",{class:"border px-3 py-2 text-center font-semibold text-gray-700",colspan:"2"}," Итого ",-1))]),u("tr",Fc,[y[12]||(y[12]=u("th",{class:"border px-3 py-2 text-left font-semibold text-gray-700"},null,-1)),(j(!0),U(re,null,Le(o.value,v=>(j(),U(re,{key:v.key},[y[10]||(y[10]=u("th",{class:"border px-2 py-1 text-center text-xs font-medium bg-green-100 text-green-800"}," + ",-1)),y[11]||(y[11]=u("th",{class:"border px-2 py-1 text-center text-xs font-medium bg-red-100 text-red-800"}," - ",-1))],64))),128)),y[13]||(y[13]=u("th",{class:"border px-2 py-1 text-center text-xs font-medium bg-green-100 text-green-800"}," + ",-1)),y[14]||(y[14]=u("th",{class:"border px-2 py-1 text-center text-xs font-medium bg-red-100 text-red-800"}," - ",-1))])]),u("tbody",null,[(j(!0),U(re,null,Le(r.value,v=>(j(),U("tr",{key:v,class:"hover:bg-gray-50"},[u("td",Pc,V(v),1),(j(!0),U(re,null,Le(o.value,N=>{var Y,X,le,we,ee,Q,Z,Te;return j(),U(re,{key:N.key},[u("td",{class:ge(["border px-2 py-2 text-right",ve(((X=(Y=l.value[N.key])==null?void 0:Y[v])==null?void 0:X.income)||0,"income")])},V(B(((we=(le=l.value[N.key])==null?void 0:le[v])==null?void 0:we.income)||0)),3),u("td",{class:ge(["border px-2 py-2 text-right",ve(((Q=(ee=l.value[N.key])==null?void 0:ee[v])==null?void 0:Q.expense)||0,"expense")])},V(B(((Te=(Z=l.value[N.key])==null?void 0:Z[v])==null?void 0:Te.expense)||0)),3)],64)}),128)),u("td",Rc,V(B(L(v))),1),u("td",jc,V(B($(v))),1)]))),128)),u("tr",Nc,[y[15]||(y[15]=u("td",{class:"border px-3 py-2 text-gray-900"},"ИТОГО",-1)),(j(!0),U(re,null,Le(o.value,v=>(j(),U(re,{key:v.key},[u("td",Lc,V(B(ie(v.key))),1),u("td",Uc,V(B(H(v.key))),1)],64))),128)),u("td",Vc,V(B(F())),1),u("td",Bc,V(B(W())),1)])])])])):ce("",!0)])])]))}},Kc={class:"p-6"},Wc={class:"flex items-center justify-between mb-4"},zc={class:"flex space-x-3 pt-4"},qc=["disabled"],Yc={__name:"AddTransactionModal",props:{isOpen:{type:Boolean,default:!1},categories:{type:Array,default:()=>[]}},emits:["close","add-transaction"],setup(e,{emit:t}){const s=e,n=t,r=J({date:"",description:"",amount:"",category:"",bank:"Ручной ввод"}),o=ye(()=>r.value.date&&r.value.description.trim()&&r.value.amount!==""&&parseFloat(r.value.amount)!==0);Mt(()=>s.isOpen,l=>{if(l){const a=new Date;r.value.date=a.toISOString().split("T")[0],r.value.description="",r.value.amount="",r.value.category="",r.value.bank="Ручной ввод"}});function i(){if(!o.value)return;const l={date:r.value.date,description:r.value.description.trim(),amount:parseFloat(r.value.amount),category:r.value.category||"Прочее",bank:r.value.bank,raw:`Ручной ввод: ${r.value.description}`,meta:{source:"manual",addedAt:new Date().toISOString()}};n("add-transaction",l),n("close")}return(l,a)=>e.isOpen?(j(),U("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:a[8]||(a[8]=h=>l.$emit("close"))},[u("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:a[7]||(a[7]=pt(()=>{},["stop"]))},[u("div",Kc,[u("div",Wc,[a[9]||(a[9]=u("h2",{class:"text-lg font-semibold text-gray-900"},"➕ Добавить транзакцию",-1)),u("button",{onClick:a[0]||(a[0]=h=>l.$emit("close")),class:"text-gray-400 hover:text-gray-600 transition-colors"}," ✕ ")]),u("form",{onSubmit:pt(i,["prevent"]),class:"space-y-4"},[u("div",null,[a[10]||(a[10]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Дата",-1)),Re(u("input",{"onUpdate:modelValue":a[1]||(a[1]=h=>r.value.date=h),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[dt,r.value.date]])]),u("div",null,[a[11]||(a[11]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Описание",-1)),Re(u("input",{"onUpdate:modelValue":a[2]||(a[2]=h=>r.value.description=h),type:"text",required:"",placeholder:"Введите описание транзакции",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[dt,r.value.description]])]),u("div",null,[a[12]||(a[12]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Сумма",-1)),Re(u("input",{"onUpdate:modelValue":a[3]||(a[3]=h=>r.value.amount=h),type:"number",step:"0.01",required:"",placeholder:"0.00",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[dt,r.value.amount]]),a[13]||(a[13]=u("p",{class:"text-xs text-gray-500 mt-1"}," Положительная сумма = доход, отрицательная = расход ",-1))]),u("div",null,[a[14]||(a[14]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Категория",-1)),pe(ho,{modelValue:r.value.category,"onUpdate:modelValue":a[4]||(a[4]=h=>r.value.category=h),categories:e.categories,placeholder:"Выберите категорию"},null,8,["modelValue","categories"])]),u("div",null,[a[16]||(a[16]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Банк",-1)),Re(u("select",{"onUpdate:modelValue":a[5]||(a[5]=h=>r.value.bank=h),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},a[15]||(a[15]=[Tn('<option value="">Выберите банк</option><option value="Сбербанк">Сбербанк</option><option value="Тинькофф">Тинькофф</option><option value="Озон-банк">Озон-банк</option><option value="Альфа-банк">Альфа-банк</option><option value="Ручной ввод">Ручной ввод</option>',6)]),512),[[ys,r.value.bank]])]),u("div",zc,[u("button",{type:"button",onClick:a[6]||(a[6]=h=>l.$emit("close")),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Отмена "),u("button",{type:"submit",disabled:!o.value,class:ge(["flex-1 px-4 py-2 rounded-lg font-medium transition-colors",o.value?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])}," Добавить ",10,qc)])],32)])])])):ce("",!0)}},Gc={key:0,class:"fixed bottom-4 right-4 z-50 flex gap-2 rounded-lg bg-blue-600 p-3 text-white shadow-lg"},Jc={__name:"PWAInstallButton",setup(e){const t=J(!1),s=J(null);async function n(){if("getInstalledRelatedApps"in navigator)try{(await navigator.getInstalledRelatedApps()).length>0&&(t.value=!1)}catch{}}function r(){s.value&&(s.value.prompt(),s.value.userChoice.then(()=>{t.value=!1}))}return Rt(()=>{n()}),window.addEventListener("beforeinstallprompt",o=>{s.value=o,t.value=!0}),window.addEventListener("appinstalled",()=>{t.value=!1}),(o,i)=>t.value?(j(),U("div",Gc,[u("button",{class:"rounded-md bg-white px-3 py-1 text-sm font-medium text-blue-600 hover:bg-gray-100 transition-colors",onClick:r}," 📱 Установить "),u("button",{class:"rounded-md bg-gray-600 px-3 py-1 text-sm font-medium text-white hover:bg-gray-700 transition-colors",onClick:i[0]||(i[0]=l=>t.value=!1)}," ✕ ")])):ce("",!0)}},Xc=$n(Jc,[["__scopeId","data-v-19fbfc8c"]]),Qc={class:"min-h-screen bg-gray-50"},Zc={class:"w-full max-w-none mx-auto space-y-4 p-4"},eu={class:"bg-white border-b border-gray-200 px-4 py-3"},tu={class:"flex items-center justify-between"},su={class:"flex items-center space-x-3"},nu={key:0,class:"flex items-center"},ru={key:0,class:"fixed top-3 right-3 z-50"},ou={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},iu={class:"text-xs text-gray-500 mb-1"},lu={class:"text-2xl font-bold text-green-600 mb-2"},au={class:"text-xs text-gray-500 mb-1"},cu={class:"text-2xl font-bold text-green-500 mb-2"},uu={class:"text-xs text-gray-500 mb-1"},fu={class:"text-2xl font-bold text-red-500 mb-2"},du={class:"flex space-x-2 mb-4"},pu={key:0},gu={key:1},hu={class:"flex justify-between"},mu={class:"flex flex-wrap gap-2"},vu=["disabled"],Cu={__name:"App",setup(e){const t=J(null),s=J(null),n=J("upload"),r=J(!1),o=J(!1),i=J(!1),l=J(!1);async function a(y){t.value&&t.value.addStatement&&(await t.value.addStatement(y),i.value=!0,l.value=!0,setTimeout(()=>{l.value=!1},5e3))}async function h(){t.value&&t.value.saveAllToDb&&(await t.value.saveAllToDb(),i.value=!1,n.value="database",await D())}function p(){n.value="upload",t.value&&t.value.clearStatements&&t.value.clearStatements(),t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!1),i.value=!1,l.value=!1}function m(){n.value="database",t.value&&t.value.loadStatementsFromDb&&t.value.loadStatementsFromDb(),t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!0),D(),i.value=!1,l.value=!1}async function D(){s.value&&s.value.refreshCategoriesFromDb&&await s.value.refreshCategoriesFromDb()}async function A(){await D()}async function L(y){t.value&&t.value.addManualTransaction&&(await t.value.addManualTransaction(y),i.value=!0)}function $(y){if(y instanceof Date)return y;if(typeof y=="string"&&/^\d{2}\.\d{2}\.\d{4}$/.test(y)){const[N,Y,X]=y.split(".");return new Date(parseInt(X),parseInt(Y)-1,parseInt(N))}const v=new Date(y);return isNaN(v.getTime())?(console.warn("Не удалось распарсить дату:",y),null):v}function ie(y){return Array.isArray(y)?y.reduce((v,N)=>v+(N.amount||0),0):0}function H(y){if(!Array.isArray(y)||y.length===0)return null;const v=new Set;return y.forEach(N=>{if(N.date){const Y=$(N.date);Y&&v.add(Y.getFullYear())}}),v.size===0?null:Math.max(...v)}function F(y){if(!Array.isArray(y)||y.length===0)return 0;const v=H(y);return v?y.filter(Y=>{if(!Y.date)return!1;const X=$(Y.date);if(!X)return!1;const le=X.getFullYear()===v,we=(Y.amount||0)>0;return le&&we}).reduce((Y,X)=>Y+(X.amount||0),0):0}function W(y){if(!Array.isArray(y)||y.length===0)return 0;const v=H(y);return v?y.filter(Y=>{if(!Y.date)return!1;const X=$(Y.date);if(!X)return!1;const le=X.getFullYear()===v,we=(Y.amount||0)<0;return le&&we}).reduce((Y,X)=>Y+Math.abs(X.amount||0),0):0}const I=ye(()=>{var v,N;if(!t.value)return{balance:0,income:0,expenses:0};const y=((N=(v=t.value).getAllTransactions)==null?void 0:N.call(v))||[];return{balance:ie(y),income:F(y),expenses:W(y)}}),B=ye(()=>{var v,N;return t.value?(((N=(v=t.value).getAllTransactions)==null?void 0:N.call(v))||[]).length>0:!1});Rt(async()=>{setTimeout(async()=>{if(t.value&&t.value.loadStatementsFromDb)try{await t.value.loadStatementsFromDb(),n.value="database",t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!0)}catch{t.value&&t.value.clearStatements&&t.value.clearStatements(),t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!1)}},100)});function ve(){t.value&&t.value.exportData&&t.value.exportData()}function ne(){const y=document.createElement("input");y.type="file",y.accept=".json",y.onchange=v=>{t.value&&t.value.importData&&t.value.importData(v)},y.click()}function E(){t.value&&t.value.showClearAllConfirmation&&t.value.showClearAllConfirmation()}return(y,v)=>{var Y,X,le,we;const N=$i("Card");return j(),U("div",Qc,[u("div",Zc,[u("header",eu,[u("div",tu,[u("div",su,[v[5]||(v[5]=u("h1",{class:"text-lg font-bold text-gray-900"},"💰 Семейный бюджет",-1)),i.value?(j(),U("div",nu,v[4]||(v[4]=[u("span",{class:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full"}," ⚠️ Есть несохраненные данные ",-1)]))):ce("",!0)]),v[6]||(v[6]=u("p",{class:"text-xs text-gray-500"},"Local-first PWA для управления финансами",-1))])]),l.value?(j(),U("div",ru,v[7]||(v[7]=[Tn('<div class="bg-green-50 border border-green-200 rounded-lg p-3 shadow-lg max-w-sm"><div class="flex items-center"><div class="text-green-500 text-lg mr-2">✅</div><div><h3 class="font-medium text-green-800 text-sm">Файл успешно загружен</h3><p class="text-xs text-green-700 mt-0.5"> Данные добавлены в таблицу. Не забудьте сохранить их в базу! </p></div></div></div>',1)]))):ce("",!0),u("div",ou,[pe(N,{class:"text-center hover:shadow-lg transition-shadow"},{default:ct(()=>[u("div",iu,V(n.value==="upload"?"📁 Загруженные файлы":"💾 База данных"),1),u("div",lu,V(I.value.balance>=0?"+":"")+V(I.value.balance.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),1),v[8]||(v[8]=u("div",{class:"text-gray-600"},"Общий баланс",-1))]),_:1,__:[8]}),pe(N,{class:"text-center hover:shadow-lg transition-shadow"},{default:ct(()=>[u("div",au,V(n.value==="upload"?"📁 Загруженные файлы":"💾 База данных"),1),u("div",cu,V(I.value.income.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),1),v[9]||(v[9]=u("div",{class:"text-gray-600"},"Доходы за год",-1))]),_:1,__:[9]}),pe(N,{class:"text-center hover:shadow-lg transition-shadow"},{default:ct(()=>[u("div",uu,V(n.value==="upload"?"📁 Загруженные файлы":"💾 База данных"),1),u("div",fu,V(I.value.expenses.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),1),v[10]||(v[10]=u("div",{class:"text-gray-600"},"Расходы за год",-1))]),_:1,__:[10]})]),pe(N,null,{default:ct(()=>[u("div",du,[u("button",{onClick:p,class:ge(["px-4 py-2 rounded-lg font-medium transition-colors text-sm",n.value==="upload"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," 📁 Загрузить файлы ",2),u("button",{onClick:m,class:ge(["px-4 py-2 rounded-lg font-medium transition-colors text-sm",n.value==="database"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," 💾 Мои данные ",2)]),n.value==="upload"?(j(),U("div",pu,[v[11]||(v[11]=u("h2",{class:"text-lg font-semibold text-gray-900 mb-3"}," 📊 Загрузить новую банковскую выписку ",-1)),v[12]||(v[12]=u("p",{class:"text-gray-600 mb-4 text-sm"}," Загрузите Excel или PDF файл с банковской выпиской. После загрузки данные будут отображаться в таблице ниже, где вы сможете их просмотреть и сохранить в базу. ",-1)),v[13]||(v[13]=u("div",{class:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700"},[u("span",{class:"font-medium"},"🏦 Поддерживаемые банки:"),ut(" Сбербанк, Тинькофф, Озон-банк, Альфа-банк ")],-1)),pe(ca,{onFileParsed:a})])):ce("",!0),n.value==="database"?(j(),U("div",gu,[v[17]||(v[17]=u("h2",{class:"text-lg font-semibold text-gray-900 mb-3"},"💾 Мои сохраненные данные",-1)),v[18]||(v[18]=u("p",{class:"text-gray-600 mb-4 text-sm"}," Здесь отображаются все сохраненные выписки из локальной базы данных. Вы можете просматривать, анализировать и экспортировать данные. ",-1)),u("div",hu,[u("div",mu,[u("button",{onClick:v[0]||(v[0]=ee=>r.value=!0),class:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium text-sm"}," 📊 По месяцам "),v[14]||(v[14]=u("div",{class:"w-4"},null,-1)),u("button",{onClick:v[1]||(v[1]=ee=>o.value=!0),class:"px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium text-sm"}," ➕ Добавить "),v[15]||(v[15]=u("div",{class:"w-4"},null,-1)),u("button",{onClick:ve,disabled:!B.value,class:ge(["px-3 py-2 rounded-lg transition-colors font-medium text-sm",B.value?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])}," 📥 Экспорт ",10,vu),u("button",{onClick:ne,class:"px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium text-sm"}," 📤 Импорт "),v[16]||(v[16]=u("div",{class:"w-4"},null,-1))]),u("button",{onClick:E,class:"px-3 py-2 bg-red-300 text-white rounded-lg hover:bg-red-500 transition-colors font-medium text-sm"}," 🗑️ Очистить ")])])):ce("",!0)]),_:1}),pe(N,null,{default:ct(()=>[pe(Cc,{ref_key:"allTable",ref:t,onCategoriesUpdated:A,onSaveToDatabase:h},null,512)]),_:1}),r.value?(j(),Ft(Hc,{key:1,ref_key:"monthlyTable",ref:s,transactions:((X=(Y=t.value)==null?void 0:Y.getAllTransactions)==null?void 0:X.call(Y))||[],onClose:v[2]||(v[2]=ee=>r.value=!1),onCategoriesUpdated:A},null,8,["transactions"])):ce("",!0),pe(Yc,{"is-open":o.value,categories:((we=(le=t.value)==null?void 0:le.getCategories)==null?void 0:we.call(le))||[],onClose:v[3]||(v[3]=ee=>o.value=!1),onAddTransaction:L},null,8,["is-open","categories"]),pe(Xc)])])}}},bu=["disabled"],Su={__name:"Button",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","outline","ghost"].includes(e)},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},disabled:{type:Boolean,default:!1}},setup(e){return(t,s)=>(j(),U("button",{class:ge(["inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e.variant==="primary"&&"bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-blue-500",e.variant==="secondary"&&"bg-gray-100 text-gray-900 hover:bg-gray-200 focus-visible:ring-gray-500",e.variant==="outline"&&"border border-gray-300 bg-transparent hover:bg-gray-50 focus-visible:ring-gray-500",e.variant==="ghost"&&"hover:bg-gray-100 focus-visible:ring-gray-500",e.size==="sm"&&"h-8 px-3 text-sm",e.size==="md"&&"h-10 px-4 py-2",e.size==="lg"&&"h-12 px-8 text-lg"]),disabled:e.disabled},[hs(t.$slots,"default")],10,bu))}},Tu={__name:"Card",props:{padding:{type:String,default:"md",validator:e=>["none","sm","md","lg"].includes(e)}},setup(e){return(t,s)=>(j(),U("div",{class:ge(["rounded-lg border bg-white shadow-sm",e.padding==="none"&&"",e.padding==="sm"&&"p-3",e.padding==="md"&&"p-6",e.padding==="lg"&&"p-8"])},[hs(t.$slots,"default")],2))}},yu=["disabled","placeholder"],Du={__name:"Input",props:{size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(e){return(t,s)=>(j(),U("input",{class:ge(["flex w-full rounded-md border border-gray-300 bg-white px-3 font-medium transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e.size==="sm"&&"h-8 text-sm",e.size==="md"&&"h-10",e.size==="lg"&&"h-12 text-lg"]),disabled:e.disabled,placeholder:e.placeholder,onInput:s[0]||(s[0]=n=>t.$emit("update:modelValue",n.target.value))},null,42,yu))}};export{ha as T,Su as _,Tu as a,Du as b,_u as c,ca as d,Cu as e};
