import{aggregateTransactions as Qs,filterAndSortTransactions as Wo,removeDuplicateTransactions as rs}from"./pdf-BhfaIIxf.js";import{g as Un,s as Ln,k as Fr,d as Pr}from"./database-Boc4ICmW.js";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ks(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const he={},Nt=[],ct=()=>{},Yo=()=>!1,Kn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),As=e=>e.startsWith("onUpdate:"),Le=Object.assign,Es=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},zo=Object.prototype.hasOwnProperty,ce=(e,t)=>zo.call(e,t),J=Array.isArray,Ut=e=>gn(e)==="[object Map]",Hn=e=>gn(e)==="[object Set]",Zs=e=>gn(e)==="[object Date]",Z=e=>typeof e=="function",$e=e=>typeof e=="string",ot=e=>typeof e=="symbol",xe=e=>e!==null&&typeof e=="object",Rr=e=>(xe(e)||Z(e))&&Z(e.then)&&Z(e.catch),jr=Object.prototype.toString,gn=e=>jr.call(e),qo=e=>gn(e).slice(8,-1),Br=e=>gn(e)==="[object Object]",Os=e=>$e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,nn=ks(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Jo=/-(\w)/g,st=Wn(e=>e.replace(Jo,(t,n)=>n?n.toUpperCase():"")),Go=/\B([A-Z])/g,$t=Wn(e=>e.replace(Go,"-$1").toLowerCase()),Yn=Wn(e=>e.charAt(0).toUpperCase()+e.slice(1)),os=Wn(e=>e?`on${Yn(e)}`:""),Tt=(e,t)=>!Object.is(e,t),_n=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ms=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},An=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let er;const zn=()=>er||(er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qn(e){if(J(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=$e(s)?el(s):qn(s);if(r)for(const o in r)t[o]=r[o]}return t}else if($e(e)||xe(e))return e}const Xo=/;(?![^(]*\))/g,Qo=/:([^]+)/,Zo=/\/\*[^]*?\*\//g;function el(e){const t={};return e.replace(Zo,"").split(Xo).forEach(n=>{if(n){const s=n.split(Qo);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function _e(e){let t="";if($e(e))t=e;else if(J(e))for(let n=0;n<e.length;n++){const s=_e(e[n]);s&&(t+=s+" ")}else if(xe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const tl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nl=ks(tl);function Vr(e){return!!e||e===""}function sl(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Jn(e[s],t[s]);return n}function Jn(e,t){if(e===t)return!0;let n=Zs(e),s=Zs(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=ot(e),s=ot(t),n||s)return e===t;if(n=J(e),s=J(t),n||s)return n&&s?sl(e,t):!1;if(n=xe(e),s=xe(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const l in e){const i=e.hasOwnProperty(l),u=t.hasOwnProperty(l);if(i&&!u||!i&&u||!Jn(e[l],t[l]))return!1}}return String(e)===String(t)}function rl(e,t){return e.findIndex(n=>Jn(n,t))}const Nr=e=>!!(e&&e.__v_isRef===!0),N=e=>$e(e)?e:e==null?"":J(e)||xe(e)&&(e.toString===jr||!Z(e.toString))?Nr(e)?N(e.value):JSON.stringify(e,Ur,2):String(e),Ur=(e,t)=>Nr(t)?Ur(e,t.value):Ut(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[ls(s,o)+" =>"]=r,n),{})}:Hn(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ls(n))}:ot(t)?ls(t):xe(t)&&!J(t)&&!Br(t)?String(t):t,ls=(e,t="")=>{var n;return ot(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let He;class ol{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=He,!t&&He&&(this.index=(He.scopes||(He.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=He;try{return He=this,t()}finally{He=n}}}on(){++this._on===1&&(this.prevScope=He,He=this)}off(){this._on>0&&--this._on===0&&(He=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function ll(){return He}let be;const is=new WeakSet;class Lr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,He&&He.active&&He.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,is.has(this)&&(is.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tr(this),Wr(this);const t=be,n=rt;be=this,rt=!0;try{return this.fn()}finally{Yr(this),be=t,rt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fs(t);this.deps=this.depsTail=void 0,tr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?is.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vs(this)&&this.run()}get dirty(){return vs(this)}}let Kr=0,sn,rn;function Hr(e,t=!1){if(e.flags|=8,t){e.next=rn,rn=e;return}e.next=sn,sn=e}function Is(){Kr++}function Ms(){if(--Kr>0)return;if(rn){let t=rn;for(rn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;sn;){let t=sn;for(sn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Wr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Yr(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Fs(s),il(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function vs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(zr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function zr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===un)||(e.globalVersion=un,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!vs(e))))return;e.flags|=2;const t=e.dep,n=be,s=rt;be=e,rt=!0;try{Wr(e);const r=e.fn(e._value);(t.version===0||Tt(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{be=n,rt=s,Yr(e),e.flags&=-3}}function Fs(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Fs(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function il(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let rt=!0;const qr=[];function vt(){qr.push(rt),rt=!1}function bt(){const e=qr.pop();rt=e===void 0?!0:e}function tr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=be;be=void 0;try{t()}finally{be=n}}}let un=0;class al{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ps{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!be||!rt||be===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==be)n=this.activeLink=new al(be,this),be.deps?(n.prevDep=be.depsTail,be.depsTail.nextDep=n,be.depsTail=n):be.deps=be.depsTail=n,Jr(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=be.depsTail,n.nextDep=void 0,be.depsTail.nextDep=n,be.depsTail=n,be.deps===n&&(be.deps=s)}return n}trigger(t){this.version++,un++,this.notify(t)}notify(t){Is();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ms()}}}function Jr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Jr(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const bs=new WeakMap,Pt=Symbol(""),ys=Symbol(""),cn=Symbol("");function Fe(e,t,n){if(rt&&be){let s=bs.get(e);s||bs.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new Ps),r.map=s,r.key=n),r.track()}}function gt(e,t,n,s,r,o){const l=bs.get(e);if(!l){un++;return}const i=u=>{u&&u.trigger()};if(Is(),t==="clear")l.forEach(i);else{const u=J(e),d=u&&Os(n);if(u&&n==="length"){const f=Number(s);l.forEach((m,D)=>{(D==="length"||D===cn||!ot(D)&&D>=f)&&i(m)})}else switch((n!==void 0||l.has(void 0))&&i(l.get(n)),d&&i(l.get(cn)),t){case"add":u?d&&i(l.get("length")):(i(l.get(Pt)),Ut(e)&&i(l.get(ys)));break;case"delete":u||(i(l.get(Pt)),Ut(e)&&i(l.get(ys)));break;case"set":Ut(e)&&i(l.get(Pt));break}}Ms()}function Bt(e){const t=ue(e);return t===e?t:(Fe(t,"iterate",cn),nt(e)?t:t.map(Oe))}function Gn(e){return Fe(e=ue(e),"iterate",cn),e}const ul={__proto__:null,[Symbol.iterator](){return as(this,Symbol.iterator,Oe)},concat(...e){return Bt(this).concat(...e.map(t=>J(t)?Bt(t):t))},entries(){return as(this,"entries",e=>(e[1]=Oe(e[1]),e))},every(e,t){return dt(this,"every",e,t,void 0,arguments)},filter(e,t){return dt(this,"filter",e,t,n=>n.map(Oe),arguments)},find(e,t){return dt(this,"find",e,t,Oe,arguments)},findIndex(e,t){return dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return dt(this,"findLast",e,t,Oe,arguments)},findLastIndex(e,t){return dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return us(this,"includes",e)},indexOf(...e){return us(this,"indexOf",e)},join(e){return Bt(this).join(e)},lastIndexOf(...e){return us(this,"lastIndexOf",e)},map(e,t){return dt(this,"map",e,t,void 0,arguments)},pop(){return Qt(this,"pop")},push(...e){return Qt(this,"push",e)},reduce(e,...t){return nr(this,"reduce",e,t)},reduceRight(e,...t){return nr(this,"reduceRight",e,t)},shift(){return Qt(this,"shift")},some(e,t){return dt(this,"some",e,t,void 0,arguments)},splice(...e){return Qt(this,"splice",e)},toReversed(){return Bt(this).toReversed()},toSorted(e){return Bt(this).toSorted(e)},toSpliced(...e){return Bt(this).toSpliced(...e)},unshift(...e){return Qt(this,"unshift",e)},values(){return as(this,"values",Oe)}};function as(e,t,n){const s=Gn(e),r=s[t]();return s!==e&&!nt(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const cl=Array.prototype;function dt(e,t,n,s,r,o){const l=Gn(e),i=l!==e&&!nt(e),u=l[t];if(u!==cl[t]){const m=u.apply(e,o);return i?Oe(m):m}let d=n;l!==e&&(i?d=function(m,D){return n.call(this,Oe(m),D,e)}:n.length>2&&(d=function(m,D){return n.call(this,m,D,e)}));const f=u.call(l,d,s);return i&&r?r(f):f}function nr(e,t,n,s){const r=Gn(e);let o=n;return r!==e&&(nt(e)?n.length>3&&(o=function(l,i,u){return n.call(this,l,i,u,e)}):o=function(l,i,u){return n.call(this,l,Oe(i),u,e)}),r[t](o,...s)}function us(e,t,n){const s=ue(e);Fe(s,"iterate",cn);const r=s[t](...n);return(r===-1||r===!1)&&Vs(n[0])?(n[0]=ue(n[0]),s[t](...n)):r}function Qt(e,t,n=[]){vt(),Is();const s=ue(e)[t].apply(e,n);return Ms(),bt(),s}const fl=ks("__proto__,__v_isRef,__isVue"),Gr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ot));function dl(e){ot(e)||(e=String(e));const t=ue(this);return Fe(t,"has",e),t.hasOwnProperty(e)}class Xr{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?_l:to:o?eo:Zr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const l=J(t);if(!r){let u;if(l&&(u=ul[n]))return u;if(n==="hasOwnProperty")return dl}const i=Reflect.get(t,n,Re(t)?t:s);return(ot(n)?Gr.has(n):fl(n))||(r||Fe(t,"get",n),o)?i:Re(i)?l&&Os(n)?i:i.value:xe(i)?r?no(i):js(i):i}}class Qr extends Xr{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const u=Dt(o);if(!nt(s)&&!Dt(s)&&(o=ue(o),s=ue(s)),!J(t)&&Re(o)&&!Re(s))return u?!1:(o.value=s,!0)}const l=J(t)&&Os(n)?Number(n)<t.length:ce(t,n),i=Reflect.set(t,n,s,Re(t)?t:r);return t===ue(r)&&(l?Tt(s,o)&&gt(t,"set",n,s):gt(t,"add",n,s)),i}deleteProperty(t,n){const s=ce(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&gt(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!ot(n)||!Gr.has(n))&&Fe(t,"has",n),s}ownKeys(t){return Fe(t,"iterate",J(t)?"length":Pt),Reflect.ownKeys(t)}}class pl extends Xr{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const gl=new Qr,hl=new pl,ml=new Qr(!0);const xs=e=>e,yn=e=>Reflect.getPrototypeOf(e);function vl(e,t,n){return function(...s){const r=this.__v_raw,o=ue(r),l=Ut(o),i=e==="entries"||e===Symbol.iterator&&l,u=e==="keys"&&l,d=r[e](...s),f=n?xs:t?En:Oe;return!t&&Fe(o,"iterate",u?ys:Pt),{next(){const{value:m,done:D}=d.next();return D?{value:m,done:D}:{value:i?[f(m[0]),f(m[1])]:f(m),done:D}},[Symbol.iterator](){return this}}}}function xn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bl(e,t){const n={get(r){const o=this.__v_raw,l=ue(o),i=ue(r);e||(Tt(r,i)&&Fe(l,"get",r),Fe(l,"get",i));const{has:u}=yn(l),d=t?xs:e?En:Oe;if(u.call(l,r))return d(o.get(r));if(u.call(l,i))return d(o.get(i));o!==l&&o.get(r)},get size(){const r=this.__v_raw;return!e&&Fe(ue(r),"iterate",Pt),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,l=ue(o),i=ue(r);return e||(Tt(r,i)&&Fe(l,"has",r),Fe(l,"has",i)),r===i?o.has(r):o.has(r)||o.has(i)},forEach(r,o){const l=this,i=l.__v_raw,u=ue(i),d=t?xs:e?En:Oe;return!e&&Fe(u,"iterate",Pt),i.forEach((f,m)=>r.call(o,d(f),d(m),l))}};return Le(n,e?{add:xn("add"),set:xn("set"),delete:xn("delete"),clear:xn("clear")}:{add(r){!t&&!nt(r)&&!Dt(r)&&(r=ue(r));const o=ue(this);return yn(o).has.call(o,r)||(o.add(r),gt(o,"add",r,r)),this},set(r,o){!t&&!nt(o)&&!Dt(o)&&(o=ue(o));const l=ue(this),{has:i,get:u}=yn(l);let d=i.call(l,r);d||(r=ue(r),d=i.call(l,r));const f=u.call(l,r);return l.set(r,o),d?Tt(o,f)&&gt(l,"set",r,o):gt(l,"add",r,o),this},delete(r){const o=ue(this),{has:l,get:i}=yn(o);let u=l.call(o,r);u||(r=ue(r),u=l.call(o,r)),i&&i.call(o,r);const d=o.delete(r);return u&&gt(o,"delete",r,void 0),d},clear(){const r=ue(this),o=r.size!==0,l=r.clear();return o&&gt(r,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=vl(r,e,t)}),n}function Rs(e,t){const n=bl(e,t);return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(ce(n,r)&&r in s?n:s,r,o)}const yl={get:Rs(!1,!1)},xl={get:Rs(!1,!0)},wl={get:Rs(!0,!1)};const Zr=new WeakMap,eo=new WeakMap,to=new WeakMap,_l=new WeakMap;function Sl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cl(e){return e.__v_skip||!Object.isExtensible(e)?0:Sl(qo(e))}function js(e){return Dt(e)?e:Bs(e,!1,gl,yl,Zr)}function Tl(e){return Bs(e,!1,ml,xl,eo)}function no(e){return Bs(e,!0,hl,wl,to)}function Bs(e,t,n,s,r){if(!xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Cl(e);if(o===0)return e;const l=r.get(e);if(l)return l;const i=new Proxy(e,o===2?s:n);return r.set(e,i),i}function Lt(e){return Dt(e)?Lt(e.__v_raw):!!(e&&e.__v_isReactive)}function Dt(e){return!!(e&&e.__v_isReadonly)}function nt(e){return!!(e&&e.__v_isShallow)}function Vs(e){return e?!!e.__v_raw:!1}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function Dl(e){return!ce(e,"__v_skip")&&Object.isExtensible(e)&&ms(e,"__v_skip",!0),e}const Oe=e=>xe(e)?js(e):e,En=e=>xe(e)?no(e):e;function Re(e){return e?e.__v_isRef===!0:!1}function W(e){return $l(e,!1)}function $l(e,t){return Re(e)?e:new kl(e,t)}class kl{constructor(t,n){this.dep=new Ps,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ue(t),this._value=n?t:Oe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||nt(t)||Dt(t);t=s?t:ue(t),Tt(t,n)&&(this._rawValue=t,this._value=s?t:Oe(t),this.dep.trigger())}}function Sn(e){return Re(e)?e.value:e}const Al={get:(e,t,n)=>t==="__v_raw"?e:Sn(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Re(r)&&!Re(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function so(e){return Lt(e)?e:new Proxy(e,Al)}class El{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ps(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=un-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&be!==this)return Hr(this,!0),!0}get value(){const t=this.dep.track();return zr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ol(e,t,n=!1){let s,r;return Z(e)?s=e:(s=e.get,r=e.set),new El(s,r,n)}const wn={},On=new WeakMap;let Mt;function Il(e,t=!1,n=Mt){if(n){let s=On.get(n);s||On.set(n,s=[]),s.push(e)}}function Ml(e,t,n=he){const{immediate:s,deep:r,once:o,scheduler:l,augmentJob:i,call:u}=n,d=x=>r?x:nt(x)||r===!1||r===0?ht(x,1):ht(x);let f,m,D,$,j=!1,L=!1;if(Re(e)?(m=()=>e.value,j=nt(e)):Lt(e)?(m=()=>d(e),j=!0):J(e)?(L=!0,j=e.some(x=>Lt(x)||nt(x)),m=()=>e.map(x=>{if(Re(x))return x.value;if(Lt(x))return d(x);if(Z(x))return u?u(x,2):x()})):Z(e)?t?m=u?()=>u(e,2):e:m=()=>{if(D){vt();try{D()}finally{bt()}}const x=Mt;Mt=f;try{return u?u(e,3,[$]):e($)}finally{Mt=x}}:m=ct,t&&r){const x=m,ne=r===!0?1/0:r;m=()=>ht(x(),ne)}const X=ll(),V=()=>{f.stop(),X&&X.active&&Es(X.effects,f)};if(o&&t){const x=t;t=(...ne)=>{x(...ne),V()}}let B=L?new Array(e.length).fill(wn):wn;const ee=x=>{if(!(!(f.flags&1)||!f.dirty&&!x))if(t){const ne=f.run();if(r||j||(L?ne.some((Te,fe)=>Tt(Te,B[fe])):Tt(ne,B))){D&&D();const Te=Mt;Mt=f;try{const fe=[ne,B===wn?void 0:L&&B[0]===wn?[]:B,$];B=ne,u?u(t,3,fe):t(...fe)}finally{Mt=Te}}}else f.run()};return i&&i(ee),f=new Lr(m),f.scheduler=l?()=>l(ee,!1):ee,$=x=>Il(x,!1,f),D=f.onStop=()=>{const x=On.get(f);if(x){if(u)u(x,4);else for(const ne of x)ne();On.delete(f)}},t?s?ee(!0):B=f.run():l?l(ee.bind(null,!0),!0):f.run(),V.pause=f.pause.bind(f),V.resume=f.resume.bind(f),V.stop=V,V}function ht(e,t=1/0,n){if(t<=0||!xe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Re(e))ht(e.value,t,n);else if(J(e))for(let s=0;s<e.length;s++)ht(e[s],t,n);else if(Hn(e)||Ut(e))e.forEach(s=>{ht(s,t,n)});else if(Br(e)){for(const s in e)ht(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&ht(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hn(e,t,n,s){try{return s?e(...s):e()}catch(r){Xn(r,t,n)}}function ft(e,t,n,s){if(Z(e)){const r=hn(e,t,n,s);return r&&Rr(r)&&r.catch(o=>{Xn(o,t,n)}),r}if(J(e)){const r=[];for(let o=0;o<e.length;o++)r.push(ft(e[o],t,n,s));return r}}function Xn(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||he;if(t){let i=t.parent;const u=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const f=i.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](e,u,d)===!1)return}i=i.parent}if(o){vt(),hn(o,null,10,[e,u,d]),bt();return}}Fl(e,n,r,s,l)}function Fl(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const Ue=[];let at=-1;const Kt=[];let _t=null,Vt=0;const ro=Promise.resolve();let In=null;function Ht(e){const t=In||ro;return e?t.then(this?e.bind(this):e):t}function Pl(e){let t=at+1,n=Ue.length;for(;t<n;){const s=t+n>>>1,r=Ue[s],o=fn(r);o<e||o===e&&r.flags&2?t=s+1:n=s}return t}function Ns(e){if(!(e.flags&1)){const t=fn(e),n=Ue[Ue.length-1];!n||!(e.flags&2)&&t>=fn(n)?Ue.push(e):Ue.splice(Pl(t),0,e),e.flags|=1,oo()}}function oo(){In||(In=ro.then(io))}function Rl(e){J(e)?Kt.push(...e):_t&&e.id===-1?_t.splice(Vt+1,0,e):e.flags&1||(Kt.push(e),e.flags|=1),oo()}function sr(e,t,n=at+1){for(;n<Ue.length;n++){const s=Ue[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Ue.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function lo(e){if(Kt.length){const t=[...new Set(Kt)].sort((n,s)=>fn(n)-fn(s));if(Kt.length=0,_t){_t.push(...t);return}for(_t=t,Vt=0;Vt<_t.length;Vt++){const n=_t[Vt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}_t=null,Vt=0}}const fn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function io(e){try{for(at=0;at<Ue.length;at++){const t=Ue[at];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),hn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;at<Ue.length;at++){const t=Ue[at];t&&(t.flags&=-2)}at=-1,Ue.length=0,lo(),In=null,(Ue.length||Kt.length)&&io()}}let Ie=null,ao=null;function Mn(e){const t=Ie;return Ie=e,ao=e&&e.type.__scopeId||null,t}function Ct(e,t=Ie,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&pr(-1);const o=Mn(t);let l;try{l=e(...r)}finally{Mn(o),s._d&&pr(1)}return l};return s._n=!0,s._c=!0,s._d=!0,s}function We(e,t){if(Ie===null)return e;const n=ts(Ie),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,l,i,u=he]=t[r];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&ht(l),s.push({dir:o,instance:n,value:l,oldValue:void 0,arg:i,modifiers:u}))}return e}function Ot(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let l=0;l<r.length;l++){const i=r[l];o&&(i.oldValue=o[l].value);let u=i.dir[s];u&&(vt(),ft(u,n,8,[e.el,i,e,t]),bt())}}const jl=Symbol("_vte"),Bl=e=>e.__isTeleport;function Us(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Us(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function uo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function on(e,t,n,s,r=!1){if(J(e)){e.forEach((j,L)=>on(j,t&&(J(t)?t[L]:t),n,s,r));return}if(Wt(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&on(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?ts(s.component):s.el,l=r?null:o,{i,r:u}=e,d=t&&t.r,f=i.refs===he?i.refs={}:i.refs,m=i.setupState,D=ue(m),$=m===he?()=>!1:j=>ce(D,j);if(d!=null&&d!==u&&($e(d)?(f[d]=null,$(d)&&(m[d]=null)):Re(d)&&(d.value=null)),Z(u))hn(u,i,12,[l,f]);else{const j=$e(u),L=Re(u);if(j||L){const X=()=>{if(e.f){const V=j?$(u)?m[u]:f[u]:u.value;r?J(V)&&Es(V,o):J(V)?V.includes(o)||V.push(o):j?(f[u]=[o],$(u)&&(m[u]=f[u])):(u.value=[o],e.k&&(f[e.k]=u.value))}else j?(f[u]=l,$(u)&&(m[u]=l)):L&&(u.value=l,e.k&&(f[e.k]=l))};l?(X.id=-1,Xe(X,n)):X()}}}zn().requestIdleCallback;zn().cancelIdleCallback;const Wt=e=>!!e.type.__asyncLoader,co=e=>e.type.__isKeepAlive;function Vl(e,t){fo(e,"a",t)}function Nl(e,t){fo(e,"da",t)}function fo(e,t,n=Pe){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Qn(t,s,n),n){let r=n.parent;for(;r&&r.parent;)co(r.parent.vnode)&&Ul(s,t,n,r),r=r.parent}}function Ul(e,t,n,s){const r=Qn(t,e,s,!0);Ls(()=>{Es(s[t],r)},n)}function Qn(e,t,n=Pe,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...l)=>{vt();const i=mn(n),u=ft(t,n,e,l);return i(),bt(),u});return s?r.unshift(o):r.push(o),o}}const xt=e=>(t,n=Pe)=>{(!pn||e==="sp")&&Qn(e,(...s)=>t(...s),n)},Ll=xt("bm"),Gt=xt("m"),Kl=xt("bu"),Hl=xt("u"),Wl=xt("bum"),Ls=xt("um"),Yl=xt("sp"),zl=xt("rtg"),ql=xt("rtc");function Jl(e,t=Pe){Qn("ec",e,t)}const Gl="components";function Xl(e,t){return Zl(Gl,e,!0,t)||e}const Ql=Symbol.for("v-ndc");function Zl(e,t,n=!0,s=!1){const r=Ie||Pe;if(r){const o=r.type;{const i=Ni(o,!1);if(i&&(i===t||i===st(t)||i===Yn(st(t))))return o}const l=rr(r[e]||o[e],t)||rr(r.appContext[e],t);return!l&&s?o:l}}function rr(e,t){return e&&(e[t]||e[st(t)]||e[Yn(st(t))])}function Qe(e,t,n,s){let r;const o=n,l=J(e);if(l||$e(e)){const i=l&&Lt(e);let u=!1,d=!1;i&&(u=!nt(e),d=Dt(e),e=Gn(e)),r=new Array(e.length);for(let f=0,m=e.length;f<m;f++)r[f]=t(u?d?En(Oe(e[f])):Oe(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o)}else if(xe(e))if(e[Symbol.iterator])r=Array.from(e,(i,u)=>t(i,u,void 0,o));else{const i=Object.keys(e);r=new Array(i.length);for(let u=0,d=i.length;u<d;u++){const f=i[u];r[u]=t(e[f],f,u,o)}}else r=[];return r}function Fn(e,t,n={},s,r){if(Ie.ce||Ie.parent&&Wt(Ie.parent)&&Ie.parent.ce)return t!=="default"&&(n.name=t),M(),Rt(ye,null,[ge("slot",n,s)],64);let o=e[t];o&&o._c&&(o._d=!1),M();const l=o&&po(o(n)),i=n.key||l&&l.key,u=Rt(ye,{key:(i&&!ot(i)?i:`_${t}`)+""},l||[],l&&e._===1?64:-2);return!r&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function po(e){return e.some(t=>Ws(t)?!(t.type===yt||t.type===ye&&!po(t.children)):!0)?e:null}const ws=e=>e?Fo(e)?ts(e):ws(e.parent):null,ln=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ws(e.parent),$root:e=>ws(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ho(e),$forceUpdate:e=>e.f||(e.f=()=>{Ns(e.update)}),$nextTick:e=>e.n||(e.n=Ht.bind(e.proxy)),$watch:e=>wi.bind(e)}),cs=(e,t)=>e!==he&&!e.__isScriptSetup&&ce(e,t),ei={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:l,type:i,appContext:u}=e;let d;if(t[0]!=="$"){const $=l[t];if($!==void 0)switch($){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(cs(s,t))return l[t]=1,s[t];if(r!==he&&ce(r,t))return l[t]=2,r[t];if((d=e.propsOptions[0])&&ce(d,t))return l[t]=3,o[t];if(n!==he&&ce(n,t))return l[t]=4,n[t];_s&&(l[t]=0)}}const f=ln[t];let m,D;if(f)return t==="$attrs"&&Fe(e.attrs,"get",""),f(e);if((m=i.__cssModules)&&(m=m[t]))return m;if(n!==he&&ce(n,t))return l[t]=4,n[t];if(D=u.config.globalProperties,ce(D,t))return D[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return cs(r,t)?(r[t]=n,!0):s!==he&&ce(s,t)?(s[t]=n,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},l){let i;return!!n[l]||e!==he&&ce(e,l)||cs(t,l)||(i=o[0])&&ce(i,l)||ce(s,l)||ce(ln,l)||ce(r.config.globalProperties,l)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ce(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function or(e){return J(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let _s=!0;function ti(e){const t=ho(e),n=e.proxy,s=e.ctx;_s=!1,t.beforeCreate&&lr(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:l,watch:i,provide:u,inject:d,created:f,beforeMount:m,mounted:D,beforeUpdate:$,updated:j,activated:L,deactivated:X,beforeDestroy:V,beforeUnmount:B,destroyed:ee,unmounted:x,render:ne,renderTracked:Te,renderTriggered:fe,errorCaptured:re,serverPrefetch:Ee,expose:we,inheritAttrs:z,components:F,directives:ie,filters:de}=t;if(d&&ni(d,s,null),l)for(const v in l){const _=l[v];Z(_)&&(s[v]=_.bind(n))}if(r){const v=r.call(n,n);xe(v)&&(e.data=js(v))}if(_s=!0,o)for(const v in o){const _=o[v],Q=Z(_)?_.bind(n,n):Z(_.get)?_.get.bind(n,n):ct,G=!Z(_)&&Z(_.set)?_.set.bind(n):ct,De=Ce({get:Q,set:G});Object.defineProperty(s,v,{enumerable:!0,configurable:!0,get:()=>De.value,set:me=>De.value=me})}if(i)for(const v in i)go(i[v],s,n,v);if(u){const v=Z(u)?u.call(n):u;Reflect.ownKeys(v).forEach(_=>{ai(_,v[_])})}f&&lr(f,e,"c");function y(v,_){J(_)?_.forEach(Q=>v(Q.bind(n))):_&&v(_.bind(n))}if(y(Ll,m),y(Gt,D),y(Kl,$),y(Hl,j),y(Vl,L),y(Nl,X),y(Jl,re),y(ql,Te),y(zl,fe),y(Wl,B),y(Ls,x),y(Yl,Ee),J(we))if(we.length){const v=e.exposed||(e.exposed={});we.forEach(_=>{Object.defineProperty(v,_,{get:()=>n[_],set:Q=>n[_]=Q})})}else e.exposed||(e.exposed={});ne&&e.render===ct&&(e.render=ne),z!=null&&(e.inheritAttrs=z),F&&(e.components=F),ie&&(e.directives=ie),Ee&&uo(e)}function ni(e,t,n=ct){J(e)&&(e=Ss(e));for(const s in e){const r=e[s];let o;xe(r)?"default"in r?o=Cn(r.from||s,r.default,!0):o=Cn(r.from||s):o=Cn(r),Re(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[s]=o}}function lr(e,t,n){ft(J(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function go(e,t,n,s){let r=s.includes(".")?ko(n,s):()=>n[s];if($e(e)){const o=t[e];Z(o)&&zt(r,o)}else if(Z(e))zt(r,e.bind(n));else if(xe(e))if(J(e))e.forEach(o=>go(o,t,n,s));else{const o=Z(e.handler)?e.handler.bind(n):t[e.handler];Z(o)&&zt(r,o,e)}}function ho(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,i=o.get(t);let u;return i?u=i:!r.length&&!n&&!s?u=t:(u={},r.length&&r.forEach(d=>Pn(u,d,l,!0)),Pn(u,t,l)),xe(t)&&o.set(t,u),u}function Pn(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&Pn(e,o,n,!0),r&&r.forEach(l=>Pn(e,l,n,!0));for(const l in t)if(!(s&&l==="expose")){const i=si[l]||n&&n[l];e[l]=i?i(e[l],t[l]):t[l]}return e}const si={data:ir,props:ar,emits:ar,methods:en,computed:en,beforeCreate:Ne,created:Ne,beforeMount:Ne,mounted:Ne,beforeUpdate:Ne,updated:Ne,beforeDestroy:Ne,beforeUnmount:Ne,destroyed:Ne,unmounted:Ne,activated:Ne,deactivated:Ne,errorCaptured:Ne,serverPrefetch:Ne,components:en,directives:en,watch:oi,provide:ir,inject:ri};function ir(e,t){return t?e?function(){return Le(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function ri(e,t){return en(Ss(e),Ss(t))}function Ss(e){if(J(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ne(e,t){return e?[...new Set([].concat(e,t))]:t}function en(e,t){return e?Le(Object.create(null),e,t):t}function ar(e,t){return e?J(e)&&J(t)?[...new Set([...e,...t])]:Le(Object.create(null),or(e),or(t??{})):t}function oi(e,t){if(!e)return t;if(!t)return e;const n=Le(Object.create(null),e);for(const s in t)n[s]=Ne(e[s],t[s]);return n}function mo(){return{app:null,config:{isNativeTag:Yo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let li=0;function ii(e,t){return function(s,r=null){Z(s)||(s=Le({},s)),r!=null&&!xe(r)&&(r=null);const o=mo(),l=new WeakSet,i=[];let u=!1;const d=o.app={_uid:li++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:Li,get config(){return o.config},set config(f){},use(f,...m){return l.has(f)||(f&&Z(f.install)?(l.add(f),f.install(d,...m)):Z(f)&&(l.add(f),f(d,...m))),d},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),d},component(f,m){return m?(o.components[f]=m,d):o.components[f]},directive(f,m){return m?(o.directives[f]=m,d):o.directives[f]},mount(f,m,D){if(!u){const $=d._ceVNode||ge(s,r);return $.appContext=o,D===!0?D="svg":D===!1&&(D=void 0),e($,f,D),u=!0,d._container=f,f.__vue_app__=d,ts($.component)}},onUnmount(f){i.push(f)},unmount(){u&&(ft(i,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(f,m){return o.provides[f]=m,d},runWithContext(f){const m=Yt;Yt=d;try{return f()}finally{Yt=m}}};return d}}let Yt=null;function ai(e,t){if(Pe){let n=Pe.provides;const s=Pe.parent&&Pe.parent.provides;s===n&&(n=Pe.provides=Object.create(s)),n[e]=t}}function Cn(e,t,n=!1){const s=Pe||Ie;if(s||Yt){let r=Yt?Yt._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Z(t)?t.call(s&&s.proxy):t}}const vo={},bo=()=>Object.create(vo),yo=e=>Object.getPrototypeOf(e)===vo;function ui(e,t,n,s=!1){const r={},o=bo();e.propsDefaults=Object.create(null),xo(e,t,r,o);for(const l in e.propsOptions[0])l in r||(r[l]=void 0);n?e.props=s?r:Tl(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function ci(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:l}}=e,i=ue(r),[u]=e.propsOptions;let d=!1;if((s||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let m=0;m<f.length;m++){let D=f[m];if(Zn(e.emitsOptions,D))continue;const $=t[D];if(u)if(ce(o,D))$!==o[D]&&(o[D]=$,d=!0);else{const j=st(D);r[j]=Cs(u,i,j,$,e,!1)}else $!==o[D]&&(o[D]=$,d=!0)}}}else{xo(e,t,r,o)&&(d=!0);let f;for(const m in i)(!t||!ce(t,m)&&((f=$t(m))===m||!ce(t,f)))&&(u?n&&(n[m]!==void 0||n[f]!==void 0)&&(r[m]=Cs(u,i,m,void 0,e,!0)):delete r[m]);if(o!==i)for(const m in o)(!t||!ce(t,m))&&(delete o[m],d=!0)}d&&gt(e.attrs,"set","")}function xo(e,t,n,s){const[r,o]=e.propsOptions;let l=!1,i;if(t)for(let u in t){if(nn(u))continue;const d=t[u];let f;r&&ce(r,f=st(u))?!o||!o.includes(f)?n[f]=d:(i||(i={}))[f]=d:Zn(e.emitsOptions,u)||(!(u in s)||d!==s[u])&&(s[u]=d,l=!0)}if(o){const u=ue(n),d=i||he;for(let f=0;f<o.length;f++){const m=o[f];n[m]=Cs(r,u,m,d[m],e,!ce(d,m))}}return l}function Cs(e,t,n,s,r,o){const l=e[n];if(l!=null){const i=ce(l,"default");if(i&&s===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&Z(u)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const f=mn(r);s=d[n]=u.call(null,t),f()}}else s=u;r.ce&&r.ce._setProp(n,s)}l[0]&&(o&&!i?s=!1:l[1]&&(s===""||s===$t(n))&&(s=!0))}return s}const fi=new WeakMap;function wo(e,t,n=!1){const s=n?fi:t.propsCache,r=s.get(e);if(r)return r;const o=e.props,l={},i=[];let u=!1;if(!Z(e)){const f=m=>{u=!0;const[D,$]=wo(m,t,!0);Le(l,D),$&&i.push(...$)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!u)return xe(e)&&s.set(e,Nt),Nt;if(J(o))for(let f=0;f<o.length;f++){const m=st(o[f]);ur(m)&&(l[m]=he)}else if(o)for(const f in o){const m=st(f);if(ur(m)){const D=o[f],$=l[m]=J(D)||Z(D)?{type:D}:Le({},D),j=$.type;let L=!1,X=!0;if(J(j))for(let V=0;V<j.length;++V){const B=j[V],ee=Z(B)&&B.name;if(ee==="Boolean"){L=!0;break}else ee==="String"&&(X=!1)}else L=Z(j)&&j.name==="Boolean";$[0]=L,$[1]=X,(L||ce($,"default"))&&i.push(m)}}const d=[l,i];return xe(e)&&s.set(e,d),d}function ur(e){return e[0]!=="$"&&!nn(e)}const Ks=e=>e[0]==="_"||e==="$stable",Hs=e=>J(e)?e.map(ut):[ut(e)],di=(e,t,n)=>{if(t._n)return t;const s=Ct((...r)=>Hs(t(...r)),n);return s._c=!1,s},_o=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Ks(r))continue;const o=e[r];if(Z(o))t[r]=di(r,o,s);else if(o!=null){const l=Hs(o);t[r]=()=>l}}},So=(e,t)=>{const n=Hs(t);e.slots.default=()=>n},Co=(e,t,n)=>{for(const s in t)(n||!Ks(s))&&(e[s]=t[s])},pi=(e,t,n)=>{const s=e.slots=bo();if(e.vnode.shapeFlag&32){const r=t.__;r&&ms(s,"__",r,!0);const o=t._;o?(Co(s,t,n),n&&ms(s,"_",o,!0)):_o(t,s)}else t&&So(e,t)},gi=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,l=he;if(s.shapeFlag&32){const i=t._;i?n&&i===1?o=!1:Co(r,t,n):(o=!t.$stable,_o(t,r)),l=t}else t&&(So(e,t),l={default:1});if(o)for(const i in r)!Ks(i)&&l[i]==null&&delete r[i]},Xe=ki;function hi(e){return mi(e)}function mi(e,t){const n=zn();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:l,createText:i,createComment:u,setText:d,setElementText:f,parentNode:m,nextSibling:D,setScopeId:$=ct,insertStaticContent:j}=e,L=(c,g,b,T=null,w=null,C=null,O=void 0,k=null,A=!!g.dynamicChildren)=>{if(c===g)return;c&&!Zt(c,g)&&(T=qe(c),me(c,w,C,!0),c=null),g.patchFlag===-2&&(A=!1,g.dynamicChildren=null);const{type:S,ref:H,shapeFlag:I}=g;switch(S){case es:X(c,g,b,T);break;case yt:V(c,g,b,T);break;case Tn:c==null&&B(g,b,T,O);break;case ye:F(c,g,b,T,w,C,O,k,A);break;default:I&1?ne(c,g,b,T,w,C,O,k,A):I&6?ie(c,g,b,T,w,C,O,k,A):(I&64||I&128)&&S.process(c,g,b,T,w,C,O,k,A,kt)}H!=null&&w?on(H,c&&c.ref,C,g||c,!g):H==null&&c&&c.ref!=null&&on(c.ref,null,C,c,!0)},X=(c,g,b,T)=>{if(c==null)s(g.el=i(g.children),b,T);else{const w=g.el=c.el;g.children!==c.children&&d(w,g.children)}},V=(c,g,b,T)=>{c==null?s(g.el=u(g.children||""),b,T):g.el=c.el},B=(c,g,b,T)=>{[c.el,c.anchor]=j(c.children,g,b,T,c.el,c.anchor)},ee=({el:c,anchor:g},b,T)=>{let w;for(;c&&c!==g;)w=D(c),s(c,b,T),c=w;s(g,b,T)},x=({el:c,anchor:g})=>{let b;for(;c&&c!==g;)b=D(c),r(c),c=b;r(g)},ne=(c,g,b,T,w,C,O,k,A)=>{g.type==="svg"?O="svg":g.type==="math"&&(O="mathml"),c==null?Te(g,b,T,w,C,O,k,A):Ee(c,g,w,C,O,k,A)},Te=(c,g,b,T,w,C,O,k)=>{let A,S;const{props:H,shapeFlag:I,transition:U,dirs:q}=c;if(A=c.el=l(c.type,C,H&&H.is,H),I&8?f(A,c.children):I&16&&re(c.children,A,null,T,w,fs(c,C),O,k),q&&Ot(c,null,T,"created"),fe(A,c,c.scopeId,O,T),H){for(const oe in H)oe!=="value"&&!nn(oe)&&o(A,oe,null,H[oe],C,T);"value"in H&&o(A,"value",null,H.value,C),(S=H.onVnodeBeforeMount)&&it(S,T,c)}q&&Ot(c,null,T,"beforeMount");const se=vi(w,U);se&&U.beforeEnter(A),s(A,g,b),((S=H&&H.onVnodeMounted)||se||q)&&Xe(()=>{S&&it(S,T,c),se&&U.enter(A),q&&Ot(c,null,T,"mounted")},w)},fe=(c,g,b,T,w)=>{if(b&&$(c,b),T)for(let C=0;C<T.length;C++)$(c,T[C]);if(w){let C=w.subTree;if(g===C||Eo(C.type)&&(C.ssContent===g||C.ssFallback===g)){const O=w.vnode;fe(c,O,O.scopeId,O.slotScopeIds,w.parent)}}},re=(c,g,b,T,w,C,O,k,A=0)=>{for(let S=A;S<c.length;S++){const H=c[S]=k?St(c[S]):ut(c[S]);L(null,H,g,b,T,w,C,O,k)}},Ee=(c,g,b,T,w,C,O)=>{const k=g.el=c.el;let{patchFlag:A,dynamicChildren:S,dirs:H}=g;A|=c.patchFlag&16;const I=c.props||he,U=g.props||he;let q;if(b&&It(b,!1),(q=U.onVnodeBeforeUpdate)&&it(q,b,g,c),H&&Ot(g,c,b,"beforeUpdate"),b&&It(b,!0),(I.innerHTML&&U.innerHTML==null||I.textContent&&U.textContent==null)&&f(k,""),S?we(c.dynamicChildren,S,k,b,T,fs(g,w),C):O||_(c,g,k,null,b,T,fs(g,w),C,!1),A>0){if(A&16)z(k,I,U,b,w);else if(A&2&&I.class!==U.class&&o(k,"class",null,U.class,w),A&4&&o(k,"style",I.style,U.style,w),A&8){const se=g.dynamicProps;for(let oe=0;oe<se.length;oe++){const te=se[oe],ke=I[te],Me=U[te];(Me!==ke||te==="value")&&o(k,te,ke,Me,w,b)}}A&1&&c.children!==g.children&&f(k,g.children)}else!O&&S==null&&z(k,I,U,b,w);((q=U.onVnodeUpdated)||H)&&Xe(()=>{q&&it(q,b,g,c),H&&Ot(g,c,b,"updated")},T)},we=(c,g,b,T,w,C,O)=>{for(let k=0;k<g.length;k++){const A=c[k],S=g[k],H=A.el&&(A.type===ye||!Zt(A,S)||A.shapeFlag&198)?m(A.el):b;L(A,S,H,null,T,w,C,O,!0)}},z=(c,g,b,T,w)=>{if(g!==b){if(g!==he)for(const C in g)!nn(C)&&!(C in b)&&o(c,C,g[C],null,w,T);for(const C in b){if(nn(C))continue;const O=b[C],k=g[C];O!==k&&C!=="value"&&o(c,C,k,O,w,T)}"value"in b&&o(c,"value",g.value,b.value,w)}},F=(c,g,b,T,w,C,O,k,A)=>{const S=g.el=c?c.el:i(""),H=g.anchor=c?c.anchor:i("");let{patchFlag:I,dynamicChildren:U,slotScopeIds:q}=g;q&&(k=k?k.concat(q):q),c==null?(s(S,b,T),s(H,b,T),re(g.children||[],b,H,w,C,O,k,A)):I>0&&I&64&&U&&c.dynamicChildren?(we(c.dynamicChildren,U,b,w,C,O,k),(g.key!=null||w&&g===w.subTree)&&To(c,g,!0)):_(c,g,b,H,w,C,O,k,A)},ie=(c,g,b,T,w,C,O,k,A)=>{g.slotScopeIds=k,c==null?g.shapeFlag&512?w.ctx.activate(g,b,T,O,A):de(g,b,T,w,C,O,A):Se(c,g,A)},de=(c,g,b,T,w,C,O)=>{const k=c.component=Pi(c,T,w);if(co(c)&&(k.ctx.renderer=kt),Ri(k,!1,O),k.asyncDep){if(w&&w.registerDep(k,y,O),!c.el){const A=k.subTree=ge(yt);V(null,A,g,b)}}else y(k,c,g,b,w,C,O)},Se=(c,g,b)=>{const T=g.component=c.component;if(Di(c,g,b))if(T.asyncDep&&!T.asyncResolved){v(T,g,b);return}else T.next=g,T.update();else g.el=c.el,T.vnode=g},y=(c,g,b,T,w,C,O)=>{const k=()=>{if(c.isMounted){let{next:I,bu:U,u:q,parent:se,vnode:oe}=c;{const et=Do(c);if(et){I&&(I.el=oe.el,v(c,I,O)),et.asyncDep.then(()=>{c.isUnmounted||k()});return}}let te=I,ke;It(c,!1),I?(I.el=oe.el,v(c,I,O)):I=oe,U&&_n(U),(ke=I.props&&I.props.onVnodeBeforeUpdate)&&it(ke,se,I,oe),It(c,!0);const Me=fr(c),Ae=c.subTree;c.subTree=Me,L(Ae,Me,m(Ae.el),qe(Ae),c,w,C),I.el=Me.el,te===null&&$i(c,Me.el),q&&Xe(q,w),(ke=I.props&&I.props.onVnodeUpdated)&&Xe(()=>it(ke,se,I,oe),w)}else{let I;const{el:U,props:q}=g,{bm:se,m:oe,parent:te,root:ke,type:Me}=c,Ae=Wt(g);It(c,!1),se&&_n(se),!Ae&&(I=q&&q.onVnodeBeforeMount)&&it(I,te,g),It(c,!0);{ke.ce&&ke.ce._def.shadowRoot!==!1&&ke.ce._injectChildStyle(Me);const et=c.subTree=fr(c);L(null,et,b,T,c,w,C),g.el=et.el}if(oe&&Xe(oe,w),!Ae&&(I=q&&q.onVnodeMounted)){const et=g;Xe(()=>it(I,te,et),w)}(g.shapeFlag&256||te&&Wt(te.vnode)&&te.vnode.shapeFlag&256)&&c.a&&Xe(c.a,w),c.isMounted=!0,g=b=T=null}};c.scope.on();const A=c.effect=new Lr(k);c.scope.off();const S=c.update=A.run.bind(A),H=c.job=A.runIfDirty.bind(A);H.i=c,H.id=c.uid,A.scheduler=()=>Ns(H),It(c,!0),S()},v=(c,g,b)=>{g.component=c;const T=c.vnode.props;c.vnode=g,c.next=null,ci(c,g.props,T,b),gi(c,g.children,b),vt(),sr(c),bt()},_=(c,g,b,T,w,C,O,k,A=!1)=>{const S=c&&c.children,H=c?c.shapeFlag:0,I=g.children,{patchFlag:U,shapeFlag:q}=g;if(U>0){if(U&128){G(S,I,b,T,w,C,O,k,A);return}else if(U&256){Q(S,I,b,T,w,C,O,k,A);return}}q&8?(H&16&&lt(S,w,C),I!==S&&f(b,I)):H&16?q&16?G(S,I,b,T,w,C,O,k,A):lt(S,w,C,!0):(H&8&&f(b,""),q&16&&re(I,b,T,w,C,O,k,A))},Q=(c,g,b,T,w,C,O,k,A)=>{c=c||Nt,g=g||Nt;const S=c.length,H=g.length,I=Math.min(S,H);let U;for(U=0;U<I;U++){const q=g[U]=A?St(g[U]):ut(g[U]);L(c[U],q,b,null,w,C,O,k,A)}S>H?lt(c,w,C,!0,!1,I):re(g,b,T,w,C,O,k,A,I)},G=(c,g,b,T,w,C,O,k,A)=>{let S=0;const H=g.length;let I=c.length-1,U=H-1;for(;S<=I&&S<=U;){const q=c[S],se=g[S]=A?St(g[S]):ut(g[S]);if(Zt(q,se))L(q,se,b,null,w,C,O,k,A);else break;S++}for(;S<=I&&S<=U;){const q=c[I],se=g[U]=A?St(g[U]):ut(g[U]);if(Zt(q,se))L(q,se,b,null,w,C,O,k,A);else break;I--,U--}if(S>I){if(S<=U){const q=U+1,se=q<H?g[q].el:T;for(;S<=U;)L(null,g[S]=A?St(g[S]):ut(g[S]),b,se,w,C,O,k,A),S++}}else if(S>U)for(;S<=I;)me(c[S],w,C,!0),S++;else{const q=S,se=S,oe=new Map;for(S=se;S<=U;S++){const Be=g[S]=A?St(g[S]):ut(g[S]);Be.key!=null&&oe.set(Be.key,S)}let te,ke=0;const Me=U-se+1;let Ae=!1,et=0;const At=new Array(Me);for(S=0;S<Me;S++)At[S]=0;for(S=q;S<=I;S++){const Be=c[S];if(ke>=Me){me(Be,w,C,!0);continue}let Ge;if(Be.key!=null)Ge=oe.get(Be.key);else for(te=se;te<=U;te++)if(At[te-se]===0&&Zt(Be,g[te])){Ge=te;break}Ge===void 0?me(Be,w,C,!0):(At[Ge-se]=S+1,Ge>=et?et=Ge:Ae=!0,L(Be,g[Ge],b,null,w,C,O,k,A),ke++)}const bn=Ae?bi(At):Nt;for(te=bn.length-1,S=Me-1;S>=0;S--){const Be=se+S,Ge=g[Be],Xt=Be+1<H?g[Be+1].el:T;At[S]===0?L(null,Ge,b,Xt,w,C,O,k,A):Ae&&(te<0||S!==bn[te]?De(Ge,b,Xt,2):te--)}}},De=(c,g,b,T,w=null)=>{const{el:C,type:O,transition:k,children:A,shapeFlag:S}=c;if(S&6){De(c.component.subTree,g,b,T);return}if(S&128){c.suspense.move(g,b,T);return}if(S&64){O.move(c,g,b,kt);return}if(O===ye){s(C,g,b);for(let I=0;I<A.length;I++)De(A[I],g,b,T);s(c.anchor,g,b);return}if(O===Tn){ee(c,g,b);return}if(T!==2&&S&1&&k)if(T===0)k.beforeEnter(C),s(C,g,b),Xe(()=>k.enter(C),w);else{const{leave:I,delayLeave:U,afterLeave:q}=k,se=()=>{c.ctx.isUnmounted?r(C):s(C,g,b)},oe=()=>{I(C,()=>{se(),q&&q()})};U?U(C,se,oe):oe()}else s(C,g,b)},me=(c,g,b,T=!1,w=!1)=>{const{type:C,props:O,ref:k,children:A,dynamicChildren:S,shapeFlag:H,patchFlag:I,dirs:U,cacheIndex:q}=c;if(I===-2&&(w=!1),k!=null&&(vt(),on(k,null,b,c,!0),bt()),q!=null&&(g.renderCache[q]=void 0),H&256){g.ctx.deactivate(c);return}const se=H&1&&U,oe=!Wt(c);let te;if(oe&&(te=O&&O.onVnodeBeforeUnmount)&&it(te,g,c),H&6)Ke(c.component,b,T);else{if(H&128){c.suspense.unmount(b,T);return}se&&Ot(c,null,g,"beforeUnmount"),H&64?c.type.remove(c,g,b,kt,T):S&&!S.hasOnce&&(C!==ye||I>0&&I&64)?lt(S,g,b,!1,!0):(C===ye&&I&384||!w&&H&16)&&lt(A,g,b),T&&ze(c)}(oe&&(te=O&&O.onVnodeUnmounted)||se)&&Xe(()=>{te&&it(te,g,c),se&&Ot(c,null,g,"unmounted")},b)},ze=c=>{const{type:g,el:b,anchor:T,transition:w}=c;if(g===ye){je(b,T);return}if(g===Tn){x(c);return}const C=()=>{r(b),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(c.shapeFlag&1&&w&&!w.persisted){const{leave:O,delayLeave:k}=w,A=()=>O(b,C);k?k(c.el,C,A):A()}else C()},je=(c,g)=>{let b;for(;c!==g;)b=D(c),r(c),c=b;r(g)},Ke=(c,g,b)=>{const{bum:T,scope:w,job:C,subTree:O,um:k,m:A,a:S,parent:H,slots:{__:I}}=c;cr(A),cr(S),T&&_n(T),H&&J(I)&&I.forEach(U=>{H.renderCache[U]=void 0}),w.stop(),C&&(C.flags|=8,me(O,c,g,b)),k&&Xe(k,g),Xe(()=>{c.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},lt=(c,g,b,T=!1,w=!1,C=0)=>{for(let O=C;O<c.length;O++)me(c[O],g,b,T,w)},qe=c=>{if(c.shapeFlag&6)return qe(c.component.subTree);if(c.shapeFlag&128)return c.suspense.next();const g=D(c.anchor||c.el),b=g&&g[jl];return b?D(b):g};let Je=!1;const vn=(c,g,b)=>{c==null?g._vnode&&me(g._vnode,null,null,!0):L(g._vnode||null,c,g,null,null,null,b),g._vnode=c,Je||(Je=!0,sr(),lo(),Je=!1)},kt={p:L,um:me,m:De,r:ze,mt:de,mc:re,pc:_,pbc:we,n:qe,o:e};return{render:vn,hydrate:void 0,createApp:ii(vn)}}function fs({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function It({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vi(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function To(e,t,n=!1){const s=e.children,r=t.children;if(J(s)&&J(r))for(let o=0;o<s.length;o++){const l=s[o];let i=r[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[o]=St(r[o]),i.el=l.el),!n&&i.patchFlag!==-2&&To(l,i)),i.type===es&&(i.el=l.el),i.type===yt&&!i.el&&(i.el=l.el)}}function bi(e){const t=e.slice(),n=[0];let s,r,o,l,i;const u=e.length;for(s=0;s<u;s++){const d=e[s];if(d!==0){if(r=n[n.length-1],e[r]<d){t[s]=r,n.push(s);continue}for(o=0,l=n.length-1;o<l;)i=o+l>>1,e[n[i]]<d?o=i+1:l=i;d<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=t[l];return n}function Do(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Do(t)}function cr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const yi=Symbol.for("v-scx"),xi=()=>Cn(yi);function zt(e,t,n){return $o(e,t,n)}function $o(e,t,n=he){const{immediate:s,deep:r,flush:o,once:l}=n,i=Le({},n),u=t&&s||!t&&o!=="post";let d;if(pn){if(o==="sync"){const $=xi();d=$.__watcherHandles||($.__watcherHandles=[])}else if(!u){const $=()=>{};return $.stop=ct,$.resume=ct,$.pause=ct,$}}const f=Pe;i.call=($,j,L)=>ft($,f,j,L);let m=!1;o==="post"?i.scheduler=$=>{Xe($,f&&f.suspense)}:o!=="sync"&&(m=!0,i.scheduler=($,j)=>{j?$():Ns($)}),i.augmentJob=$=>{t&&($.flags|=4),m&&($.flags|=2,f&&($.id=f.uid,$.i=f))};const D=Ml(e,t,i);return pn&&(d?d.push(D):u&&D()),D}function wi(e,t,n){const s=this.proxy,r=$e(e)?e.includes(".")?ko(s,e):()=>s[e]:e.bind(s,s);let o;Z(t)?o=t:(o=t.handler,n=t);const l=mn(this),i=$o(r,o.bind(s),n);return l(),i}function ko(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const _i=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${st(t)}Modifiers`]||e[`${$t(t)}Modifiers`];function Si(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||he;let r=n;const o=t.startsWith("update:"),l=o&&_i(s,t.slice(7));l&&(l.trim&&(r=n.map(f=>$e(f)?f.trim():f)),l.number&&(r=n.map(An)));let i,u=s[i=os(t)]||s[i=os(st(t))];!u&&o&&(u=s[i=os($t(t))]),u&&ft(u,e,6,r);const d=s[i+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,ft(d,e,6,r)}}function Ao(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let l={},i=!1;if(!Z(e)){const u=d=>{const f=Ao(d,t,!0);f&&(i=!0,Le(l,f))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!i?(xe(e)&&s.set(e,null),null):(J(o)?o.forEach(u=>l[u]=null):Le(l,o),xe(e)&&s.set(e,l),l)}function Zn(e,t){return!e||!Kn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,$t(t))||ce(e,t))}function fr(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:l,attrs:i,emit:u,render:d,renderCache:f,props:m,data:D,setupState:$,ctx:j,inheritAttrs:L}=e,X=Mn(e);let V,B;try{if(n.shapeFlag&4){const x=r||s,ne=x;V=ut(d.call(ne,x,f,m,$,D,j)),B=i}else{const x=t;V=ut(x.length>1?x(m,{attrs:i,slots:l,emit:u}):x(m,null)),B=t.props?i:Ci(i)}}catch(x){an.length=0,Xn(x,e,1),V=ge(yt)}let ee=V;if(B&&L!==!1){const x=Object.keys(B),{shapeFlag:ne}=ee;x.length&&ne&7&&(o&&x.some(As)&&(B=Ti(B,o)),ee=Jt(ee,B,!1,!0))}return n.dirs&&(ee=Jt(ee,null,!1,!0),ee.dirs=ee.dirs?ee.dirs.concat(n.dirs):n.dirs),n.transition&&Us(ee,n.transition),V=ee,Mn(X),V}const Ci=e=>{let t;for(const n in e)(n==="class"||n==="style"||Kn(n))&&((t||(t={}))[n]=e[n]);return t},Ti=(e,t)=>{const n={};for(const s in e)(!As(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Di(e,t,n){const{props:s,children:r,component:o}=e,{props:l,children:i,patchFlag:u}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?dr(s,l,d):!!l;if(u&8){const f=t.dynamicProps;for(let m=0;m<f.length;m++){const D=f[m];if(l[D]!==s[D]&&!Zn(d,D))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:s===l?!1:s?l?dr(s,l,d):!0:!!l;return!1}function dr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!Zn(n,o))return!0}return!1}function $i({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Eo=e=>e.__isSuspense;function ki(e,t){t&&t.pendingBranch?J(e)?t.effects.push(...e):t.effects.push(e):Rl(e)}const ye=Symbol.for("v-fgt"),es=Symbol.for("v-txt"),yt=Symbol.for("v-cmt"),Tn=Symbol.for("v-stc"),an=[];let Ze=null;function M(e=!1){an.push(Ze=e?null:[])}function Ai(){an.pop(),Ze=an[an.length-1]||null}let dn=1;function pr(e,t=!1){dn+=e,e<0&&Ze&&t&&(Ze.hasOnce=!0)}function Oo(e){return e.dynamicChildren=dn>0?Ze||Nt:null,Ai(),dn>0&&Ze&&Ze.push(e),e}function R(e,t,n,s,r,o){return Oo(a(e,t,n,s,r,o,!0))}function Rt(e,t,n,s,r){return Oo(ge(e,t,n,s,r,!0))}function Ws(e){return e?e.__v_isVNode===!0:!1}function Zt(e,t){return e.type===t.type&&e.key===t.key}const Io=({key:e})=>e??null,Dn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?$e(e)||Re(e)||Z(e)?{i:Ie,r:e,k:t,f:!!n}:e:null);function a(e,t=null,n=null,s=0,r=null,o=e===ye?0:1,l=!1,i=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Io(t),ref:t&&Dn(t),scopeId:ao,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ie};return i?(Ys(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=$e(n)?8:16),dn>0&&!l&&Ze&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Ze.push(u),u}const ge=Ei;function Ei(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===Ql)&&(e=yt),Ws(e)){const i=Jt(e,t,!0);return n&&Ys(i,n),dn>0&&!o&&Ze&&(i.shapeFlag&6?Ze[Ze.indexOf(e)]=i:Ze.push(i)),i.patchFlag=-2,i}if(Ui(e)&&(e=e.__vccOpts),t){t=Oi(t);let{class:i,style:u}=t;i&&!$e(i)&&(t.class=_e(i)),xe(u)&&(Vs(u)&&!J(u)&&(u=Le({},u)),t.style=qn(u))}const l=$e(e)?1:Eo(e)?128:Bl(e)?64:xe(e)?4:Z(e)?2:0;return a(e,t,n,s,r,l,o,!0)}function Oi(e){return e?Vs(e)||yo(e)?Le({},e):e:null}function Jt(e,t,n=!1,s=!1){const{props:r,ref:o,patchFlag:l,children:i,transition:u}=e,d=t?Ii(r||{},t):r,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Io(d),ref:t&&t.ref?n&&o?J(o)?o.concat(Dn(t)):[o,Dn(t)]:Dn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ye?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jt(e.ssContent),ssFallback:e.ssFallback&&Jt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&s&&Us(f,u.clone(f)),f}function Ye(e=" ",t=0){return ge(es,null,e,t)}function Mo(e,t){const n=ge(Tn,null,e);return n.staticCount=t,n}function pe(e="",t=!1){return t?(M(),Rt(yt,null,e)):ge(yt,null,e)}function ut(e){return e==null||typeof e=="boolean"?ge(yt):J(e)?ge(ye,null,e.slice()):Ws(e)?St(e):ge(es,null,String(e))}function St(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jt(e)}function Ys(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(J(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Ys(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!yo(t)?t._ctx=Ie:r===3&&Ie&&(Ie.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:Ie},n=32):(t=String(t),s&64?(n=16,t=[Ye(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ii(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=_e([t.class,s.class]));else if(r==="style")t.style=qn([t.style,s.style]);else if(Kn(r)){const o=t[r],l=s[r];l&&o!==l&&!(J(o)&&o.includes(l))&&(t[r]=o?[].concat(o,l):l)}else r!==""&&(t[r]=s[r])}return t}function it(e,t,n,s=null){ft(e,t,7,[n,s])}const Mi=mo();let Fi=0;function Pi(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Mi,o={uid:Fi++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ol(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wo(s,r),emitsOptions:Ao(s,r),emit:null,emitted:null,propsDefaults:he,inheritAttrs:s.inheritAttrs,ctx:he,data:he,props:he,attrs:he,slots:he,refs:he,setupState:he,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Si.bind(null,o),e.ce&&e.ce(o),o}let Pe=null,Rn,Ts;{const e=zn(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(l=>l(o)):r[0](o)}};Rn=t("__VUE_INSTANCE_SETTERS__",n=>Pe=n),Ts=t("__VUE_SSR_SETTERS__",n=>pn=n)}const mn=e=>{const t=Pe;return Rn(e),e.scope.on(),()=>{e.scope.off(),Rn(t)}},gr=()=>{Pe&&Pe.scope.off(),Rn(null)};function Fo(e){return e.vnode.shapeFlag&4}let pn=!1;function Ri(e,t=!1,n=!1){t&&Ts(t);const{props:s,children:r}=e.vnode,o=Fo(e);ui(e,s,o,t),pi(e,r,n||t);const l=o?ji(e,t):void 0;return t&&Ts(!1),l}function ji(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ei);const{setup:s}=n;if(s){vt();const r=e.setupContext=s.length>1?Vi(e):null,o=mn(e),l=hn(s,e,0,[e.props,r]),i=Rr(l);if(bt(),o(),(i||e.sp)&&!Wt(e)&&uo(e),i){if(l.then(gr,gr),t)return l.then(u=>{hr(e,u)}).catch(u=>{Xn(u,e,0)});e.asyncDep=l}else hr(e,l)}else Po(e)}function hr(e,t,n){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=so(t)),Po(e)}function Po(e,t,n){const s=e.type;e.render||(e.render=s.render||ct);{const r=mn(e);vt();try{ti(e)}finally{bt(),r()}}}const Bi={get(e,t){return Fe(e,"get",""),e[t]}};function Vi(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Bi),slots:e.slots,emit:e.emit,expose:t}}function ts(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(so(Dl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ln)return ln[n](e)},has(t,n){return n in t||n in ln}})):e.proxy}function Ni(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function Ui(e){return Z(e)&&"__vccOpts"in e}const Ce=(e,t)=>Ol(e,t,pn),Li="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ds;const mr=typeof window<"u"&&window.trustedTypes;if(mr)try{Ds=mr.createPolicy("vue",{createHTML:e=>e})}catch{}const Ro=Ds?e=>Ds.createHTML(e):e=>e,Ki="http://www.w3.org/2000/svg",Hi="http://www.w3.org/1998/Math/MathML",pt=typeof document<"u"?document:null,vr=pt&&pt.createElement("template"),Wi={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?pt.createElementNS(Ki,e):t==="mathml"?pt.createElementNS(Hi,e):n?pt.createElement(e,{is:n}):pt.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>pt.createTextNode(e),createComment:e=>pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const l=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{vr.innerHTML=Ro(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const i=vr.content;if(s==="svg"||s==="mathml"){const u=i.firstChild;for(;u.firstChild;)i.appendChild(u.firstChild);i.removeChild(u)}t.insertBefore(i,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Yi=Symbol("_vtc");function zi(e,t,n){const s=e[Yi];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const br=Symbol("_vod"),qi=Symbol("_vsh"),Ji=Symbol(""),Gi=/(^|;)\s*display\s*:/;function Xi(e,t,n){const s=e.style,r=$e(n);let o=!1;if(n&&!r){if(t)if($e(t))for(const l of t.split(";")){const i=l.slice(0,l.indexOf(":")).trim();n[i]==null&&$n(s,i,"")}else for(const l in t)n[l]==null&&$n(s,l,"");for(const l in n)l==="display"&&(o=!0),$n(s,l,n[l])}else if(r){if(t!==n){const l=s[Ji];l&&(n+=";"+l),s.cssText=n,o=Gi.test(n)}}else t&&e.removeAttribute("style");br in e&&(e[br]=o?s.display:"",e[qi]&&(s.display="none"))}const yr=/\s*!important$/;function $n(e,t,n){if(J(n))n.forEach(s=>$n(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Qi(e,t);yr.test(n)?e.setProperty($t(s),n.replace(yr,""),"important"):e[s]=n}}const xr=["Webkit","Moz","ms"],ds={};function Qi(e,t){const n=ds[t];if(n)return n;let s=st(t);if(s!=="filter"&&s in e)return ds[t]=s;s=Yn(s);for(let r=0;r<xr.length;r++){const o=xr[r]+s;if(o in e)return ds[t]=o}return t}const wr="http://www.w3.org/1999/xlink";function _r(e,t,n,s,r,o=nl(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(wr,t.slice(6,t.length)):e.setAttributeNS(wr,t,n):n==null||o&&!Vr(n)?e.removeAttribute(t):e.setAttribute(t,o?"":ot(n)?String(n):n)}function Sr(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ro(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const i=o==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(i!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=Vr(n):n==null&&i==="string"?(n="",l=!0):i==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(r||t)}function Ft(e,t,n,s){e.addEventListener(t,n,s)}function Zi(e,t,n,s){e.removeEventListener(t,n,s)}const Cr=Symbol("_vei");function ea(e,t,n,s,r=null){const o=e[Cr]||(e[Cr]={}),l=o[t];if(s&&l)l.value=s;else{const[i,u]=ta(t);if(s){const d=o[t]=ra(s,r);Ft(e,i,d,u)}else l&&(Zi(e,i,l,u),o[t]=void 0)}}const Tr=/(?:Once|Passive|Capture)$/;function ta(e){let t;if(Tr.test(e)){t={};let s;for(;s=e.match(Tr);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$t(e.slice(2)),t]}let ps=0;const na=Promise.resolve(),sa=()=>ps||(na.then(()=>ps=0),ps=Date.now());function ra(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ft(oa(s,n.value),t,5,[s])};return n.value=e,n.attached=sa(),n}function oa(e,t){if(J(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Dr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,la=(e,t,n,s,r,o)=>{const l=r==="svg";t==="class"?zi(e,s,l):t==="style"?Xi(e,n,s):Kn(t)?As(t)||ea(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ia(e,t,s,l))?(Sr(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&_r(e,t,s,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!$e(s))?Sr(e,st(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),_r(e,t,s,l))};function ia(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Dr(t)&&Z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Dr(t)&&$e(n)?!1:t in e}const jn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return J(t)?n=>_n(t,n):t};function aa(e){e.target.composing=!0}function $r(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const qt=Symbol("_assign"),mt={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[qt]=jn(r);const o=s||r.props&&r.props.type==="number";Ft(e,t?"change":"input",l=>{if(l.target.composing)return;let i=e.value;n&&(i=i.trim()),o&&(i=An(i)),e[qt](i)}),n&&Ft(e,"change",()=>{e.value=e.value.trim()}),t||(Ft(e,"compositionstart",aa),Ft(e,"compositionend",$r),Ft(e,"change",$r))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},l){if(e[qt]=jn(l),e.composing)return;const i=(o||e.type==="number")&&!/^0\d/.test(e.value)?An(e.value):e.value,u=t??"";i!==u&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===u)||(e.value=u))}},tn={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=Hn(t);Ft(e,"change",()=>{const o=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?An(Bn(l)):Bn(l));e[qt](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,Ht(()=>{e._assigning=!1})}),e[qt]=jn(s)},mounted(e,{value:t}){kr(e,t)},beforeUpdate(e,t,n){e[qt]=jn(n)},updated(e,{value:t}){e._assigning||kr(e,t)}};function kr(e,t){const n=e.multiple,s=J(t);if(!(n&&!s&&!Hn(t))){for(let r=0,o=e.options.length;r<o;r++){const l=e.options[r],i=Bn(l);if(n)if(s){const u=typeof i;u==="string"||u==="number"?l.selected=t.some(d=>String(d)===String(i)):l.selected=rl(t,i)>-1}else l.selected=t.has(i);else if(Jn(Bn(l),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Bn(e){return"_value"in e?e._value:e.value}const ua=["ctrl","shift","alt","meta"],ca={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ua.some(n=>e[`${n}Key`]&&!t.includes(n))},tt=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let l=0;l<t.length;l++){const i=ca[t[l]];if(i&&i(r,t))return}return e(r,...o)})},fa={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},kn=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=$t(r.key);if(t.some(l=>l===o||fa[l]===o))return e(r)})},da=Le({patchProp:la},Wi);let Ar;function pa(){return Ar||(Ar=hi(da))}const yf=(...e)=>{const t=pa().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=ha(s);if(!r)return;const o=t._component;!Z(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const l=n(r,!1,ga(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),l},t};function ga(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ha(e){return $e(e)?document.querySelector(e):e}const ma="modulepreload",va=function(e){return"/budget/"+e},Er={},Or=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let l=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=l(n.map(d=>{if(d=va(d),d in Er)return;Er[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const D=document.createElement("link");if(D.rel=f?"stylesheet":ma,f||(D.as="script"),D.crossOrigin="",D.href=d,u&&D.setAttribute("nonce",u),document.head.appendChild(D),f)return new Promise(($,j)=>{D.addEventListener("load",$),D.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return r.then(l=>{for(const i of l||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};class ba{constructor(){this.parsers={}}async loadParser(t){if(this.parsers[t])return this.parsers[t];try{if(t==="excel"){const{excelParser:n}=await Or(async()=>{const{excelParser:s}=await import("./excel-B-zEeiyX.js");return{excelParser:s}},[]);return this.parsers.excel=n,n}else if(t==="pdf"){const{pdfParser:n}=await Or(async()=>{const{pdfParser:s}=await import("./pdf-BhfaIIxf.js");return{pdfParser:s}},[]);return this.parsers.pdf=n,n}}catch(n){throw console.error(`   ${t}:`,n),new Error(`     ${t}`)}}detectFileType(t){const n=t.name.toLowerCase();if(n.endsWith(".xlsx")||n.endsWith(".xls"))return"excel";if(n.endsWith(".pdf"))return"pdf";if(t.type){if(t.type.includes("spreadsheet")||t.type.includes("excel"))return"excel";if(t.type==="application/pdf")return"pdf"}throw new Error("  .  Excel (.xlsx, .xls)  PDF (.pdf) ")}async parseFile(t,n=null){try{const s=this.detectFileType(t),r=await this.loadParser(s);if(s==="excel")return await r.parseExcelFile(t,n);if(s==="pdf")return await r.parsePdfFile(t,n)}catch(s){throw console.error("   :",s),s}}getSupportedFormats(){return[{name:"Excel ",extensions:[".xlsx",".xls"],type:"excel"},{name:"PDF ",extensions:[".pdf"],type:"pdf"}]}getAcceptString(){return this.getSupportedFormats().map(n=>n.extensions.join(",")).join(",")}}const gs=new ba,ya={class:"space-y-3"},xa={key:0,class:"space-y-3"},wa={class:"text-sm text-gray-600 mb-3"},_a={key:0},Sa={key:1,class:"text-red-600"},Ca=["accept","disabled"],Ta={class:"text-xs text-gray-500"},Da={key:1,class:"space-y-3"},$a={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},ka={class:"flex"},Aa={class:"text-xs text-red-700 mt-0.5"},Ea={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},Oa={class:"flex justify-between items-start"},Ia={class:"flex"},Ma={class:"text-xs text-green-700 mt-0.5"},Fa={key:0},Pa={__name:"FileUpload",props:{accept:{type:String,default:gs.getAcceptString()},maxSize:{type:Number,default:10*1024*1024},selectedBank:{type:String,default:null}},emits:["file-parsed","error"],setup(e,{emit:t}){const n=e,s=t,r=W(!1),o=W(!1),l=W(null),i=W(null),u=W(null);Gt(()=>{u.value&&(u.value.value="")});const d=Ce(()=>({"border-blue-500 bg-blue-50":r.value,"border-gray-300 bg-white":!r.value})),f=V=>{V.preventDefault(),r.value=!0},m=V=>{V.preventDefault(),r.value=!1},D=async V=>{V.preventDefault(),r.value=!1;const B=Array.from(V.dataTransfer.files);B.length>0&&await j(B)},$=async V=>{const B=Array.from(V.target.files);B.length>0&&await j(B)},j=async V=>{try{o.value=!0,i.value=null,l.value=null;const B=[],ee=[];for(const x of V)try{if(x.size>n.maxSize)throw new Error(` ${x.name}  .  : ${n.maxSize/1024/1024}MB`);const ne=gs.getSupportedFormats();if(!ne.some(re=>re.extensions.some(Ee=>x.name.toLowerCase().endsWith(Ee)))){const re=ne.map(Ee=>Ee.extensions.join(", ")).join(", ");throw new Error(` ${x.name}:   : ${re}`)}const fe=await gs.parseFile(x,n.selectedBank);B.push(fe)}catch(ne){console.error(`     ${x.name}:`,ne),ee.push({file:x.name,error:ne.message})}if(ee.length>0){const x=ee.map(ne=>`${ne.file}: ${ne.error}`).join(`
`);i.value=` :
${x}`,s("error",x)}if(B.length>0)if(B.length===1)l.value=B[0],s("file-parsed",B[0]);else{const x=L(B);l.value=x,s("file-parsed",x)}}catch(B){console.error("    processFiles:",B),i.value=B.message,s("error",B.message)}finally{o.value=!1}},L=V=>{const B=[],ee=[];let x=0;const ne=[...new Set(V.map(fe=>fe.bankName).filter(Boolean))],Te=ne.length>0?ne.join(", "):" ";for(const fe of V){if(fe.transactions){const re=fe.transactions.map(Ee=>({...Ee,bank:Ee.bank||fe.bank}));B.push(...re),x+=fe.totalTransactions||0}fe.rawData&&ee.push(...fe.rawData)}return{bankName:Te,totalTransactions:x,transactions:B,rawData:ee,sourceFiles:V.length}},X=()=>{l.value=null,i.value=null};return(V,B)=>(M(),R("div",ya,[a("div",{class:_e(["border-2 border-dashed rounded-lg p-6 text-center transition-colors",d.value]),onDragover:f,onDragleave:m,onDrop:D},[!o.value&&!l.value?(M(),R("div",xa,[B[2]||(B[2]=a("div",{class:"text-4xl text-gray-400"},"",-1)),a("div",null,[B[1]||(B[1]=a("h3",{class:"text-base font-medium text-gray-900 mb-2"},"  ",-1)),a("p",wa,[e.selectedBank?(M(),R("span",_a,[B[0]||(B[0]=Ye("  : ")),a("strong",null,N(e.selectedBank),1)])):(M(),R("span",Sa,"      "))]),a("input",{type:"file",accept:e.accept,multiple:"",disabled:!e.selectedBank,class:"hidden",onChange:$,id:"file-upload",autocomplete:"off",ref_key:"fileInput",ref:u},null,40,Ca),a("label",{for:"file-upload",class:_e(["inline-flex items-center px-4 py-2 rounded-lg transition-colors font-medium text-sm shadow-md",e.selectedBank?"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"])},"  "+N(e.selectedBank?" ":"  "),3)]),a("p",Ta,"  Excel (.xlsx, .xls)  PDF (.pdf)   "+N(e.maxSize/1024/1024)+"MB ",1)])):pe("",!0),o.value?(M(),R("div",Da,B[3]||(B[3]=[a("div",{class:"text-4xl text-blue-500"},"",-1),a("h3",{class:"text-base font-medium text-gray-900"}," ...",-1),a("p",{class:"text-sm text-gray-600"},", ",-1)]))):pe("",!0)],34),i.value?(M(),R("div",$a,[a("div",ka,[B[5]||(B[5]=a("div",{class:"text-red-500 text-lg mr-2"},"",-1)),a("div",null,[B[4]||(B[4]=a("h3",{class:"text-sm font-medium text-red-800"}," ",-1)),a("p",Aa,N(i.value),1)])])])):pe("",!0),l.value?(M(),R("div",Ea,[a("div",Oa,[a("div",Ia,[B[7]||(B[7]=a("div",{class:"text-green-500 text-lg mr-2"},"",-1)),a("div",null,[B[6]||(B[6]=a("h3",{class:"text-sm font-medium text-green-800"},"  ",-1)),a("p",Ma,[l.value.sourceFiles>1?(M(),R("span",Fa," : "+N(l.value.sourceFiles)+" | ",1)):pe("",!0),Ye(" : "+N(l.value.bankName)+" | : "+N(l.value.totalTransactions),1)])])]),a("button",{onClick:X,class:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium text-sm"},"     ")])])):pe("",!0)]))}},Ra={class:"space-y-3"},ja={class:"grid grid-cols-2 gap-2"},Ba=["onClick"],Va={class:"text-center"},Na={class:"text-2xl mb-1"},Ua={class:"text-sm font-medium"},La={__name:"BankSelector",props:{selectedBank:{type:String,default:null}},emits:["bank-selected"],setup(e,{emit:t}){const n=e,s=t,r=[{key:"sberbank",name:"",icon:""},{key:"alfabank",name:"-",icon:""},{key:"tinkoff",name:"",icon:""},{key:"ozon",name:" ",icon:""}],o=W(n.selectedBank),l=i=>{o.value=i,s("bank-selected",i)};return(i,u)=>(M(),R("div",Ra,[u[0]||(u[0]=a("h3",{class:"text-base font-medium text-gray-900"}," ",-1)),a("div",ja,[(M(),R(ye,null,Qe(r,d=>a("button",{key:d.key,onClick:f=>l(d.key),class:_e(["flex items-center justify-center p-3 rounded-lg border-2 transition-all",o.value===d.key?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"])},[a("div",Va,[a("div",Na,N(d.icon),1),a("div",Ua,N(d.name),1)])],10,Ba)),64))])]))}},ns=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},Ka={class:"w-full"},Ha={class:"w-full caption-bottom text-sm"},Wa={class:"border-b bg-gray-50"},Ya={class:"divide-y divide-gray-200 min-h-[200px]"},za={__name:"Table",props:{data:{type:Array,default:()=>[]},striped:{type:Boolean,default:!1},hover:{type:Boolean,default:!0}},setup(e){return(t,n)=>(M(),R("div",Ka,[a("table",Ha,[a("thead",Wa,[a("tr",null,[Fn(t.$slots,"header",{},void 0,!0)])]),a("tbody",Ya,[(M(!0),R(ye,null,Qe(e.data,(s,r)=>(M(),R("tr",{key:s.id||`${s.date}-${s.description}-${s.amount}-${r}`,class:_e([e.hover&&"hover:bg-gray-50 transition-colors",e.striped&&r%2===1&&"bg-gray-50"])},[Fn(t.$slots,"row",{row:s,index:r},void 0,!0)],2))),128))])])]))}},qa=ns(za,[["__scopeId","data-v-8c842db0"]]);function Ja(){const e=W(!1),t=W(null);function n(l){t.value&&!t.value.contains(l.target)&&(e.value=!1)}function s(){e.value=!e.value}function r(){e.value=!0}function o(){e.value=!1}return Gt(()=>{Ht(()=>{document.addEventListener("mousedown",n)})}),Ls(()=>{document.removeEventListener("mousedown",n)}),{isOpen:e,dropdownRef:t,toggle:s,open:r,close:o}}const Ga={class:"truncate"},Xa={key:0,class:"absolute z-[9999] w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",style:{"min-width":"280px",width:"max-content",top:"100%"}},Qa={class:"sticky top-0 bg-white border-b border-gray-200 p-2"},Za=["placeholder"],eu={class:"py-1"},tu=["onClick"],nu={key:0,class:"px-3 py-2 text-sm text-gray-500"},su={key:0,class:"border-t border-gray-200 p-2"},ru={class:"flex space-x-2"},ou=["placeholder"],lu=["disabled"],Vn={__name:"UniversalSelect",props:{modelValue:{type:String,default:""},items:{type:Array,default:()=>[]},placeholder:{type:String,default:" "},itemName:{type:String,default:""},allowAddNew:{type:Boolean,default:!0}},emits:["update:modelValue","item-added"],setup(e,{emit:t}){const n=e,s=t,{isOpen:r,dropdownRef:o,toggle:l,close:i}=Ja(),u=W(""),d=W(""),f=Ce(()=>{let j=n.items;return u.value&&(j=j.filter(L=>L.toLowerCase().includes(u.value.toLowerCase()))),j});function m(j){s("update:modelValue",j),i(),u.value=""}function D(){l(),r.value&&(u.value="",d.value="")}function $(){const j=d.value.trim();j&&!n.items.includes(j)?(s("item-added",j),s("update:modelValue",j),i(),d.value="",u.value=""):j&&n.items.includes(j)&&(s("update:modelValue",j),i(),d.value="",u.value="")}return(j,L)=>(M(),R("div",{class:"relative",ref_key:"dropdownRef",ref:o},[a("div",{onClick:D,class:_e(["flex items-center justify-between w-full px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",{"border-blue-500 ring-2 ring-blue-500":Sn(r)}])},[a("span",Ga,N(e.modelValue||e.placeholder),1),(M(),R("svg",{class:_e(["w-4 h-4 text-gray-400 transition-transform",{"rotate-180":Sn(r)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},L[4]||(L[4]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),Sn(r)?(M(),R("div",Xa,[a("div",Qa,[We(a("input",{"onUpdate:modelValue":L[0]||(L[0]=X=>u.value=X),type:"text",placeholder:` ${e.itemName}...`,class:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:L[1]||(L[1]=tt(()=>{},["stop"]))},null,8,Za),[[mt,u.value]])]),a("div",eu,[(M(!0),R(ye,null,Qe(f.value,X=>(M(),R("div",{key:X,onClick:V=>m(X),class:_e(["px-3 py-2 text-sm cursor-pointer hover:bg-blue-50 hover:text-blue-700 break-words",{"bg-blue-100 text-blue-700":e.modelValue===X}])},N(X),11,tu))),128)),f.value.length===0&&u.value.value?(M(),R("div",nu,N(e.itemName)+"  .   "+N(e.itemName)+" . ",1)):pe("",!0)]),e.allowAddNew?(M(),R("div",su,[a("div",ru,[We(a("input",{"onUpdate:modelValue":L[2]||(L[2]=X=>d.value=X),type:"text",placeholder:` ${e.itemName}...`,class:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:L[3]||(L[3]=tt(()=>{},["stop"])),onKeyup:kn($,["enter"])},null,40,ou),[[mt,d.value]]),a("button",{onClick:$,disabled:!d.value.trim(),class:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors shadow-sm"}," + ",8,lu)])])):pe("",!0)])):pe("",!0)],512))}},$s={__name:"CategorySelect",props:{modelValue:{type:String,default:""},categories:{type:Array,default:()=>[]}},emits:["update:modelValue","category-added"],setup(e,{emit:t}){const n=t;function s(r){n("category-added",r)}return(r,o)=>(M(),Rt(Vn,{"model-value":e.modelValue,items:e.categories,placeholder:" ","item-name":"","allow-add-new":!0,"onUpdate:modelValue":o[0]||(o[0]=l=>n("update:modelValue",l)),onItemAdded:s},null,8,["model-value","items"]))}},iu={class:"flex items-center gap-1"},au=["value"],uu=["disabled"],cu=["disabled"],fu={__name:"DateEditor",props:{value:{type:[Date,String],required:!0}},emits:["update:value"],setup(e,{emit:t}){const n=e,s=t,r=W(""),o=W(!1),l=Ce(()=>o.value?r.value:n.value instanceof Date?n.value.toISOString().split("T")[0]:new Date(n.value).toISOString().split("T")[0]);function i(f){r.value=f.target.value,o.value=!0}function u(){o.value&&(s("update:value",r.value),o.value=!1,r.value="")}function d(){o.value=!1,r.value=""}return(f,m)=>(M(),R("div",iu,[a("input",{type:"date",value:l.value,onChange:i,class:"border-none bg-transparent text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 rounded px-1",style:{"min-width":"120px"}},null,40,au),a("button",{onClick:u,class:"px-1 py-0.5 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",title:"  ",disabled:!o.value},"  ",8,uu),a("button",{onClick:d,class:"px-1 py-0.5 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",title:"  ",disabled:!o.value},"  ",8,cu)]))}},zs="transaction-",jo="categories",Bo="category-order";function du(){return zs+Date.now()+"-"+Math.random().toString(36).substr(2,9)}function Vo(e){if(!e)return"";const t=e.trim();return t===" "||t===""||t===" "||t===""?"":t}async function Nn(e){try{e.bank||console.warn("  :",e);const t=du(),s={...{...e,category:Vo(e.category),bank:e.bank||" ",date:e.date instanceof Date?e.date.toISOString():e.date},id:t,createdAt:new Date().toISOString()},r=JSON.parse(JSON.stringify(s));return await Ln(t,r),t}catch(t){throw console.error("   :",t),t}}async function pu(e){try{const t=[];for(const n of e){const s=await Nn(n);t.push(s)}return t}catch(t){throw console.error("   :",t),t}}async function qs(){try{const t=(await Fr()).filter(s=>typeof s=="string"&&s.startsWith(zs)),n=[];for(const s of t){const r=await Un(s);if(r){const o={...r,date:r.date?new Date(r.date):null};n.push(o)}}return n}catch(e){return console.error("   :",e),[]}}async function gu(e){try{const t=await qs(),n=[],s=[];for(const r of e)t.some(l=>{const i=X=>X instanceof Date?X.toISOString().slice(0,10):typeof X=="string"?new Date(X).toISOString().slice(0,10):X,u=i(l.date),d=i(r.date),f=u===d,m=l.amount===r.amount,D=l.bank===r.bank,$=(l.description||"").replace(/\s+/g,"").toLowerCase()===(r.description||"").replace(/\s+/g,"").toLowerCase(),j=(l.category||"")===(r.category||"");return f&&m&&D&&$&&j})?n.push(r):s.push(r);return{duplicates:n,uniqueTransactions:s,duplicateCount:n.length,uniqueCount:s.length}}catch(t){throw console.error("   :",t),t}}async function Ir(e,t){try{const n=await Un(e);if(!n)throw new Error(`  ID ${e}  `);const s={...t};s.category!==void 0&&(s.category=Vo(s.category));const r={...n,...s,updatedAt:new Date().toISOString()};return await Ln(e,r),r}catch(n){throw console.error("   :",n),n}}async function hs(e){try{return await Pr(e),!0}catch(t){throw console.error("   :",t),t}}async function hu(){try{const t=(await Fr()).filter(n=>typeof n=="string"&&n.startsWith(zs));for(const n of t)await Pr(n);return{success:!0,deletedCount:t.length}}catch(e){throw console.error("    :",e),e}}async function No(e){try{const t={categories:e,updatedAt:new Date().toISOString(),version:"1.0"};return await Ln(jo,t),!0}catch(t){throw console.error("   :",t),t}}async function ss(){try{const e=await Un(jo);return e&&e.categories?e.categories:null}catch(e){return console.error("   :",e),null}}async function mu(e){try{let n=await ss()||[];return n.includes(e)||(n.push(e),n.sort(),await No(n)),n}catch(t){throw console.error("   :",t),t}}async function vu(e){try{const n={order:JSON.parse(JSON.stringify(e)),updatedAt:new Date().toISOString()};return await Ln(Bo,n),!0}catch(t){throw console.error("    :",t),t}}async function Mr(){try{const e=await Un(Bo);return e&&e.order?e.order:null}catch(e){return console.error("    :",e),null}}async function bu(){try{const e=await qs(),t=await ss(),n={version:"2.0",exportedAt:new Date().toISOString(),format:"transactions",transactions:e,categories:t||[],summary:{totalTransactions:e.length,totalCategories:t?t.length:0,banks:[...new Set(e.map(l=>l.bank))],dateRange:e.length>0?{from:new Date(Math.min(...e.map(l=>new Date(l.date)))),to:new Date(Math.max(...e.map(l=>new Date(l.date))))}:null}},s=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),r=URL.createObjectURL(s),o=document.createElement("a");return o.href=r,o.download=`family-budget-backup-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r),{success:!0,count:e.length,categoriesCount:t?t.length:0}}catch(e){throw console.error("   :",e),e}}async function yu(e){try{const t=typeof e=="string"?JSON.parse(e):e;if(!t.transactions||!Array.isArray(t.transactions))throw new Error("  :   transactions");let n=0;for(const s of t.transactions)if(s){const{id:r,createdAt:o,updatedAt:l,...i}=s;await Nn(i),n++}return t.categories&&Array.isArray(t.categories)&&await No(t.categories),{success:!0,count:n,categoriesRestored:!!t.categories}}catch(t){throw console.error("   :",t),t}}const xu={class:"mb-4"},wu={class:"text-lg font-semibold text-gray-900"},_u={class:"text-gray-600 text-sm"},Su={class:"fixed top-2 right-2 z-50 flex flex-col gap-2"},Cu={key:0,class:"mb-4 space-y-3"},Tu={class:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3"},Du={class:"flex items-center"},$u={class:"text-sm text-blue-700"},ku={class:"mb-4 flex flex-wrap gap-2 items-end"},Au=["value"],Eu=["value"],Ou=["value"],Iu=["value"],Mu={class:"ml-auto text-xs text-gray-500"},Fu={key:1,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},Pu={class:"flex items-center justify-between"},Ru={class:"flex items-center space-x-4"},ju={class:"text-sm font-medium text-blue-800"},Bu={class:"flex items-center space-x-2"},Vu={class:"w-8"},Nu=["checked","indeterminate"],Uu={key:0},Lu={key:0},Ku={key:0},Hu={key:0},Wu={class:"w-8"},Yu=["checked","onChange"],zu={class:"whitespace-nowrap"},qu={class:"whitespace-nowrap px-4"},Ju=["title","onBlur"],Gu=["onBlur"],Xu={class:"table-category"},Qu=["title","onBlur"],Zu={class:"whitespace-nowrap"},ec={class:"flex gap-1"},tc=["onClick"],nc=["onClick"],sc={class:"p-6"},rc={class:"mb-6"},oc={class:"bg-gray-50 p-3 rounded border"},lc={class:"text-sm"},ic={class:"font-medium"},ac={class:"text-gray-500"},uc={class:"p-6"},cc={class:"mb-6"},fc={class:"text-gray-600 mb-3"},dc={class:"flex space-x-3"},pc={class:"p-6"},gc={class:"mb-6"},hc={class:"text-gray-600 mb-4"},mc={class:"space-y-4"},vc={class:"flex space-x-3"},bc={__name:"AllTransactionsTable",props:{transactions:{type:Array,default:()=>[]}},emits:["categoriesUpdated","saveToDatabase"],setup(e,{expose:t,emit:n}){const s=n,r=W([]),o=W(!1),l=W([]),i=W(0),u=W(!1),d=W(null),f=W(!1),m=W(null),D=W(!1),$=W(new Set),j=W(!1),L=W(!1),X=W(""),V=W("");async function B(){try{const h=await ss();h&&Array.isArray(h)&&(l.value=h,await Ht(),s("categoriesUpdated"),window.dispatchEvent(new CustomEvent("categories-updated",{detail:{categories:S.value}})))}catch(h){console.error("     :",h)}}zt(l,()=>{Ht(()=>{})},{deep:!0});const ee=W([]);function x(h,p="info",P=3500){const K=Date.now()+Math.random();ee.value.push({id:K,msg:h,type:p}),setTimeout(()=>{ee.value=ee.value.filter(Y=>Y.id!==K)},P)}function ne(h){$.value.has(h)?$.value.delete(h):$.value.add(h)}function Te(){$.value.clear(),te.value.forEach(h=>{$.value.add(re(h))})}function fe(){$.value.clear()}function re(h){var p;return`${((p=h.date)==null?void 0:p.getTime())||h.date}-${h.description}-${h.amount}-${h.bank}-${h.category||""}`}function Ee(h){return $.value.has(re(h))}function we(){return $.value.size}function z(){if($.value.size===0){x("   ","warning");return}j.value=!0}async function F(){try{const h=te.value.filter(p=>$.value.has(re(p)));if(o.value){const p=h.filter(K=>!K.id);p.length>0&&(console.warn("   ID:",p),x("      ( ID)","warning"));let P=0;for(const K of h)K.id?(await hs(K.id),P++):console.warn("  ID:",K);await Ae(),i.value++,P<h.length&&x(` ${P}  ${h.length} `,"warning")}else for(const p of h){const P=r.value.findIndex(K=>K.transactions.some(Y=>re(Y)===re(p)));if(P!==-1){const K=r.value[P].transactions.findIndex(Y=>re(Y)===re(p));K!==-1&&r.value[P].transactions.splice(K,1)}}$.value.clear(),j.value=!1,i.value++,o.value||x(` ${h.length} `,"success")}catch(h){console.error("   :",h),x("   ","error")}}function ie(){j.value=!1}function de(){if($.value.size===0){x("   ","warning");return}X.value="",V.value="",L.value=!0}async function Se(){try{const h=te.value.filter(P=>$.value.has(re(P)));if(h.length===0){x("    ","warning");return}const p={};if(X.value&&(p.bank=X.value),V.value&&(p.category=V.value),Object.keys(p).length===0){x("      ","warning");return}if(o.value){const P=h.filter(Y=>!Y.id);if(P.length>0)throw new Error(`    ID      (${P.length})`);let K=0;for(const Y of h)try{await Ir(Y.id,p),K++;for(const ae of r.value){const le=ae.transactions.findIndex(Ve=>Ve.id===Y.id);if(le!==-1){Object.assign(ae.transactions[le],p);break}}}catch(ae){console.error(`    ${Y.id}:`,ae)}x(` ${K}  ${h.length} `,K===h.length?"success":"warning"),await Ae()}else{for(const P of h)Object.assign(P,p);x(` ${h.length} `,"success")}$.value.clear(),L.value=!1,X.value="",V.value="",i.value++}catch(h){console.error("    :",h),x("    ","error")}}function y(){L.value=!1,X.value="",V.value=""}async function v(h){if(!h||!h.transactions)return;if(r.value.some(P=>{var K,Y,ae,le,Ve,Et,wt,E;return P.fileName===h.fileName&&((Y=(K=P.period)==null?void 0:K.from)==null?void 0:Y.toString())===((le=(ae=h.period)==null?void 0:ae.from)==null?void 0:le.toString())&&((Et=(Ve=P.period)==null?void 0:Ve.to)==null?void 0:Et.toString())===((E=(wt=h.period)==null?void 0:wt.to)==null?void 0:E.toString())})){x("    ","warning");return}try{const{uniqueTransactions:P,duplicateCount:K,uniqueCount:Y}=await gu(h.transactions),ae={...h,transactions:P},le=Qs(r.value),Ve=ae.transactions,Et=rs([...le,...Ve]).length-rs(le).length,wt=Ve.length-Et;r.value.push(ae),i.value=i.value+1,Y>0&&x(`  : ${Y}`,"success"),K>0&&x(`  : ${K}`,"warning"),wt>0&&x(` : ${wt}`,"info"),Y===0&&x("      ","info")}catch(P){console.error("   :",P),x("   ","error")}}function _(){const h=new Date,p=new Date(h.getFullYear(),0,1);me.value=p.toISOString().split("T")[0],ze.value=h.toISOString().split("T")[0]}function Q(){G.value="",De.value="",je.value="",Ke.value="",lt.value="",_(),qe.value="date",Je.value="desc",x(" ","info")}const G=W(""),De=W(""),me=W(""),ze=W(""),je=W(""),Ke=W(""),lt=W(""),qe=W("date"),Je=W("desc");_();const vn=Ce(()=>{const h=new Set;w.value.forEach(P=>{if(P.date){const K=oe(P.date);K&&h.add(K.getFullYear())}});const p=new Date().getFullYear();return h.add(p),h.add(p-1),h.add(p+1),Array.from(h).sort((P,K)=>K-P)}),kt=Ce(()=>{const h=[],p={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:"",12:""};for(let P=1;P<=12;P++)h.push({value:P,label:p[P]});return h});function Js(){g()}function c(){g()}function g(){if(!je.value&&!Ke.value){_();return}if(je.value&&Ke.value){const h=parseInt(je.value),p=parseInt(Ke.value),P=new Date(h,p,0);me.value=`${h}-${String(p).padStart(2,"0")}-01`,ze.value=`${h}-${String(p).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`}else if(je.value){const h=parseInt(je.value);me.value=`${h}-01-01`,ze.value=`${h}-12-31`}else if(Ke.value){const h=parseInt(Ke.value),p=new Set;w.value.forEach(ae=>{if(ae.date){const le=oe(ae.date);le&&p.add(le.getFullYear())}});const P=Array.from(p).sort((ae,le)=>le-ae),K=P.length>0?P[0]:new Date().getFullYear(),Y=new Date(K,h,0);me.value=`${K}-${String(h).padStart(2,"0")}-01`,ze.value=`${K}-${String(h).padStart(2,"0")}-${String(Y.getDate()).padStart(2,"0")}`,je.value=K.toString()}}function b(){if(!me.value||!ze.value){je.value="",Ke.value="";return}const h=new Date(me.value),p=new Date(ze.value),P=new Date(h.getFullYear(),h.getMonth(),1),K=new Date(p.getFullYear(),p.getMonth()+1,0);if(h.getTime()===P.getTime()&&p.getTime()===K.getTime())je.value=h.getFullYear().toString(),Ke.value=(h.getMonth()+1).toString();else{const Y=new Date(h.getFullYear(),0,1),ae=new Date(p.getFullYear(),11,31);h.getTime()===Y.getTime()&&p.getTime()===ae.getTime()?(je.value=h.getFullYear().toString(),Ke.value=""):(je.value="",Ke.value="")}}const T=W(0),w=Ce(()=>(T.value,Qs(r.value)));function C(){return w.value}function O(){return k.value||[]}const k=Ce(()=>Array.from(new Set(w.value.map(h=>h.bank))).filter(Boolean)),A=Ce(()=>Array.from(new Set(w.value.map(h=>h.category))).filter(Boolean)),S=Ce(()=>{const h=[""," ","","  ","  ","",".","  ","","","","","","","","","","","","","","","   ",""," ","  . ","","",""," "," "," ","  ","  ","","%    ","",""],p=A.value;return[...new Set([...h,...p,...l.value])].sort()});async function H(h){l.value.includes(h)||(l.value.push(h),l.value.sort(),await Ht(),s("categoriesUpdated"),window.dispatchEvent(new CustomEvent("categories-updated",{detail:{categories:S.value}})));try{await mu(h),x(`  : ${h}`,"success")}catch(p){console.error("     :",p),x("   ","error")}}function I(h){x(`  : ${h}`,"success")}function U(){u.value=!0,d.value&&clearTimeout(d.value)}function q(){d.value=setTimeout(()=>{u.value=!1,d.value=null},500)}function se(h,p){jt(h,"date",p,!0)}function oe(h){if(h instanceof Date)return h;if(typeof h=="string"&&/^\d{2}\.\d{2}\.\d{4}$/.test(h)){const[P,K,Y]=h.split(".");return new Date(parseInt(Y),parseInt(K)-1,parseInt(P))}const p=new Date(h);return isNaN(p.getTime())?(console.warn("   :",h),null):p}const te=Ce(()=>Wo(w.value,{bank:G.value||void 0,category:De.value||void 0,dateFrom:me.value?oe(me.value):void 0,dateTo:ze.value?oe(ze.value):void 0,search:lt.value||void 0},u.value?{field:"date",direction:"desc"}:{field:qe.value,direction:Je.value}));function ke(h){qe.value===h?Je.value=Je.value==="asc"?"desc":"asc":(qe.value=h,Je.value="asc"),i.value=i.value+1}async function Me(){try{let h=0,p=0;for(const P of r.value){const K=P.transactions.map(Y=>({...Y,bank:Y.bank||P.bank||" "}));await pu(K),p+=K.length,h++}x(` ${p}   ${h}   `,"success"),await Ae(),i.value=i.value+1}catch(h){x("    ","error"),console.error(" :",h)}}async function Ae(){try{const h=await qs();if(Array.isArray(h)&&h.length>0){const p=rs(h);if(p.length<h.length){const K=h.length-p.length,Y=new Set,ae=[];for(const le of h){const Ve=[le.date instanceof Date?le.date.toISOString().slice(0,10):le.date,le.amount,(le.description||"").replace(/\s+/g,"").toLowerCase(),le.bank,le.category||""].join("|");Y.has(Ve)?le.id&&ae.push(le.id):Y.add(Ve)}for(const le of ae)await hs(le);x(` ${K}    `,"info")}const P={};p.forEach(K=>{const Y=K.bank||" ";P[Y]||(P[Y]=[]),P[Y].push(K)}),r.value=Object.entries(P).map(([K,Y])=>({bank:K,totalTransactions:Y.length,transactions:Y,fileName:`  ${K}`,period:{from:new Date(Math.min(...Y.map(ae=>new Date(ae.date)))),to:new Date(Math.max(...Y.map(ae=>new Date(ae.date))))}})),o.value=!0,x(` ${p.length}    IndexedDB`,"success")}else r.value=[],o.value=!0,x("     ","info");await B()}catch(h){x("    IndexedDB","error"),console.error("   IndexedDB:",h)}}function et(){r.value=[],o.value=!1}async function At(){try{const h=await bu();x(` ${h.count} `,"success")}catch(h){x("   ","error"),console.error(" :",h)}}async function bn(h){const p=h.target.files[0];if(p){try{const P=await p.text(),K=await yu(P);x(` ${K.count} `,"success"),await Ae()}catch(P){x("   ","error"),console.error(" :",P)}h.target.value=""}}function Be(){D.value=!0}async function Ge(){try{const h=await hu();x(` ${h.deletedCount}   `,"success"),r.value=[],i.value=i.value+1}catch(h){x("   ","error"),console.error(" :",h)}finally{D.value=!1}}function Xt(){D.value=!1}async function jt(h,p,P,K=!0){if(p==="amount"){const Y=parseFloat(P.replace(/[^\d\-.,]/g,"").replace(",","."));h.amount=isNaN(Y)?0:Y}else if(p==="date"){const Y=new Date(P);if(!isNaN(Y.getTime()))h.date=Y;else{x("  ","error");return}}else h[p]=P;if(o.value&&h.id)try{const Y=await Ir(h.id,{[p]:h[p]});if(Y)for(const ae of r.value){const le=ae.transactions.findIndex(Ve=>Ve.id===h.id);if(le!==-1){ae.transactions[le][p]=Y[p];break}}i.value=i.value+1,x(` "${p}" `,"success")}catch(Y){x("   ",Y)}K&&q()}function Uo(h){o.value=h,h&&_()}async function Lo(h){try{if(o.value)await Nn(h),await Ae(),i.value++,x("    ","success");else{const p={fileName:"",transactions:[h],period:{from:new Date(h.date),to:new Date(h.date)},meta:{source:"manual",addedAt:new Date().toISOString()}};r.value.push(p),i.value++,x("    ","success")}}catch(p){console.error("   :",p),x("   ","error")}}function Ko(h){m.value=h,f.value=!0}async function Ho(){if(m.value)try{if(o.value)if(m.value.id)await hs(m.value.id),x("    ","success"),await Ae(),i.value++;else throw new Error("   ID     ");else{for(let h=0;h<r.value.length;h++){const p=r.value[h],P=p.transactions.findIndex(K=>K===m.value);if(P!==-1){p.transactions.splice(P,1),p.transactions.length===0&&r.value.splice(h,1);break}}x("    ","success"),i.value++}f.value=!1,m.value=null}catch(h){console.error("   :",h),x("   ","error")}}function Gs(){f.value=!1,m.value=null}async function Xs(h){try{const p={...h,id:void 0,description:`${h.description} ()`,createdAt:new Date().toISOString()};if(o.value)await Nn(p),await Ae(),i.value++,x("    ","success");else{const P={fileName:" ",transactions:[p],period:{from:new Date(p.date),to:new Date(p.date)},meta:{source:"copy",addedAt:new Date().toISOString()}};r.value.push(P),i.value++,x("    ","success")}}catch(p){console.error("   :",p),x("   ","error")}}return t({addStatement:v,addManualTransaction:Lo,copyTransaction:Xs,loadStatementsFromDb:Ae,clearStatements:et,exportData:At,importData:bn,clearAllData:Ge,showClearAllConfirmation:Be,getAllTransactions:C,getCategories:()=>S.value,getBanks:O,saveAllToDb:Me,setDatabaseMode:Uo,statements:r,isDatabaseMode:o}),(h,p)=>{var P,K,Y,ae,le,Ve,Et,wt;return M(),R(ye,null,[a("div",xu,[a("h3",wu,N(o.value?"  ":"  "),1),a("p",_u,N(o.value?"     ":"     "),1)]),a("div",Su,[(M(!0),R(ye,null,Qe(ee.value,E=>(M(),R("div",{key:E.id,class:_e(["px-4 py-2 rounded shadow text-sm",E.type==="success"?"bg-green-100 text-green-800":E.type==="warning"?"bg-yellow-100 text-yellow-800":E.type==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"])},N(E.msg),3))),128))]),!o.value&&r.value.length>0?(M(),R("div",Cu,[a("div",Tu,[a("div",Du,[p[25]||(p[25]=a("div",{class:"text-blue-600 text-lg mr-2"},"",-1)),a("div",null,[p[24]||(p[24]=a("h3",{class:"font-medium text-blue-800"}," ",-1)),a("p",$u," : "+N(r.value.length),1)])]),a("button",{onClick:p[0]||(p[0]=E=>s("saveToDatabase")),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"},"      ")])])):pe("",!0),a("div",ku,[a("div",null,[p[27]||(p[27]=a("label",{class:"block text-xs mb-1"},"",-1)),We(a("select",{"onUpdate:modelValue":p[1]||(p[1]=E=>G.value=E),class:"border rounded px-2 py-1 h-8"},[p[26]||(p[26]=a("option",{value:""},"",-1)),(M(!0),R(ye,null,Qe(k.value,E=>(M(),R("option",{key:E,value:E},N(E),9,Au))),128))],512),[[tn,G.value]])]),a("div",null,[p[29]||(p[29]=a("label",{class:"block text-xs mb-1"},"",-1)),We(a("select",{"onUpdate:modelValue":p[2]||(p[2]=E=>De.value=E),class:"border rounded px-2 py-1 h-8"},[p[28]||(p[28]=a("option",{value:""},"",-1)),(M(!0),R(ye,null,Qe(S.value,E=>(M(),R("option",{key:E,value:E},N(E),9,Eu))),128))],512),[[tn,De.value]])]),a("div",null,[p[31]||(p[31]=a("label",{class:"block text-xs mb-1"},"",-1)),We(a("select",{"onUpdate:modelValue":p[3]||(p[3]=E=>je.value=E),onChange:Js,class:"border rounded px-2 py-1 h-8 min-w-20"},[p[30]||(p[30]=a("option",{value:""}," ",-1)),(M(!0),R(ye,null,Qe(vn.value,E=>(M(),R("option",{key:E,value:E},N(E),9,Ou))),128))],544),[[tn,je.value]])]),a("div",null,[p[33]||(p[33]=a("label",{class:"block text-xs mb-1"},"",-1)),We(a("select",{"onUpdate:modelValue":p[4]||(p[4]=E=>Ke.value=E),onChange:c,class:"border rounded px-2 py-1 h-8 min-w-24"},[p[32]||(p[32]=a("option",{value:""}," ",-1)),(M(!0),R(ye,null,Qe(kt.value,E=>(M(),R("option",{key:E.value,value:E.value},N(E.label),9,Iu))),128))],544),[[tn,Ke.value]])]),a("div",null,[p[34]||(p[34]=a("label",{class:"block text-xs mb-1"}," ",-1)),We(a("input",{type:"date","onUpdate:modelValue":p[5]||(p[5]=E=>me.value=E),onChange:b,class:"border rounded px-2 py-1 h-8"},null,544),[[mt,me.value]])]),a("div",null,[p[35]||(p[35]=a("label",{class:"block text-xs mb-1"}," ",-1)),We(a("input",{type:"date","onUpdate:modelValue":p[6]||(p[6]=E=>ze.value=E),onChange:b,class:"border rounded px-2 py-1 h-8"},null,544),[[mt,ze.value]])]),a("div",null,[p[36]||(p[36]=a("label",{class:"block text-xs mb-1"},"",-1)),We(a("input",{type:"text","onUpdate:modelValue":p[7]||(p[7]=E=>lt.value=E),placeholder:", , ...",class:"border rounded px-2 py-1 h-8"},null,512),[[mt,lt.value]])]),a("div",null,[p[37]||(p[37]=a("label",{class:"block text-xs mb-1"},"",-1)),a("button",{onClick:Q,class:"px-3 py-1 h-8 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors text-xs font-medium",title:"  "},"   ")]),a("div",Mu,": "+N(te.value.length),1)]),we()>0?(M(),R("div",Fu,[a("div",Pu,[a("div",Ru,[a("span",ju," : "+N(we())+"  ",1),a("button",{onClick:fe,class:"text-sm text-blue-600 hover:text-blue-800 underline"},"   ")]),a("div",Bu,[a("button",{onClick:de,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors text-sm"},"    "),a("button",{onClick:z,class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm"},"   ("+N(we())+") ",1)])])])):pe("",!0),(M(),Rt(qa,{data:te.value,key:i.value},{header:Ct(()=>[a("th",Vu,[a("input",{type:"checkbox",checked:we()===te.value.length&&te.value.length>0,indeterminate:we()>0&&we()<te.value.length,onChange:p[8]||(p[8]=E=>we()===te.value.length?fe():Te()),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,40,Nu)]),a("th",{class:"cursor-pointer whitespace-nowrap",onClick:p[9]||(p[9]=E=>ke("date"))},[p[38]||(p[38]=Ye("  ")),qe.value==="date"?(M(),R("span",Uu,N(Je.value==="asc"?"":""),1)):pe("",!0)]),a("th",{class:"cursor-pointer whitespace-nowrap",onClick:p[10]||(p[10]=E=>ke("bank"))},[p[39]||(p[39]=Ye("  ")),qe.value==="bank"?(M(),R("span",Lu,N(Je.value==="asc"?"":""),1)):pe("",!0)]),p[42]||(p[42]=a("th",{class:"table-description"},"",-1)),a("th",{class:"cursor-pointer whitespace-nowrap",onClick:p[11]||(p[11]=E=>ke("amount"))},[p[40]||(p[40]=Ye("  ")),qe.value==="amount"?(M(),R("span",Ku,N(Je.value==="asc"?"":""),1)):pe("",!0)]),a("th",{class:"cursor-pointer whitespace-nowrap table-category",onClick:p[12]||(p[12]=E=>ke("category"))},[p[41]||(p[41]=Ye("  ")),qe.value==="category"?(M(),R("span",Hu,N(Je.value==="asc"?"":""),1)):pe("",!0)]),p[43]||(p[43]=a("th",{class:"table-comment min-w-40 max-w-60"},"",-1)),p[44]||(p[44]=a("th",{class:"whitespace-nowrap w-24"},"",-1))]),row:Ct(({row:E})=>[a("td",Wu,[a("input",{type:"checkbox",checked:Ee(E),onChange:ve=>ne(re(E)),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,40,Yu)]),a("td",zu,[ge(fu,{value:E.date,"onUpdate:value":ve=>se(E,ve)},null,8,["value","onUpdate:value"])]),a("td",qu,[ge(Vn,{modelValue:E.bank,"onUpdate:modelValue":[ve=>E.bank=ve,ve=>jt(E,"bank",ve,!0)],items:k.value,placeholder:" ","item-name":"","allow-add-new":!0,onItemAdded:p[13]||(p[13]=ve=>I(ve)),onFocus:U,onBlur:q},null,8,["modelValue","onUpdate:modelValue","items"])]),a("td",{class:"table-description",contenteditable:"",title:E.description,onFocus:U,onBlur:ve=>jt(E,"description",ve.target.innerText,!0),onKeydown:p[14]||(p[14]=kn(tt(ve=>ve.target.blur(),["prevent"]),["enter"]))},N(E.description),41,Ju),a("td",{class:_e(E.amount>0?"text-green-600":"text-red-600"),contenteditable:"",onFocus:U,onBlur:ve=>jt(E,"amount",ve.target.innerText,!0),onKeydown:p[15]||(p[15]=kn(tt(ve=>ve.target.blur(),["prevent"]),["enter"]))},N(E.amount>0?"+":"")+N(E.amount.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2})),43,Gu),a("td",Xu,[(M(),Rt($s,{modelValue:E.category,"onUpdate:modelValue":[ve=>E.category=ve,ve=>jt(E,"category",ve,!0)],categories:S.value,key:`${E.id||E.date}-${E.description}-${E.amount}-${E.category}-${i.value}`,onCategoryAdded:H,onFocus:U,onBlur:q},null,8,["modelValue","onUpdate:modelValue","categories"]))]),a("td",{class:"table-comment",contenteditable:"",title:E.comment||"",onFocus:U,onBlur:ve=>jt(E,"comment",ve.target.innerText,!0),onKeydown:p[16]||(p[16]=kn(tt(ve=>ve.target.blur(),["prevent"]),["enter"]))},N(E.comment||""),41,Qu),a("td",Zu,[a("div",ec,[a("button",{onClick:ve=>Xs(E),class:"px-2 py-1 bg-blue-300 text-white rounded hover:bg-blue-500 transition-colors text-xs",title:" "},"  ",8,tc),a("button",{onClick:ve=>Ko(E),class:"px-2 py-1 bg-red-300 text-white rounded hover:bg-red-500 transition-colors text-xs",title:" "},"  ",8,nc)])])]),_:1},8,["data"])),f.value?(M(),R("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:Gs},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:p[17]||(p[17]=tt(()=>{},["stop"]))},[a("div",sc,[p[46]||(p[46]=a("div",{class:"flex items-center mb-4"},[a("div",{class:"text-red-500 text-2xl mr-3"},""),a("h3",{class:"text-lg font-semibold text-gray-900"}," ?")],-1)),a("div",rc,[p[45]||(p[45]=a("p",{class:"text-gray-600 mb-3"},"     ?",-1)),a("div",oc,[a("div",lc,[a("div",ic,N((P=m.value)==null?void 0:P.description),1),a("div",ac,[Ye(N((K=m.value)!=null&&K.date?(Y=oe(m.value.date))==null?void 0:Y.toLocaleDateString():"")+"  "+N((ae=m.value)==null?void 0:ae.bank)+"  ",1),a("span",{class:_e(((le=m.value)==null?void 0:le.amount)>0?"text-green-600":"text-red-600")},N(((Ve=m.value)==null?void 0:Ve.amount)>0?"+":"")+N((wt=(Et=m.value)==null?void 0:Et.amount)==null?void 0:wt.toLocaleString("ru-RU",{style:"currency",currency:"RUB"})),3)])])])]),a("div",{class:"flex space-x-3"},[a("button",{onClick:Gs,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{onClick:Ho,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"},"  ")])])])])):pe("",!0),D.value?(M(),R("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:Xt},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:p[18]||(p[18]=tt(()=>{},["stop"]))},[a("div",{class:"p-6"},[p[47]||(p[47]=Mo('<div class="flex items-center mb-4" data-v-0d5ff6ce><div class="text-red-500 text-2xl mr-3" data-v-0d5ff6ce></div><h3 class="text-lg font-semibold text-gray-900" data-v-0d5ff6ce>  ?</h3></div><div class="mb-6" data-v-0d5ff6ce><p class="text-gray-600 mb-3" data-v-0d5ff6ce>        ?    . </p><div class="bg-red-50 p-3 rounded border border-red-200" data-v-0d5ff6ce><div class="text-sm text-red-700" data-v-0d5ff6ce><div class="font-medium" data-v-0d5ff6ce> !</div><div data-v-0d5ff6ce> ,      .</div></div></div></div>',2)),a("div",{class:"flex space-x-3"},[a("button",{onClick:Xt,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{onClick:Ge,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"},"   ")])])])])):pe("",!0),j.value?(M(),R("div",{key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:ie},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:p[19]||(p[19]=tt(()=>{},["stop"]))},[a("div",uc,[p[49]||(p[49]=a("div",{class:"flex items-center mb-4"},[a("div",{class:"text-red-500 text-2xl mr-3"},""),a("h3",{class:"text-lg font-semibold text-gray-900"},"  ?")],-1)),a("div",cc,[a("p",fc,"     "+N(we())+" ?    . ",1),p[48]||(p[48]=a("div",{class:"bg-red-50 p-3 rounded border border-red-200"},[a("div",{class:"text-sm text-red-700"},[a("div",{class:"font-medium"}," !"),a("div",null,"    .")])],-1))]),a("div",dc,[a("button",{onClick:ie,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{onClick:F,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"},"  "+N(we()),1)])])])])):pe("",!0),L.value?(M(),R("div",{key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:y},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:p[23]||(p[23]=tt(()=>{},["stop"]))},[a("div",pc,[p[54]||(p[54]=a("div",{class:"flex items-center mb-4"},[a("div",{class:"text-green-500 text-2xl mr-3"},""),a("h3",{class:"text-lg font-semibold text-gray-900"},"  ")],-1)),a("div",gc,[a("p",hc,[p[50]||(p[50]=Ye("   ")),a("strong",null,N(we()),1),p[51]||(p[51]=Ye(" .   ,     . "))]),a("div",mc,[a("div",null,[p[52]||(p[52]=a("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),ge(Vn,{modelValue:X.value,"onUpdate:modelValue":p[20]||(p[20]=E=>X.value=E),items:k.value,placeholder:"  ","item-name":"","allow-add-new":!0,onItemAdded:p[21]||(p[21]=E=>I(E))},null,8,["modelValue","items"])]),a("div",null,[p[53]||(p[53]=a("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),ge($s,{modelValue:V.value,"onUpdate:modelValue":p[22]||(p[22]=E=>V.value=E),categories:S.value,placeholder:"  ",onCategoryAdded:H},null,8,["modelValue","categories"])])])]),a("div",vc,[a("button",{onClick:y,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{onClick:Se,class:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"},"   "+N(we())+"  ",1)])])])])):pe("",!0)],64)}}},yc=ns(bc,[["__scopeId","data-v-0d5ff6ce"]]),xc={class:"flex justify-between items-center p-6 border-b"},wc={class:"flex items-center gap-3"},_c={class:"flex items-center gap-2"},Sc=["value"],Cc={class:"p-6 overflow-auto max-h-[calc(90vh-120px)]"},Tc={key:0,class:"text-center py-8"},Dc={key:1,class:"mb-4 text-sm text-gray-600"},$c={key:2,class:"overflow-x-auto"},kc={class:"min-w-full border-collapse"},Ac={class:"bg-gray-50"},Ec=["onDragstart","onDragover","onDrop"],Oc={class:"border px-3 py-2 font-medium text-gray-900"},Ic={class:"border px-2 py-2 text-right font-semibold bg-gray-100 text-gray-900"},Mc={class:"border px-2 py-2 text-right font-semibold bg-gray-100 text-gray-900"},Fc={class:"bg-gray-100 font-bold",draggable:!1},Pc={class:"border px-2 py-2 text-right bg-gray-200 text-gray-900"},Rc={class:"border px-2 py-2 text-right bg-gray-300 text-gray-900"},jc={__name:"MonthlyTable",props:{transactions:{type:Array,default:()=>[]}},emits:["close"],setup(e,{expose:t}){const n=e,s=W(""),r=W([]),o=W(null),l=W(null),i=W(!1),u=Ce(()=>{let y=Object.keys(f.value).sort();s.value&&(y=y.filter(_=>_.startsWith(s.value+"-")));const v={"01":"","02":"","03":"","04":"","05":"","06":"","07":"","08":"","09":"",10:"",11:"",12:""};return y.map(_=>{const[Q,G]=_.split("-");return{key:_,label:`${v[G]} ${Q}`,year:Q,month:G}})}),d=Ce(()=>{const y=new Set;return Object.keys(f.value).forEach(v=>{const _=v.split("-")[0];y.add(_)}),Array.from(y).sort()}),f=Ce(()=>{const y={};return n.transactions.forEach(v=>{if(!v.date||!v.amount)return;const _=fe(v.date);if(!_){console.warn("   :",v);return}const Q=_.getFullYear(),G=String(_.getMonth()+1).padStart(2,"0"),De=`${Q}-${G}`,me=v.category||"";y[De]||(y[De]={}),y[De][me]||(y[De][me]={income:0,expense:0}),v.amount>0?y[De][me].income+=v.amount:y[De][me].expense+=Math.abs(v.amount)}),y});Ce(()=>{const y=[];return Object.values(f.value).forEach(v=>{Object.values(v).forEach(_=>{_.income>0&&y.push(_.income)})}),y.length===0?{min:0,max:0}:{min:Math.min(...y),max:Math.max(...y)}}),Ce(()=>{const y=[];return Object.values(f.value).forEach(v=>{Object.values(v).forEach(_=>{_.expense>0&&y.push(_.expense)})}),y.length===0?{min:0,max:0}:{min:Math.min(...y),max:Math.max(...y)}});const m=W([]),D=Ce(()=>{const y=Array.from(new Set(n.transactions.map(_=>_.category))).filter(Boolean);return[...new Set([...m.value,...y])].sort()});Gt(async()=>{await $(),await j()});async function $(){try{const y=await ss();y&&(m.value=y,r.value=[...y])}catch(y){console.error("     :",y)}}async function j(){try{const y=await Mr();if(y&&Array.isArray(y)&&y.length>0){const v=Array.from(new Set(n.transactions.map(G=>G.category))).filter(Boolean),_=y.filter(G=>v.includes(G)),Q=v.filter(G=>!y.includes(G));r.value=[..._,...Q.sort()]}}catch(y){console.error("    :",y)}}async function L(){try{await vu(r.value)}catch(y){console.error("    :",y)}}const X=async()=>{const y=Array.from(new Set(n.transactions.map(_=>_.category))).filter(Boolean),v=await Mr();if(v&&Array.isArray(v)&&v.length>0){const _=v.filter(G=>y.includes(G)),Q=y.filter(G=>!v.includes(G));r.value=[..._,...Q.sort()]}else r.value=y.sort()};zt([D,m,()=>n.transactions],async()=>{await X()},{immediate:!0});function V(y,v){const Q=(f.value[y]||{})[v]||{income:0,expense:0};return Q.income-Q.expense}function B(y){return Object.keys(f.value).reduce((v,_)=>v+V(_,y),0)}function ee(y){const v=[];return Object.keys(f.value).forEach(_=>{const Q=V(_,y);Q!==0&&v.push(Q)}),v.length===0?0:v.reduce((_,Q)=>_+Q,0)/v.length}function x(y){const v=f.value[y]||{};return Object.values(v).reduce((_,Q)=>_+(Q.income-Q.expense),0)}function ne(){return Object.keys(f.value).reduce((y,v)=>y+x(v),0)}function Te(){const y=[];return Object.keys(f.value).forEach(v=>{const _=x(v);_!==0&&y.push(_)}),y.length===0?0:y.reduce((v,_)=>v+_,0)/y.length}function fe(y){if(y instanceof Date)return y;if(typeof y=="string"&&/^\d{2}\.\d{2}\.\d{4}$/.test(y)){const[_,Q,G]=y.split(".");return new Date(parseInt(G),parseInt(Q)-1,parseInt(_))}const v=new Date(y);return isNaN(v.getTime())?(console.warn("   :",y),null):v}function re(y){if(y===0)return"0";const v=y.toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:0});return y>0?`+${v}`:v}function Ee(y){if(y===0)return"";if(y>0){const v=Math.abs(y);return v>=1e5?"bg-green-600 text-white font-semibold":v>=5e4?"bg-green-500 text-white":v>=2e4?"bg-green-400 text-white":v>=1e4?"bg-green-300 text-gray-800":"bg-green-100 text-gray-800"}else{const v=Math.abs(y);return v>=1e5?"bg-red-600 text-white font-semibold":v>=5e4?"bg-red-500 text-white":v>=2e4?"bg-red-400 text-white":v>=1e4?"bg-red-300 text-gray-800":"bg-red-100 text-gray-800"}}function we(){}function z(y,v,_){o.value=v,i.value=!0,y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/html",v),y.target.style.opacity="0.5"}function F(y){y.target.style.opacity="1",o.value=null,l.value=null,i.value=!1}function ie(y,v){y.preventDefault(),y.dataTransfer.dropEffect="move",l.value=v}function de(y){y.currentTarget.contains(y.relatedTarget)||(l.value=null)}function Se(y,v){if(y.preventDefault(),o.value===null)return;const _=r.value.indexOf(o.value);if(_===-1||_===v){l.value=null;return}const Q=[...r.value],[G]=Q.splice(_,1);Q.splice(v,0,G),r.value=Q,L(),l.value=null,o.value=null}return t({refreshCategoriesFromDb:$}),(y,v)=>(M(),R("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:v[5]||(v[5]=_=>y.$emit("close"))},[a("div",{class:"bg-white rounded-lg shadow-xl w-full max-h-[90vh] overflow-hidden",onClick:v[4]||(v[4]=tt(()=>{},["stop"]))},[a("div",xc,[v[8]||(v[8]=a("h2",{class:"text-2xl font-bold text-gray-900"},"    ",-1)),a("div",wc,[a("div",_c,[v[7]||(v[7]=a("label",{class:"text-sm text-gray-600"},":",-1)),We(a("select",{"onUpdate:modelValue":v[0]||(v[0]=_=>s.value=_),class:"text-sm border rounded px-2 py-1",onChange:we},[v[6]||(v[6]=a("option",{value:""}," ",-1)),(M(!0),R(ye,null,Qe(d.value,_=>(M(),R("option",{key:_,value:_},N(_),9,Sc))),128))],544),[[tn,s.value]])]),a("button",{onClick:v[1]||(v[1]=_=>y.$emit("close")),class:"text-gray-400 hover:text-gray-600 text-2xl font-bold"},"  ")])]),a("div",Cc,[!f.value||Object.keys(f.value).length===0?(M(),R("div",Tc,v[9]||(v[9]=[a("p",{class:"text-gray-500"},"   ",-1)]))):pe("",!0),f.value&&Object.keys(f.value).length>0?(M(),R("div",Dc,"  : "+N(n.transactions.length)+" |  : "+N(u.value.length)+" | : "+N(r.value.length),1)):pe("",!0),f.value&&Object.keys(f.value).length>0?(M(),R("div",$c,[a("table",kc,[a("thead",null,[a("tr",Ac,[v[10]||(v[10]=a("th",{class:"border px-3 py-2 text-left font-semibold text-gray-700"},"",-1)),(M(!0),R(ye,null,Qe(u.value,_=>(M(),R("th",{key:_.key,class:"border px-3 py-2 text-center font-semibold text-gray-700"},N(_.label),1))),128)),v[11]||(v[11]=a("th",{class:"border px-3 py-2 text-center font-semibold text-gray-700"}," ",-1)),v[12]||(v[12]=a("th",{class:"border px-3 py-2 text-center font-semibold text-gray-700"},"",-1))])]),a("tbody",null,[(M(!0),R(ye,null,Qe(r.value,(_,Q)=>(M(),R("tr",{key:_,class:_e(["hover:bg-gray-50 transition-all duration-200",i.value&&o.value===_?"opacity-50 bg-gray-200":"",l.value===Q?"bg-blue-100 shadow-md":""]),style:qn(l.value===Q?"outline: 4px solid rgb(59, 130, 246); outline-offset: -4px;":""),draggable:!0,onDragstart:G=>z(G,_),onDragend:v[2]||(v[2]=G=>F(G)),onDragover:G=>ie(G,Q),onDragleave:v[3]||(v[3]=G=>de(G)),onDrop:G=>Se(G,Q)},[a("td",Oc,N(_),1),(M(!0),R(ye,null,Qe(u.value,G=>(M(),R("td",{key:G.key,class:_e(["border px-2 py-2 text-right",Ee(V(G.key,_))])},N(re(V(G.key,_))),3))),128)),a("td",Ic,N(re(ee(_))),1),a("td",Mc,N(re(B(_))),1)],46,Ec))),128)),a("tr",Fc,[v[13]||(v[13]=a("td",{class:"border px-3 py-2 text-gray-900"},"",-1)),(M(!0),R(ye,null,Qe(u.value,_=>(M(),R("td",{key:_.key,class:"border px-2 py-2 text-right bg-gray-200 text-gray-900"},N(re(x(_.key))),1))),128)),a("td",Pc,N(re(Te())),1),a("td",Rc,N(re(ne())),1)])])])])):pe("",!0)])])]))}},Bc=ns(jc,[["__scopeId","data-v-63e401b4"]]),Vc={class:"p-6"},Nc={class:"flex items-center justify-between mb-4"},Uc={class:"flex space-x-3 pt-4"},Lc=["disabled"],Kc={__name:"AddTransactionModal",props:{isOpen:{type:Boolean,default:!1},categories:{type:Array,default:()=>[]},banks:{type:Array,default:()=>[]}},emits:["close","add-transaction"],setup(e,{emit:t}){const n=e,s=t,r=W({date:"",description:"",amount:"",category:"",bank:"",comment:""}),o=Ce(()=>{const u=n.banks||[];return u.length===0?[""]:u.sort()}),l=Ce(()=>{const u=!!r.value.date,d=!!r.value.description.trim(),f=r.value.amount!==""&&parseFloat(r.value.amount)!==0;return u&&d&&f});zt(()=>n.isOpen,u=>{if(u){const d=new Date;r.value.date=d.toISOString().split("T")[0],r.value.description="",r.value.amount="",r.value.category="",r.value.comment="";const f=o.value;r.value.bank=f.length>0?f[0]:""}});function i(){if(!l.value)return;const u={date:r.value.date,description:r.value.description.trim(),amount:parseFloat(r.value.amount),category:r.value.category||"",bank:r.value.bank||"",comment:r.value.comment.trim()||"",raw:`${r.value.bank||""}: ${r.value.description}`,meta:{source:"manual",addedAt:new Date().toISOString()}};s("add-transaction",u),s("close")}return(u,d)=>e.isOpen?(M(),R("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:d[9]||(d[9]=f=>u.$emit("close"))},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:d[8]||(d[8]=tt(()=>{},["stop"]))},[a("div",Vc,[a("div",Nc,[d[10]||(d[10]=a("h2",{class:"text-lg font-semibold text-gray-900"},"  ",-1)),a("button",{onClick:d[0]||(d[0]=f=>u.$emit("close")),class:"text-gray-400 hover:text-gray-600 transition-colors"},"  ")]),a("form",{onSubmit:tt(i,["prevent"]),class:"space-y-4"},[a("div",null,[d[11]||(d[11]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),ge($s,{modelValue:r.value.category,"onUpdate:modelValue":d[1]||(d[1]=f=>r.value.category=f),categories:e.categories,placeholder:" "},null,8,["modelValue","categories"])]),a("div",null,[d[12]||(d[12]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),ge(Vn,{modelValue:r.value.bank,"onUpdate:modelValue":d[2]||(d[2]=f=>r.value.bank=f),items:o.value,placeholder:" ","item-name":"","allow-add-new":!0},null,8,["modelValue","items"])]),a("div",null,[d[13]||(d[13]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ye(" "),a("span",{class:"text-red-500"},"*")],-1)),We(a("input",{"onUpdate:modelValue":d[3]||(d[3]=f=>r.value.date=f),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[mt,r.value.date]])]),a("div",null,[d[14]||(d[14]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ye(" "),a("span",{class:"text-red-500"},"*")],-1)),We(a("input",{"onUpdate:modelValue":d[4]||(d[4]=f=>r.value.description=f),type:"text",required:"",placeholder:"  ",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[mt,r.value.description]])]),a("div",null,[d[15]||(d[15]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ye(" "),a("span",{class:"text-red-500"},"*")],-1)),We(a("input",{"onUpdate:modelValue":d[5]||(d[5]=f=>r.value.amount=f),type:"number",step:"0.01",required:"",placeholder:"0.00",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[mt,r.value.amount]]),d[16]||(d[16]=a("p",{class:"text-xs text-gray-500 mt-1"},"   = ,  =  ",-1))]),a("div",null,[d[17]||(d[17]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),We(a("textarea",{"onUpdate:modelValue":d[6]||(d[6]=f=>r.value.comment=f),placeholder:"    ()",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"},null,512),[[mt,r.value.comment]])]),a("div",Uc,[a("button",{type:"button",onClick:d[7]||(d[7]=f=>u.$emit("close")),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{type:"submit",disabled:!l.value,class:_e(["flex-1 px-4 py-2 rounded-lg font-medium transition-colors",l.value?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed opacity-100"])},"  ",10,Lc)]),d[18]||(d[18]=a("div",{class:"text-xs text-gray-500 mt-2"},[a("span",{class:"text-red-500"},"*"),Ye(" -   ")],-1))],32)])])])):pe("",!0)}},Hc={key:0,class:"fixed bottom-4 right-4 z-50 flex gap-2 rounded-lg bg-blue-600 p-3 text-white shadow-lg"},Wc={__name:"PWAInstallButton",setup(e){const t=W(!1),n=W(null);async function s(){if("getInstalledRelatedApps"in navigator)try{(await navigator.getInstalledRelatedApps()).length>0&&(t.value=!1)}catch{}}function r(){n.value&&(n.value.prompt(),n.value.userChoice.then(()=>{t.value=!1}))}return Gt(()=>{s()}),window.addEventListener("beforeinstallprompt",o=>{n.value=o,t.value=!0}),window.addEventListener("appinstalled",()=>{t.value=!1}),(o,l)=>t.value?(M(),R("div",Hc,[a("button",{class:"rounded-md bg-white px-3 py-1 text-sm font-medium text-blue-600 hover:bg-gray-100 transition-colors",onClick:r},"   "),a("button",{class:"rounded-md bg-gray-600 px-3 py-1 text-sm font-medium text-white hover:bg-gray-700 transition-colors",onClick:l[0]||(l[0]=i=>t.value=!1)},"  ")])):pe("",!0)}},Yc=ns(Wc,[["__scopeId","data-v-19fbfc8c"]]),zc={class:"min-h-screen bg-gray-50"},qc={class:"w-full max-w-none mx-auto space-y-4 p-4"},Jc={class:"bg-white border-b border-gray-200 px-4 py-3"},Gc={class:"flex items-center justify-between"},Xc={class:"flex items-center space-x-3"},Qc={key:0,class:"flex items-center"},Zc={key:0,class:"fixed top-3 right-3 z-50"},ef={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},tf={class:"text-xs text-gray-500 mb-1"},nf={class:"text-2xl font-bold text-green-600 mb-2"},sf={class:"text-xs text-gray-500 mb-1"},rf={class:"text-2xl font-bold text-green-500 mb-2"},of={class:"text-xs text-gray-500 mb-1"},lf={class:"text-2xl font-bold text-red-500 mb-2"},af={class:"flex space-x-2 mb-4"},uf={key:0},cf={class:"mb-4"},ff={key:1},df={class:"flex justify-between"},pf={class:"flex flex-wrap gap-2"},gf=["disabled"],xf={__name:"App",setup(e){const t=W(null),n=W(null),s=W("upload"),r=W(!1),o=W(!1),l=W(!1),i=W(!1),u=W(null);function d(z){u.value=z}async function f(z){t.value&&t.value.addStatement&&(await t.value.addStatement(z),l.value=!0,i.value=!0,setTimeout(()=>{i.value=!1},5e3))}async function m(){t.value&&t.value.saveAllToDb&&(await t.value.saveAllToDb(),l.value=!1,s.value="database",await j())}function D(){s.value="upload",t.value&&t.value.clearStatements&&t.value.clearStatements(),t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!1),l.value=!1,i.value=!1}function $(){s.value="database",t.value&&t.value.loadStatementsFromDb&&t.value.loadStatementsFromDb(),t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!0),j(),l.value=!1,i.value=!1}async function j(){n.value&&n.value.refreshCategoriesFromDb&&await n.value.refreshCategoriesFromDb()}async function L(){await j()}async function X(z){t.value&&t.value.addManualTransaction&&(await t.value.addManualTransaction(z),t.value.statements&&t.value.statements.length>0&&!t.value.isDatabaseMode&&(l.value=!0))}function V(z){if(z instanceof Date)return z;if(typeof z=="string"&&/^\d{2}\.\d{2}\.\d{4}$/.test(z)){const[ie,de,Se]=z.split(".");return new Date(parseInt(Se),parseInt(de)-1,parseInt(ie))}const F=new Date(z);return isNaN(F.getTime())?(console.warn("   :",z),null):F}function B(z){return Array.isArray(z)?z.reduce((F,ie)=>F+(ie.amount||0),0):0}function ee(z){if(!Array.isArray(z)||z.length===0)return null;const F=new Set;return z.forEach(ie=>{if(ie.date){const de=V(ie.date);de&&F.add(de.getFullYear())}}),F.size===0?null:Math.max(...F)}function x(z){if(!Array.isArray(z)||z.length===0)return 0;const F=ee(z);return F?z.filter(de=>{if(!de.date)return!1;const Se=V(de.date);if(!Se)return!1;const y=Se.getFullYear()===F,v=(de.amount||0)>0;return y&&v}).reduce((de,Se)=>de+(Se.amount||0),0):0}function ne(z){if(!Array.isArray(z)||z.length===0)return 0;const F=ee(z);return F?z.filter(de=>{if(!de.date)return!1;const Se=V(de.date);if(!Se)return!1;const y=Se.getFullYear()===F,v=(de.amount||0)<0;return y&&v}).reduce((de,Se)=>de+Math.abs(Se.amount||0),0):0}const Te=Ce(()=>{var F,ie;if(!t.value)return{balance:0,income:0,expenses:0};const z=((ie=(F=t.value).getAllTransactions)==null?void 0:ie.call(F))||[];return{balance:B(z),income:x(z),expenses:ne(z)}}),fe=Ce(()=>{var F,ie;return t.value?(((ie=(F=t.value).getAllTransactions)==null?void 0:ie.call(F))||[]).length>0:!1});Gt(async()=>{setTimeout(async()=>{if(t.value&&t.value.loadStatementsFromDb)try{await t.value.loadStatementsFromDb(),s.value="database",t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!0)}catch{t.value&&t.value.clearStatements&&t.value.clearStatements(),t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!1)}},100)});function re(){t.value&&t.value.exportData&&t.value.exportData()}function Ee(){const z=document.createElement("input");z.type="file",z.accept=".json",z.onchange=F=>{t.value&&t.value.importData&&t.value.importData(F)},z.click()}function we(){t.value&&t.value.showClearAllConfirmation&&t.value.showClearAllConfirmation()}return(z,F)=>{var de,Se,y,v,_,Q;const ie=Xl("Card");return M(),R("div",zc,[a("div",qc,[a("header",Jc,[a("div",Gc,[a("div",Xc,[F[5]||(F[5]=a("h1",{class:"text-lg font-bold text-gray-900"},"  ",-1)),l.value?(M(),R("div",Qc,F[4]||(F[4]=[a("span",{class:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full"},"     ",-1)]))):pe("",!0)]),F[6]||(F[6]=a("p",{class:"text-xs text-gray-500"},"Local-first PWA   ",-1))])]),i.value?(M(),R("div",Zc,F[7]||(F[7]=[Mo('<div class="bg-green-50 border border-green-200 rounded-lg p-3 shadow-lg max-w-sm"><div class="flex items-center"><div class="text-green-500 text-lg mr-2"></div><div><h3 class="font-medium text-green-800 text-sm">  </h3><p class="text-xs text-green-700 mt-0.5">    .      ! </p></div></div></div>',1)]))):pe("",!0),a("div",ef,[ge(ie,{class:"text-center hover:shadow-lg transition-shadow"},{default:Ct(()=>[a("div",tf,N(s.value==="upload"?"  ":"  "),1),a("div",nf,N(Te.value.balance>=0?"+":"")+N(Te.value.balance.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),1),F[8]||(F[8]=a("div",{class:"text-gray-600"}," ",-1))]),_:1,__:[8]}),ge(ie,{class:"text-center hover:shadow-lg transition-shadow"},{default:Ct(()=>[a("div",sf,N(s.value==="upload"?"  ":"  "),1),a("div",rf,N(Te.value.income.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),1),F[9]||(F[9]=a("div",{class:"text-gray-600"},"  ",-1))]),_:1,__:[9]}),ge(ie,{class:"text-center hover:shadow-lg transition-shadow"},{default:Ct(()=>[a("div",of,N(s.value==="upload"?"  ":"  "),1),a("div",lf,N(Te.value.expenses.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),1),F[10]||(F[10]=a("div",{class:"text-gray-600"},"  ",-1))]),_:1,__:[10]})]),ge(ie,null,{default:Ct(()=>[a("div",af,[a("button",{onClick:D,class:_e(["px-4 py-2 rounded-lg font-medium transition-colors text-sm",s.value==="upload"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},"    ",2),a("button",{onClick:$,class:_e(["px-4 py-2 rounded-lg font-medium transition-colors text-sm",s.value==="database"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},"    ",2)]),s.value==="upload"?(M(),R("div",uf,[F[11]||(F[11]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-3"},"      ",-1)),F[12]||(F[12]=a("p",{class:"text-gray-600 mb-4 text-sm"},"   ,   Excel  PDF    .        ,         . ",-1)),a("div",cf,[ge(La,{"selected-bank":u.value,onBankSelected:d},null,8,["selected-bank"])]),ge(Pa,{"selected-bank":u.value,onFileParsed:f},null,8,["selected-bank"])])):pe("",!0),s.value==="database"?(M(),R("div",ff,[F[16]||(F[16]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-3"},"   ",-1)),F[17]||(F[17]=a("p",{class:"text-gray-600 mb-4 text-sm"},"         .   ,    . ",-1)),a("div",df,[a("div",pf,[a("button",{onClick:F[0]||(F[0]=G=>r.value=!0),class:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium text-sm"},"    "),F[13]||(F[13]=a("div",{class:"w-4"},null,-1)),a("button",{onClick:F[1]||(F[1]=G=>o.value=!0),class:"px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium text-sm"},"   "),F[14]||(F[14]=a("div",{class:"w-4"},null,-1)),a("button",{onClick:re,disabled:!fe.value,class:_e(["px-3 py-2 rounded-lg transition-colors font-medium text-sm",fe.value?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])},"   ",10,gf),a("button",{onClick:Ee,class:"px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium text-sm"},"   "),F[15]||(F[15]=a("div",{class:"w-4"},null,-1))]),a("button",{onClick:we,class:"px-3 py-2 bg-red-300 text-white rounded-lg hover:bg-red-500 transition-colors font-medium text-sm"},"   ")])])):pe("",!0)]),_:1}),ge(ie,null,{default:Ct(()=>[ge(yc,{ref_key:"allTable",ref:t,onCategoriesUpdated:L,onSaveToDatabase:m},null,512)]),_:1}),r.value?(M(),Rt(Bc,{key:1,ref_key:"monthlyTable",ref:n,transactions:((Se=(de=t.value)==null?void 0:de.getAllTransactions)==null?void 0:Se.call(de))||[],onClose:F[2]||(F[2]=G=>r.value=!1),onCategoriesUpdated:L},null,8,["transactions"])):pe("",!0),ge(Kc,{"is-open":o.value,categories:((v=(y=t.value)==null?void 0:y.getCategories)==null?void 0:v.call(y))||[],banks:((Q=(_=t.value)==null?void 0:_.getBanks)==null?void 0:Q.call(_))||[],onClose:F[3]||(F[3]=G=>o.value=!1),onAddTransaction:X},null,8,["is-open","categories","banks"]),ge(Yc)])])}}},hf=["disabled"],wf={__name:"Button",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","outline","ghost"].includes(e)},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},disabled:{type:Boolean,default:!1}},setup(e){return(t,n)=>(M(),R("button",{class:_e(["inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e.variant==="primary"&&"bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-blue-500",e.variant==="secondary"&&"bg-gray-100 text-gray-900 hover:bg-gray-200 focus-visible:ring-gray-500",e.variant==="outline"&&"border border-gray-300 bg-transparent hover:bg-gray-50 focus-visible:ring-gray-500",e.variant==="ghost"&&"hover:bg-gray-100 focus-visible:ring-gray-500",e.size==="sm"&&"h-8 px-3 text-sm",e.size==="md"&&"h-10 px-4 py-2",e.size==="lg"&&"h-12 px-8 text-lg"]),disabled:e.disabled},[Fn(t.$slots,"default")],10,hf))}},_f={__name:"Card",props:{padding:{type:String,default:"md",validator:e=>["none","sm","md","lg"].includes(e)}},setup(e){return(t,n)=>(M(),R("div",{class:_e(["rounded-lg border bg-white shadow-sm",e.padding==="none"&&"",e.padding==="sm"&&"p-3",e.padding==="md"&&"p-6",e.padding==="lg"&&"p-8"])},[Fn(t.$slots,"default")],2))}},mf=["disabled","placeholder"],Sf={__name:"Input",props:{size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(e){return(t,n)=>(M(),R("input",{class:_e(["flex w-full rounded-md border border-gray-300 bg-white px-3 font-medium transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e.size==="sm"&&"h-8 text-sm",e.size==="md"&&"h-10",e.size==="lg"&&"h-12 text-lg"]),disabled:e.disabled,placeholder:e.placeholder,onInput:n[0]||(n[0]=s=>t.$emit("update:modelValue",s.target.value))},null,42,mf))}};export{qa as T,wf as _,_f as a,Sf as b,yf as c,Pa as d,xf as e};
