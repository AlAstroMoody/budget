import{aggregateTransactions as Wo,filterAndSortTransactions as zo}from"./pdf-CDN-8x2c.js";import{g as Ns,s as Ls,k as Mr,d as Fr}from"./database-Boc4ICmW.js";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $n(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const me={},Vt=[],ft=()=>{},Yo=()=>!1,Ks=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Dn=e=>e.startsWith("onUpdate:"),We=Object.assign,kn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},qo=Object.prototype.hasOwnProperty,ce=(e,t)=>qo.call(e,t),X=Array.isArray,Ut=e=>gs(e)==="[object Map]",Hs=e=>gs(e)==="[object Set]",Xn=e=>gs(e)==="[object Date]",ee=e=>typeof e=="function",Ae=e=>typeof e=="string",it=e=>typeof e=="symbol",Se=e=>e!==null&&typeof e=="object",Rr=e=>(Se(e)||ee(e))&&ee(e.then)&&ee(e.catch),Pr=Object.prototype.toString,gs=e=>Pr.call(e),Go=e=>gs(e).slice(8,-1),jr=e=>gs(e)==="[object Object]",An=e=>Ae(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ss=$n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ws=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Jo=/-(\w)/g,ot=Ws(e=>e.replace(Jo,(t,s)=>s?s.toUpperCase():"")),Xo=/\B([A-Z])/g,kt=Ws(e=>e.replace(Xo,"-$1").toLowerCase()),zs=Ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),nn=Ws(e=>e?`on${zs(e)}`:""),$t=(e,t)=>!Object.is(e,t),_s=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},gn=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},As=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Qn;const Ys=()=>Qn||(Qn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function as(e){if(X(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Ae(n)?tl(n):as(n);if(r)for(const o in r)t[o]=r[o]}return t}else if(Ae(e)||Se(e))return e}const Qo=/;(?![^(]*\))/g,Zo=/:([^]+)/,el=/\/\*[^]*?\*\//g;function tl(e){const t={};return e.replace(el,"").split(Qo).forEach(s=>{if(s){const n=s.split(Zo);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function _e(e){let t="";if(Ae(e))t=e;else if(X(e))for(let s=0;s<e.length;s++){const n=_e(e[s]);n&&(t+=n+" ")}else if(Se(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const sl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nl=$n(sl);function Br(e){return!!e||e===""}function rl(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=qs(e[n],t[n]);return s}function qs(e,t){if(e===t)return!0;let s=Xn(e),n=Xn(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=it(e),n=it(t),s||n)return e===t;if(s=X(e),n=X(t),s||n)return s&&n?rl(e,t):!1;if(s=Se(e),n=Se(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const l in e){const i=e.hasOwnProperty(l),u=t.hasOwnProperty(l);if(i&&!u||!i&&u||!qs(e[l],t[l]))return!1}}return String(e)===String(t)}function ol(e,t){return e.findIndex(s=>qs(s,t))}const Vr=e=>!!(e&&e.__v_isRef===!0),R=e=>Ae(e)?e:e==null?"":X(e)||Se(e)&&(e.toString===Pr||!ee(e.toString))?Vr(e)?R(e.value):JSON.stringify(e,Ur,2):String(e),Ur=(e,t)=>Vr(t)?Ur(e,t.value):Ut(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],o)=>(s[rn(n,o)+" =>"]=r,s),{})}:Hs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>rn(s))}:it(t)?rn(t):Se(t)&&!X(t)&&!jr(t)?String(t):t,rn=(e,t="")=>{var s;return it(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ge;class ll{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ge,!t&&Ge&&(this.index=(Ge.scopes||(Ge.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ge;try{return Ge=this,t()}finally{Ge=s}}}on(){++this._on===1&&(this.prevScope=Ge,Ge=this)}off(){this._on>0&&--this._on===0&&(Ge=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function il(){return Ge}let we;const on=new WeakSet;class Nr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ge&&Ge.active&&Ge.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,on.has(this)&&(on.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Kr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zn(this),Hr(this);const t=we,s=lt;we=this,lt=!0;try{return this.fn()}finally{Wr(this),we=t,lt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)In(t);this.deps=this.depsTail=void 0,Zn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?on.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hn(this)&&this.run()}get dirty(){return hn(this)}}let Lr=0,ns,rs;function Kr(e,t=!1){if(e.flags|=8,t){e.next=rs,rs=e;return}e.next=ns,ns=e}function En(){Lr++}function On(){if(--Lr>0)return;if(rs){let t=rs;for(rs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ns;){let t=ns;for(ns=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Hr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Wr(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),In(n),al(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function hn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(zr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function zr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===us)||(e.globalVersion=us,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!hn(e))))return;e.flags|=2;const t=e.dep,s=we,n=lt;we=e,lt=!0;try{Hr(e);const r=e.fn(e._value);(t.version===0||$t(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{we=s,lt=n,Wr(e),e.flags&=-3}}function In(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)In(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function al(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let lt=!0;const Yr=[];function yt(){Yr.push(lt),lt=!1}function xt(){const e=Yr.pop();lt=e===void 0?!0:e}function Zn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=we;we=void 0;try{t()}finally{we=s}}}let us=0;class ul{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Mn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!we||!lt||we===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==we)s=this.activeLink=new ul(we,this),we.deps?(s.prevDep=we.depsTail,we.depsTail.nextDep=s,we.depsTail=s):we.deps=we.depsTail=s,qr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=we.depsTail,s.nextDep=void 0,we.depsTail.nextDep=s,we.depsTail=s,we.deps===s&&(we.deps=n)}return s}trigger(t){this.version++,us++,this.notify(t)}notify(t){En();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{On()}}}function qr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)qr(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const mn=new WeakMap,Ft=Symbol(""),vn=Symbol(""),cs=Symbol("");function Pe(e,t,s){if(lt&&we){let n=mn.get(e);n||mn.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Mn),r.map=n,r.key=s),r.track()}}function vt(e,t,s,n,r,o){const l=mn.get(e);if(!l){us++;return}const i=u=>{u&&u.trigger()};if(En(),t==="clear")l.forEach(i);else{const u=X(e),p=u&&An(s);if(u&&s==="length"){const d=Number(n);l.forEach((v,_)=>{(_==="length"||_===cs||!it(_)&&_>=d)&&i(v)})}else switch((s!==void 0||l.has(void 0))&&i(l.get(s)),p&&i(l.get(cs)),t){case"add":u?p&&i(l.get("length")):(i(l.get(Ft)),Ut(e)&&i(l.get(vn)));break;case"delete":u||(i(l.get(Ft)),Ut(e)&&i(l.get(vn)));break;case"set":Ut(e)&&i(l.get(Ft));break}}On()}function jt(e){const t=ue(e);return t===e?t:(Pe(t,"iterate",cs),rt(e)?t:t.map(Me))}function Gs(e){return Pe(e=ue(e),"iterate",cs),e}const cl={__proto__:null,[Symbol.iterator](){return ln(this,Symbol.iterator,Me)},concat(...e){return jt(this).concat(...e.map(t=>X(t)?jt(t):t))},entries(){return ln(this,"entries",e=>(e[1]=Me(e[1]),e))},every(e,t){return ht(this,"every",e,t,void 0,arguments)},filter(e,t){return ht(this,"filter",e,t,s=>s.map(Me),arguments)},find(e,t){return ht(this,"find",e,t,Me,arguments)},findIndex(e,t){return ht(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ht(this,"findLast",e,t,Me,arguments)},findLastIndex(e,t){return ht(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ht(this,"forEach",e,t,void 0,arguments)},includes(...e){return an(this,"includes",e)},indexOf(...e){return an(this,"indexOf",e)},join(e){return jt(this).join(e)},lastIndexOf(...e){return an(this,"lastIndexOf",e)},map(e,t){return ht(this,"map",e,t,void 0,arguments)},pop(){return Qt(this,"pop")},push(...e){return Qt(this,"push",e)},reduce(e,...t){return er(this,"reduce",e,t)},reduceRight(e,...t){return er(this,"reduceRight",e,t)},shift(){return Qt(this,"shift")},some(e,t){return ht(this,"some",e,t,void 0,arguments)},splice(...e){return Qt(this,"splice",e)},toReversed(){return jt(this).toReversed()},toSorted(e){return jt(this).toSorted(e)},toSpliced(...e){return jt(this).toSpliced(...e)},unshift(...e){return Qt(this,"unshift",e)},values(){return ln(this,"values",Me)}};function ln(e,t,s){const n=Gs(e),r=n[t]();return n!==e&&!rt(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=s(o.value)),o}),r}const dl=Array.prototype;function ht(e,t,s,n,r,o){const l=Gs(e),i=l!==e&&!rt(e),u=l[t];if(u!==dl[t]){const v=u.apply(e,o);return i?Me(v):v}let p=s;l!==e&&(i?p=function(v,_){return s.call(this,Me(v),_,e)}:s.length>2&&(p=function(v,_){return s.call(this,v,_,e)}));const d=u.call(l,p,n);return i&&r?r(d):d}function er(e,t,s,n){const r=Gs(e);let o=s;return r!==e&&(rt(e)?s.length>3&&(o=function(l,i,u){return s.call(this,l,i,u,e)}):o=function(l,i,u){return s.call(this,l,Me(i),u,e)}),r[t](o,...n)}function an(e,t,s){const n=ue(e);Pe(n,"iterate",cs);const r=n[t](...s);return(r===-1||r===!1)&&jn(s[0])?(s[0]=ue(s[0]),n[t](...s)):r}function Qt(e,t,s=[]){yt(),En();const n=ue(e)[t].apply(e,s);return On(),xt(),n}const fl=$n("__proto__,__v_isRef,__isVue"),Gr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(it));function pl(e){it(e)||(e=String(e));const t=ue(this);return Pe(t,"has",e),t.hasOwnProperty(e)}class Jr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(r?o?Sl:eo:o?Zr:Qr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const l=X(t);if(!r){let u;if(l&&(u=cl[s]))return u;if(s==="hasOwnProperty")return pl}const i=Reflect.get(t,s,Be(t)?t:n);return(it(s)?Gr.has(s):fl(s))||(r||Pe(t,"get",s),o)?i:Be(i)?l&&An(s)?i:i.value:Se(i)?r?to(i):Rn(i):i}}class Xr extends Jr{constructor(t=!1){super(!1,t)}set(t,s,n,r){let o=t[s];if(!this._isShallow){const u=Dt(o);if(!rt(n)&&!Dt(n)&&(o=ue(o),n=ue(n)),!X(t)&&Be(o)&&!Be(n))return u?!1:(o.value=n,!0)}const l=X(t)&&An(s)?Number(s)<t.length:ce(t,s),i=Reflect.set(t,s,n,Be(t)?t:r);return t===ue(r)&&(l?$t(n,o)&&vt(t,"set",s,n):vt(t,"add",s,n)),i}deleteProperty(t,s){const n=ce(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&vt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!it(s)||!Gr.has(s))&&Pe(t,"has",s),n}ownKeys(t){return Pe(t,"iterate",X(t)?"length":Ft),Reflect.ownKeys(t)}}class gl extends Jr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const hl=new Xr,ml=new gl,vl=new Xr(!0);const bn=e=>e,ys=e=>Reflect.getPrototypeOf(e);function bl(e,t,s){return function(...n){const r=this.__v_raw,o=ue(r),l=Ut(o),i=e==="entries"||e===Symbol.iterator&&l,u=e==="keys"&&l,p=r[e](...n),d=s?bn:t?Es:Me;return!t&&Pe(o,"iterate",u?vn:Ft),{next(){const{value:v,done:_}=p.next();return _?{value:v,done:_}:{value:i?[d(v[0]),d(v[1])]:d(v),done:_}},[Symbol.iterator](){return this}}}}function xs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function yl(e,t){const s={get(r){const o=this.__v_raw,l=ue(o),i=ue(r);e||($t(r,i)&&Pe(l,"get",r),Pe(l,"get",i));const{has:u}=ys(l),p=t?bn:e?Es:Me;if(u.call(l,r))return p(o.get(r));if(u.call(l,i))return p(o.get(i));o!==l&&o.get(r)},get size(){const r=this.__v_raw;return!e&&Pe(ue(r),"iterate",Ft),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,l=ue(o),i=ue(r);return e||($t(r,i)&&Pe(l,"has",r),Pe(l,"has",i)),r===i?o.has(r):o.has(r)||o.has(i)},forEach(r,o){const l=this,i=l.__v_raw,u=ue(i),p=t?bn:e?Es:Me;return!e&&Pe(u,"iterate",Ft),i.forEach((d,v)=>r.call(o,p(d),p(v),l))}};return We(s,e?{add:xs("add"),set:xs("set"),delete:xs("delete"),clear:xs("clear")}:{add(r){!t&&!rt(r)&&!Dt(r)&&(r=ue(r));const o=ue(this);return ys(o).has.call(o,r)||(o.add(r),vt(o,"add",r,r)),this},set(r,o){!t&&!rt(o)&&!Dt(o)&&(o=ue(o));const l=ue(this),{has:i,get:u}=ys(l);let p=i.call(l,r);p||(r=ue(r),p=i.call(l,r));const d=u.call(l,r);return l.set(r,o),p?$t(o,d)&&vt(l,"set",r,o):vt(l,"add",r,o),this},delete(r){const o=ue(this),{has:l,get:i}=ys(o);let u=l.call(o,r);u||(r=ue(r),u=l.call(o,r)),i&&i.call(o,r);const p=o.delete(r);return u&&vt(o,"delete",r,void 0),p},clear(){const r=ue(this),o=r.size!==0,l=r.clear();return o&&vt(r,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=bl(r,e,t)}),s}function Fn(e,t){const s=yl(e,t);return(n,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ce(s,r)&&r in n?s:n,r,o)}const xl={get:Fn(!1,!1)},wl={get:Fn(!1,!0)},_l={get:Fn(!0,!1)};const Qr=new WeakMap,Zr=new WeakMap,eo=new WeakMap,Sl=new WeakMap;function Cl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tl(e){return e.__v_skip||!Object.isExtensible(e)?0:Cl(Go(e))}function Rn(e){return Dt(e)?e:Pn(e,!1,hl,xl,Qr)}function $l(e){return Pn(e,!1,vl,wl,Zr)}function to(e){return Pn(e,!0,ml,_l,eo)}function Pn(e,t,s,n,r){if(!Se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Tl(e);if(o===0)return e;const l=r.get(e);if(l)return l;const i=new Proxy(e,o===2?n:s);return r.set(e,i),i}function Nt(e){return Dt(e)?Nt(e.__v_raw):!!(e&&e.__v_isReactive)}function Dt(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function jn(e){return e?!!e.__v_raw:!1}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function Dl(e){return!ce(e,"__v_skip")&&Object.isExtensible(e)&&gn(e,"__v_skip",!0),e}const Me=e=>Se(e)?Rn(e):e,Es=e=>Se(e)?to(e):e;function Be(e){return e?e.__v_isRef===!0:!1}function q(e){return kl(e,!1)}function kl(e,t){return Be(e)?e:new Al(e,t)}class Al{constructor(t,s){this.dep=new Mn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ue(t),this._value=s?t:Me(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||rt(t)||Dt(t);t=n?t:ue(t),$t(t,s)&&(this._rawValue=t,this._value=n?t:Me(t),this.dep.trigger())}}function Ss(e){return Be(e)?e.value:e}const El={get:(e,t,s)=>t==="__v_raw"?e:Ss(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Be(r)&&!Be(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function so(e){return Nt(e)?e:new Proxy(e,El)}class Ol{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Mn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=us-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&we!==this)return Kr(this,!0),!0}get value(){const t=this.dep.track();return zr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Il(e,t,s=!1){let n,r;return ee(e)?n=e:(n=e.get,r=e.set),new Ol(n,r,s)}const ws={},Os=new WeakMap;let It;function Ml(e,t=!1,s=It){if(s){let n=Os.get(s);n||Os.set(s,n=[]),n.push(e)}}function Fl(e,t,s=me){const{immediate:n,deep:r,once:o,scheduler:l,augmentJob:i,call:u}=s,p=P=>r?P:rt(P)||r===!1||r===0?bt(P,1):bt(P);let d,v,_,$,U=!1,H=!1;if(Be(e)?(v=()=>e.value,U=rt(e)):Nt(e)?(v=()=>p(e),U=!0):X(e)?(H=!0,U=e.some(P=>Nt(P)||rt(P)),v=()=>e.map(P=>{if(Be(P))return P.value;if(Nt(P))return p(P);if(ee(P))return u?u(P,2):P()})):ee(e)?t?v=u?()=>u(e,2):e:v=()=>{if(_){yt();try{_()}finally{xt()}}const P=It;It=d;try{return u?u(e,3,[$]):e($)}finally{It=P}}:v=ft,t&&r){const P=v,O=r===!0?1/0:r;v=()=>bt(P(),O)}const se=il(),W=()=>{d.stop(),se&&se.active&&kn(se.effects,d)};if(o&&t){const P=t;t=(...O)=>{P(...O),W()}}let j=H?new Array(e.length).fill(ws):ws;const Q=P=>{if(!(!(d.flags&1)||!d.dirty&&!P))if(t){const O=d.run();if(r||U||(H?O.some(($e,fe)=>$t($e,j[fe])):$t(O,j))){_&&_();const $e=It;It=d;try{const fe=[O,j===ws?void 0:H&&j[0]===ws?[]:j,$];j=O,u?u(t,3,fe):t(...fe)}finally{It=$e}}}else d.run()};return i&&i(Q),d=new Nr(v),d.scheduler=l?()=>l(Q,!1):Q,$=P=>Ml(P,!1,d),_=d.onStop=()=>{const P=Os.get(d);if(P){if(u)u(P,4);else for(const O of P)O();Os.delete(d)}},t?n?Q(!0):j=d.run():l?l(Q.bind(null,!0),!0):d.run(),W.pause=d.pause.bind(d),W.resume=d.resume.bind(d),W.stop=W,W}function bt(e,t=1/0,s){if(t<=0||!Se(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Be(e))bt(e.value,t,s);else if(X(e))for(let n=0;n<e.length;n++)bt(e[n],t,s);else if(Hs(e)||Ut(e))e.forEach(n=>{bt(n,t,s)});else if(jr(e)){for(const n in e)bt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&bt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hs(e,t,s,n){try{return n?e(...n):e()}catch(r){Js(r,t,s)}}function pt(e,t,s,n){if(ee(e)){const r=hs(e,t,s,n);return r&&Rr(r)&&r.catch(o=>{Js(o,t,s)}),r}if(X(e)){const r=[];for(let o=0;o<e.length;o++)r.push(pt(e[o],t,s,n));return r}}function Js(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||me;if(t){let i=t.parent;const u=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const d=i.ec;if(d){for(let v=0;v<d.length;v++)if(d[v](e,u,p)===!1)return}i=i.parent}if(o){yt(),hs(o,null,10,[e,u,p]),xt();return}}Rl(e,s,r,n,l)}function Rl(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const He=[];let ut=-1;const Lt=[];let St=null,Bt=0;const no=Promise.resolve();let Is=null;function Kt(e){const t=Is||no;return e?t.then(this?e.bind(this):e):t}function Pl(e){let t=ut+1,s=He.length;for(;t<s;){const n=t+s>>>1,r=He[n],o=ds(r);o<e||o===e&&r.flags&2?t=n+1:s=n}return t}function Bn(e){if(!(e.flags&1)){const t=ds(e),s=He[He.length-1];!s||!(e.flags&2)&&t>=ds(s)?He.push(e):He.splice(Pl(t),0,e),e.flags|=1,ro()}}function ro(){Is||(Is=no.then(lo))}function jl(e){X(e)?Lt.push(...e):St&&e.id===-1?St.splice(Bt+1,0,e):e.flags&1||(Lt.push(e),e.flags|=1),ro()}function tr(e,t,s=ut+1){for(;s<He.length;s++){const n=He[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;He.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function oo(e){if(Lt.length){const t=[...new Set(Lt)].sort((s,n)=>ds(s)-ds(n));if(Lt.length=0,St){St.push(...t);return}for(St=t,Bt=0;Bt<St.length;Bt++){const s=St[Bt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}St=null,Bt=0}}const ds=e=>e.id==null?e.flags&2?-1:1/0:e.id;function lo(e){try{for(ut=0;ut<He.length;ut++){const t=He[ut];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),hs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ut<He.length;ut++){const t=He[ut];t&&(t.flags&=-2)}ut=-1,He.length=0,oo(),Is=null,(He.length||Lt.length)&&lo()}}let Fe=null,io=null;function Ms(e){const t=Fe;return Fe=e,io=e&&e.type.__scopeId||null,t}function Tt(e,t=Fe,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&dr(-1);const o=Ms(t);let l;try{l=e(...r)}finally{Ms(o),n._d&&dr(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function Le(e,t){if(Fe===null)return e;const s=en(Fe),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,l,i,u=me]=t[r];o&&(ee(o)&&(o={mounted:o,updated:o}),o.deep&&bt(l),n.push({dir:o,instance:s,value:l,oldValue:void 0,arg:i,modifiers:u}))}return e}function Et(e,t,s,n){const r=e.dirs,o=t&&t.dirs;for(let l=0;l<r.length;l++){const i=r[l];o&&(i.oldValue=o[l].value);let u=i.dir[n];u&&(yt(),pt(u,s,8,[e.el,i,e,t]),xt())}}const Bl=Symbol("_vte"),Vl=e=>e.__isTeleport;function Vn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Vn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ao(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function os(e,t,s,n,r=!1){if(X(e)){e.forEach((U,H)=>os(U,t&&(X(t)?t[H]:t),s,n,r));return}if(Ht(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&os(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?en(n.component):n.el,l=r?null:o,{i,r:u}=e,p=t&&t.r,d=i.refs===me?i.refs={}:i.refs,v=i.setupState,_=ue(v),$=v===me?()=>!1:U=>ce(_,U);if(p!=null&&p!==u&&(Ae(p)?(d[p]=null,$(p)&&(v[p]=null)):Be(p)&&(p.value=null)),ee(u))hs(u,i,12,[l,d]);else{const U=Ae(u),H=Be(u);if(U||H){const se=()=>{if(e.f){const W=U?$(u)?v[u]:d[u]:u.value;r?X(W)&&kn(W,o):X(W)?W.includes(o)||W.push(o):U?(d[u]=[o],$(u)&&(v[u]=d[u])):(u.value=[o],e.k&&(d[e.k]=u.value))}else U?(d[u]=l,$(u)&&(v[u]=l)):H&&(u.value=l,e.k&&(d[e.k]=l))};l?(se.id=-1,Xe(se,s)):se()}}}Ys().requestIdleCallback;Ys().cancelIdleCallback;const Ht=e=>!!e.type.__asyncLoader,uo=e=>e.type.__isKeepAlive;function Ul(e,t){co(e,"a",t)}function Nl(e,t){co(e,"da",t)}function co(e,t,s=je){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Xs(t,n,s),s){let r=s.parent;for(;r&&r.parent;)uo(r.parent.vnode)&&Ll(n,t,s,r),r=r.parent}}function Ll(e,t,s,n){const r=Xs(t,e,n,!0);Un(()=>{kn(n[t],r)},s)}function Xs(e,t,s=je,n=!1){if(s){const r=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...l)=>{yt();const i=ms(s),u=pt(t,s,e,l);return i(),xt(),u});return n?r.unshift(o):r.push(o),o}}const _t=e=>(t,s=je)=>{(!ps||e==="sp")&&Xs(e,(...n)=>t(...n),s)},Kl=_t("bm"),Gt=_t("m"),Hl=_t("bu"),Wl=_t("u"),zl=_t("bum"),Un=_t("um"),Yl=_t("sp"),ql=_t("rtg"),Gl=_t("rtc");function Jl(e,t=je){Xs("ec",e,t)}const Xl="components";function Ql(e,t){return ei(Xl,e,!0,t)||e}const Zl=Symbol.for("v-ndc");function ei(e,t,s=!0,n=!1){const r=Fe||je;if(r){const o=r.type;{const i=Ni(o,!1);if(i&&(i===t||i===ot(t)||i===zs(ot(t))))return o}const l=sr(r[e]||o[e],t)||sr(r.appContext[e],t);return!l&&n?o:l}}function sr(e,t){return e&&(e[t]||e[ot(t)]||e[zs(ot(t))])}function Ie(e,t,s,n){let r;const o=s,l=X(e);if(l||Ae(e)){const i=l&&Nt(e);let u=!1,p=!1;i&&(u=!rt(e),p=Dt(e),e=Gs(e)),r=new Array(e.length);for(let d=0,v=e.length;d<v;d++)r[d]=t(u?p?Es(Me(e[d])):Me(e[d]):e[d],d,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o)}else if(Se(e))if(e[Symbol.iterator])r=Array.from(e,(i,u)=>t(i,u,void 0,o));else{const i=Object.keys(e);r=new Array(i.length);for(let u=0,p=i.length;u<p;u++){const d=i[u];r[u]=t(e[d],d,u,o)}}else r=[];return r}function Fs(e,t,s={},n,r){if(Fe.ce||Fe.parent&&Ht(Fe.parent)&&Fe.parent.ce)return t!=="default"&&(s.name=t),k(),Rt(ae,null,[he("slot",s,n)],64);let o=e[t];o&&o._c&&(o._d=!1),k();const l=o&&fo(o(s)),i=s.key||l&&l.key,u=Rt(ae,{key:(i&&!it(i)?i:`_${t}`)+""},l||[],l&&e._===1?64:-2);return!r&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function fo(e){return e.some(t=>Kn(t)?!(t.type===wt||t.type===ae&&!fo(t.children)):!0)?e:null}const yn=e=>e?Mo(e)?en(e):yn(e.parent):null,ls=We(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yn(e.parent),$root:e=>yn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>go(e),$forceUpdate:e=>e.f||(e.f=()=>{Bn(e.update)}),$nextTick:e=>e.n||(e.n=Kt.bind(e.proxy)),$watch:e=>_i.bind(e)}),un=(e,t)=>e!==me&&!e.__isScriptSetup&&ce(e,t),ti={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:o,accessCache:l,type:i,appContext:u}=e;let p;if(t[0]!=="$"){const $=l[t];if($!==void 0)switch($){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return o[t]}else{if(un(n,t))return l[t]=1,n[t];if(r!==me&&ce(r,t))return l[t]=2,r[t];if((p=e.propsOptions[0])&&ce(p,t))return l[t]=3,o[t];if(s!==me&&ce(s,t))return l[t]=4,s[t];xn&&(l[t]=0)}}const d=ls[t];let v,_;if(d)return t==="$attrs"&&Pe(e.attrs,"get",""),d(e);if((v=i.__cssModules)&&(v=v[t]))return v;if(s!==me&&ce(s,t))return l[t]=4,s[t];if(_=u.config.globalProperties,ce(_,t))return _[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:o}=e;return un(r,t)?(r[t]=s,!0):n!==me&&ce(n,t)?(n[t]=s,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:o}},l){let i;return!!s[l]||e!==me&&ce(e,l)||un(t,l)||(i=o[0])&&ce(i,l)||ce(n,l)||ce(ls,l)||ce(r.config.globalProperties,l)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ce(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function nr(e){return X(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let xn=!0;function si(e){const t=go(e),s=e.proxy,n=e.ctx;xn=!1,t.beforeCreate&&rr(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:l,watch:i,provide:u,inject:p,created:d,beforeMount:v,mounted:_,beforeUpdate:$,updated:U,activated:H,deactivated:se,beforeDestroy:W,beforeUnmount:j,destroyed:Q,unmounted:P,render:O,renderTracked:$e,renderTriggered:fe,errorCaptured:Ce,serverPrefetch:ve,expose:ze,inheritAttrs:L,components:B,directives:Z,filters:ie}=t;if(p&&ni(p,n,null),l)for(const re in l){const oe=l[re];ee(oe)&&(n[re]=oe.bind(s))}if(r){const re=r.call(s,s);Se(re)&&(e.data=Rn(re))}if(xn=!0,o)for(const re in o){const oe=o[re],Ee=ee(oe)?oe.bind(s,s):ee(oe.get)?oe.get.bind(s,s):ft,Je=!ee(oe)&&ee(oe.set)?oe.set.bind(s):ft,y=Te({get:Ee,set:Je});Object.defineProperty(n,re,{enumerable:!0,configurable:!0,get:()=>y.value,set:m=>y.value=m})}if(i)for(const re in i)po(i[re],n,s,re);if(u){const re=ee(u)?u.call(s):u;Reflect.ownKeys(re).forEach(oe=>{ui(oe,re[oe])})}d&&rr(d,e,"c");function de(re,oe){X(oe)?oe.forEach(Ee=>re(Ee.bind(s))):oe&&re(oe.bind(s))}if(de(Kl,v),de(Gt,_),de(Hl,$),de(Wl,U),de(Ul,H),de(Nl,se),de(Jl,Ce),de(Gl,$e),de(ql,fe),de(zl,j),de(Un,P),de(Yl,ve),X(ze))if(ze.length){const re=e.exposed||(e.exposed={});ze.forEach(oe=>{Object.defineProperty(re,oe,{get:()=>s[oe],set:Ee=>s[oe]=Ee})})}else e.exposed||(e.exposed={});O&&e.render===ft&&(e.render=O),L!=null&&(e.inheritAttrs=L),B&&(e.components=B),Z&&(e.directives=Z),ve&&ao(e)}function ni(e,t,s=ft){X(e)&&(e=wn(e));for(const n in e){const r=e[n];let o;Se(r)?"default"in r?o=Cs(r.from||n,r.default,!0):o=Cs(r.from||n):o=Cs(r),Be(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[n]=o}}function rr(e,t,s){pt(X(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function po(e,t,s,n){let r=n.includes(".")?Do(s,n):()=>s[n];if(Ae(e)){const o=t[e];ee(o)&&zt(r,o)}else if(ee(e))zt(r,e.bind(s));else if(Se(e))if(X(e))e.forEach(o=>po(o,t,s,n));else{const o=ee(e.handler)?e.handler.bind(s):t[e.handler];ee(o)&&zt(r,o,e)}}function go(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,i=o.get(t);let u;return i?u=i:!r.length&&!s&&!n?u=t:(u={},r.length&&r.forEach(p=>Rs(u,p,l,!0)),Rs(u,t,l)),Se(t)&&o.set(t,u),u}function Rs(e,t,s,n=!1){const{mixins:r,extends:o}=t;o&&Rs(e,o,s,!0),r&&r.forEach(l=>Rs(e,l,s,!0));for(const l in t)if(!(n&&l==="expose")){const i=ri[l]||s&&s[l];e[l]=i?i(e[l],t[l]):t[l]}return e}const ri={data:or,props:lr,emits:lr,methods:es,computed:es,beforeCreate:Ne,created:Ne,beforeMount:Ne,mounted:Ne,beforeUpdate:Ne,updated:Ne,beforeDestroy:Ne,beforeUnmount:Ne,destroyed:Ne,unmounted:Ne,activated:Ne,deactivated:Ne,errorCaptured:Ne,serverPrefetch:Ne,components:es,directives:es,watch:li,provide:or,inject:oi};function or(e,t){return t?e?function(){return We(ee(e)?e.call(this,this):e,ee(t)?t.call(this,this):t)}:t:e}function oi(e,t){return es(wn(e),wn(t))}function wn(e){if(X(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ne(e,t){return e?[...new Set([].concat(e,t))]:t}function es(e,t){return e?We(Object.create(null),e,t):t}function lr(e,t){return e?X(e)&&X(t)?[...new Set([...e,...t])]:We(Object.create(null),nr(e),nr(t??{})):t}function li(e,t){if(!e)return t;if(!t)return e;const s=We(Object.create(null),e);for(const n in t)s[n]=Ne(e[n],t[n]);return s}function ho(){return{app:null,config:{isNativeTag:Yo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ii=0;function ai(e,t){return function(n,r=null){ee(n)||(n=We({},n)),r!=null&&!Se(r)&&(r=null);const o=ho(),l=new WeakSet,i=[];let u=!1;const p=o.app={_uid:ii++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Ki,get config(){return o.config},set config(d){},use(d,...v){return l.has(d)||(d&&ee(d.install)?(l.add(d),d.install(p,...v)):ee(d)&&(l.add(d),d(p,...v))),p},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),p},component(d,v){return v?(o.components[d]=v,p):o.components[d]},directive(d,v){return v?(o.directives[d]=v,p):o.directives[d]},mount(d,v,_){if(!u){const $=p._ceVNode||he(n,r);return $.appContext=o,_===!0?_="svg":_===!1&&(_=void 0),e($,d,_),u=!0,p._container=d,d.__vue_app__=p,en($.component)}},onUnmount(d){i.push(d)},unmount(){u&&(pt(i,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(d,v){return o.provides[d]=v,p},runWithContext(d){const v=Wt;Wt=p;try{return d()}finally{Wt=v}}};return p}}let Wt=null;function ui(e,t){if(je){let s=je.provides;const n=je.parent&&je.parent.provides;n===s&&(s=je.provides=Object.create(n)),s[e]=t}}function Cs(e,t,s=!1){const n=je||Fe;if(n||Wt){let r=Wt?Wt._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&ee(t)?t.call(n&&n.proxy):t}}const mo={},vo=()=>Object.create(mo),bo=e=>Object.getPrototypeOf(e)===mo;function ci(e,t,s,n=!1){const r={},o=vo();e.propsDefaults=Object.create(null),yo(e,t,r,o);for(const l in e.propsOptions[0])l in r||(r[l]=void 0);s?e.props=n?r:$l(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function di(e,t,s,n){const{props:r,attrs:o,vnode:{patchFlag:l}}=e,i=ue(r),[u]=e.propsOptions;let p=!1;if((n||l>0)&&!(l&16)){if(l&8){const d=e.vnode.dynamicProps;for(let v=0;v<d.length;v++){let _=d[v];if(Qs(e.emitsOptions,_))continue;const $=t[_];if(u)if(ce(o,_))$!==o[_]&&(o[_]=$,p=!0);else{const U=ot(_);r[U]=_n(u,i,U,$,e,!1)}else $!==o[_]&&(o[_]=$,p=!0)}}}else{yo(e,t,r,o)&&(p=!0);let d;for(const v in i)(!t||!ce(t,v)&&((d=kt(v))===v||!ce(t,d)))&&(u?s&&(s[v]!==void 0||s[d]!==void 0)&&(r[v]=_n(u,i,v,void 0,e,!0)):delete r[v]);if(o!==i)for(const v in o)(!t||!ce(t,v))&&(delete o[v],p=!0)}p&&vt(e.attrs,"set","")}function yo(e,t,s,n){const[r,o]=e.propsOptions;let l=!1,i;if(t)for(let u in t){if(ss(u))continue;const p=t[u];let d;r&&ce(r,d=ot(u))?!o||!o.includes(d)?s[d]=p:(i||(i={}))[d]=p:Qs(e.emitsOptions,u)||(!(u in n)||p!==n[u])&&(n[u]=p,l=!0)}if(o){const u=ue(s),p=i||me;for(let d=0;d<o.length;d++){const v=o[d];s[v]=_n(r,u,v,p[v],e,!ce(p,v))}}return l}function _n(e,t,s,n,r,o){const l=e[s];if(l!=null){const i=ce(l,"default");if(i&&n===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&ee(u)){const{propsDefaults:p}=r;if(s in p)n=p[s];else{const d=ms(r);n=p[s]=u.call(null,t),d()}}else n=u;r.ce&&r.ce._setProp(s,n)}l[0]&&(o&&!i?n=!1:l[1]&&(n===""||n===kt(s))&&(n=!0))}return n}const fi=new WeakMap;function xo(e,t,s=!1){const n=s?fi:t.propsCache,r=n.get(e);if(r)return r;const o=e.props,l={},i=[];let u=!1;if(!ee(e)){const d=v=>{u=!0;const[_,$]=xo(v,t,!0);We(l,_),$&&i.push(...$)};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!u)return Se(e)&&n.set(e,Vt),Vt;if(X(o))for(let d=0;d<o.length;d++){const v=ot(o[d]);ir(v)&&(l[v]=me)}else if(o)for(const d in o){const v=ot(d);if(ir(v)){const _=o[d],$=l[v]=X(_)||ee(_)?{type:_}:We({},_),U=$.type;let H=!1,se=!0;if(X(U))for(let W=0;W<U.length;++W){const j=U[W],Q=ee(j)&&j.name;if(Q==="Boolean"){H=!0;break}else Q==="String"&&(se=!1)}else H=ee(U)&&U.name==="Boolean";$[0]=H,$[1]=se,(H||ce($,"default"))&&i.push(v)}}const p=[l,i];return Se(e)&&n.set(e,p),p}function ir(e){return e[0]!=="$"&&!ss(e)}const Nn=e=>e[0]==="_"||e==="$stable",Ln=e=>X(e)?e.map(ct):[ct(e)],pi=(e,t,s)=>{if(t._n)return t;const n=Tt((...r)=>Ln(t(...r)),s);return n._c=!1,n},wo=(e,t,s)=>{const n=e._ctx;for(const r in e){if(Nn(r))continue;const o=e[r];if(ee(o))t[r]=pi(r,o,n);else if(o!=null){const l=Ln(o);t[r]=()=>l}}},_o=(e,t)=>{const s=Ln(t);e.slots.default=()=>s},So=(e,t,s)=>{for(const n in t)(s||!Nn(n))&&(e[n]=t[n])},gi=(e,t,s)=>{const n=e.slots=vo();if(e.vnode.shapeFlag&32){const r=t.__;r&&gn(n,"__",r,!0);const o=t._;o?(So(n,t,s),s&&gn(n,"_",o,!0)):wo(t,n)}else t&&_o(e,t)},hi=(e,t,s)=>{const{vnode:n,slots:r}=e;let o=!0,l=me;if(n.shapeFlag&32){const i=t._;i?s&&i===1?o=!1:So(r,t,s):(o=!t.$stable,wo(t,r)),l=t}else t&&(_o(e,t),l={default:1});if(o)for(const i in r)!Nn(i)&&l[i]==null&&delete r[i]},Xe=Ai;function mi(e){return vi(e)}function vi(e,t){const s=Ys();s.__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:l,createText:i,createComment:u,setText:p,setElementText:d,parentNode:v,nextSibling:_,setScopeId:$=ft,insertStaticContent:U}=e,H=(c,g,b,C=null,S=null,w=null,M=void 0,A=null,D=!!g.dynamicChildren)=>{if(c===g)return;c&&!Zt(c,g)&&(C=Ye(c),m(c,S,w,!0),c=null),g.patchFlag===-2&&(D=!1,g.dynamicChildren=null);const{type:T,ref:K,shapeFlag:F}=g;switch(T){case Zs:se(c,g,b,C);break;case wt:W(c,g,b,C);break;case Ts:c==null&&j(g,b,C,M);break;case ae:B(c,g,b,C,S,w,M,A,D);break;default:F&1?O(c,g,b,C,S,w,M,A,D):F&6?Z(c,g,b,C,S,w,M,A,D):(F&64||F&128)&&T.process(c,g,b,C,S,w,M,A,D,At)}K!=null&&S?os(K,c&&c.ref,w,g||c,!g):K==null&&c&&c.ref!=null&&os(c.ref,null,w,c,!0)},se=(c,g,b,C)=>{if(c==null)n(g.el=i(g.children),b,C);else{const S=g.el=c.el;g.children!==c.children&&p(S,g.children)}},W=(c,g,b,C)=>{c==null?n(g.el=u(g.children||""),b,C):g.el=c.el},j=(c,g,b,C)=>{[c.el,c.anchor]=U(c.children,g,b,C,c.el,c.anchor)},Q=({el:c,anchor:g},b,C)=>{let S;for(;c&&c!==g;)S=_(c),n(c,b,C),c=S;n(g,b,C)},P=({el:c,anchor:g})=>{let b;for(;c&&c!==g;)b=_(c),r(c),c=b;r(g)},O=(c,g,b,C,S,w,M,A,D)=>{g.type==="svg"?M="svg":g.type==="math"&&(M="mathml"),c==null?$e(g,b,C,S,w,M,A,D):ve(c,g,S,w,M,A,D)},$e=(c,g,b,C,S,w,M,A)=>{let D,T;const{props:K,shapeFlag:F,transition:z,dirs:J}=c;if(D=c.el=l(c.type,w,K&&K.is,K),F&8?d(D,c.children):F&16&&Ce(c.children,D,null,C,S,cn(c,w),M,A),J&&Et(c,null,C,"created"),fe(D,c,c.scopeId,M,C),K){for(const pe in K)pe!=="value"&&!ss(pe)&&o(D,pe,null,K[pe],w,C);"value"in K&&o(D,"value",null,K.value,w),(T=K.onVnodeBeforeMount)&&at(T,C,c)}J&&Et(c,null,C,"beforeMount");const ne=bi(S,z);ne&&z.beforeEnter(D),n(D,g,b),((T=K&&K.onVnodeMounted)||ne||J)&&Xe(()=>{T&&at(T,C,c),ne&&z.enter(D),J&&Et(c,null,C,"mounted")},S)},fe=(c,g,b,C,S)=>{if(b&&$(c,b),C)for(let w=0;w<C.length;w++)$(c,C[w]);if(S){let w=S.subTree;if(g===w||Ao(w.type)&&(w.ssContent===g||w.ssFallback===g)){const M=S.vnode;fe(c,M,M.scopeId,M.slotScopeIds,S.parent)}}},Ce=(c,g,b,C,S,w,M,A,D=0)=>{for(let T=D;T<c.length;T++){const K=c[T]=A?Ct(c[T]):ct(c[T]);H(null,K,g,b,C,S,w,M,A)}},ve=(c,g,b,C,S,w,M)=>{const A=g.el=c.el;let{patchFlag:D,dynamicChildren:T,dirs:K}=g;D|=c.patchFlag&16;const F=c.props||me,z=g.props||me;let J;if(b&&Ot(b,!1),(J=z.onVnodeBeforeUpdate)&&at(J,b,g,c),K&&Et(g,c,b,"beforeUpdate"),b&&Ot(b,!0),(F.innerHTML&&z.innerHTML==null||F.textContent&&z.textContent==null)&&d(A,""),T?ze(c.dynamicChildren,T,A,b,C,cn(g,S),w):M||oe(c,g,A,null,b,C,cn(g,S),w,!1),D>0){if(D&16)L(A,F,z,b,S);else if(D&2&&F.class!==z.class&&o(A,"class",null,z.class,S),D&4&&o(A,"style",F.style,z.style,S),D&8){const ne=g.dynamicProps;for(let pe=0;pe<ne.length;pe++){const le=ne[pe],ye=F[le],Oe=z[le];(Oe!==ye||le==="value")&&o(A,le,ye,Oe,S,b)}}D&1&&c.children!==g.children&&d(A,g.children)}else!M&&T==null&&L(A,F,z,b,S);((J=z.onVnodeUpdated)||K)&&Xe(()=>{J&&at(J,b,g,c),K&&Et(g,c,b,"updated")},C)},ze=(c,g,b,C,S,w,M)=>{for(let A=0;A<g.length;A++){const D=c[A],T=g[A],K=D.el&&(D.type===ae||!Zt(D,T)||D.shapeFlag&198)?v(D.el):b;H(D,T,K,null,C,S,w,M,!0)}},L=(c,g,b,C,S)=>{if(g!==b){if(g!==me)for(const w in g)!ss(w)&&!(w in b)&&o(c,w,g[w],null,S,C);for(const w in b){if(ss(w))continue;const M=b[w],A=g[w];M!==A&&w!=="value"&&o(c,w,A,M,S,C)}"value"in b&&o(c,"value",g.value,b.value,S)}},B=(c,g,b,C,S,w,M,A,D)=>{const T=g.el=c?c.el:i(""),K=g.anchor=c?c.anchor:i("");let{patchFlag:F,dynamicChildren:z,slotScopeIds:J}=g;J&&(A=A?A.concat(J):J),c==null?(n(T,b,C),n(K,b,C),Ce(g.children||[],b,K,S,w,M,A,D)):F>0&&F&64&&z&&c.dynamicChildren?(ze(c.dynamicChildren,z,b,S,w,M,A),(g.key!=null||S&&g===S.subTree)&&Co(c,g,!0)):oe(c,g,b,K,S,w,M,A,D)},Z=(c,g,b,C,S,w,M,A,D)=>{g.slotScopeIds=A,c==null?g.shapeFlag&512?S.ctx.activate(g,b,C,M,D):ie(g,b,C,S,w,M,D):De(c,g,D)},ie=(c,g,b,C,S,w,M)=>{const A=c.component=Pi(c,C,S);if(uo(c)&&(A.ctx.renderer=At),ji(A,!1,M),A.asyncDep){if(S&&S.registerDep(A,de,M),!c.el){const D=A.subTree=he(wt);W(null,D,g,b)}}else de(A,c,g,b,S,w,M)},De=(c,g,b)=>{const C=g.component=c.component;if(Di(c,g,b))if(C.asyncDep&&!C.asyncResolved){re(C,g,b);return}else C.next=g,C.update();else g.el=c.el,C.vnode=g},de=(c,g,b,C,S,w,M)=>{const A=()=>{if(c.isMounted){let{next:F,bu:z,u:J,parent:ne,vnode:pe}=c;{const tt=To(c);if(tt){F&&(F.el=pe.el,re(c,F,M)),tt.asyncDep.then(()=>{c.isUnmounted||A()});return}}let le=F,ye;Ot(c,!1),F?(F.el=pe.el,re(c,F,M)):F=pe,z&&_s(z),(ye=F.props&&F.props.onVnodeBeforeUpdate)&&at(ye,ne,F,pe),Ot(c,!0);const Oe=ur(c),Ve=c.subTree;c.subTree=Oe,H(Ve,Oe,v(Ve.el),Ye(Ve),c,S,w),F.el=Oe.el,le===null&&ki(c,Oe.el),J&&Xe(J,S),(ye=F.props&&F.props.onVnodeUpdated)&&Xe(()=>at(ye,ne,F,pe),S)}else{let F;const{el:z,props:J}=g,{bm:ne,m:pe,parent:le,root:ye,type:Oe}=c,Ve=Ht(g);Ot(c,!1),ne&&_s(ne),!Ve&&(F=J&&J.onVnodeBeforeMount)&&at(F,le,g),Ot(c,!0);{ye.ce&&ye.ce._def.shadowRoot!==!1&&ye.ce._injectChildStyle(Oe);const tt=c.subTree=ur(c);H(null,tt,b,C,c,S,w),g.el=tt.el}if(pe&&Xe(pe,S),!Ve&&(F=J&&J.onVnodeMounted)){const tt=g;Xe(()=>at(F,le,tt),S)}(g.shapeFlag&256||le&&Ht(le.vnode)&&le.vnode.shapeFlag&256)&&c.a&&Xe(c.a,S),c.isMounted=!0,g=b=C=null}};c.scope.on();const D=c.effect=new Nr(A);c.scope.off();const T=c.update=D.run.bind(D),K=c.job=D.runIfDirty.bind(D);K.i=c,K.id=c.uid,D.scheduler=()=>Bn(K),Ot(c,!0),T()},re=(c,g,b)=>{g.component=c;const C=c.vnode.props;c.vnode=g,c.next=null,di(c,g.props,C,b),hi(c,g.children,b),yt(),tr(c),xt()},oe=(c,g,b,C,S,w,M,A,D=!1)=>{const T=c&&c.children,K=c?c.shapeFlag:0,F=g.children,{patchFlag:z,shapeFlag:J}=g;if(z>0){if(z&128){Je(T,F,b,C,S,w,M,A,D);return}else if(z&256){Ee(T,F,b,C,S,w,M,A,D);return}}J&8?(K&16&&be(T,S,w),F!==T&&d(b,F)):K&16?J&16?Je(T,F,b,C,S,w,M,A,D):be(T,S,w,!0):(K&8&&d(b,""),J&16&&Ce(F,b,C,S,w,M,A,D))},Ee=(c,g,b,C,S,w,M,A,D)=>{c=c||Vt,g=g||Vt;const T=c.length,K=g.length,F=Math.min(T,K);let z;for(z=0;z<F;z++){const J=g[z]=D?Ct(g[z]):ct(g[z]);H(c[z],J,b,null,S,w,M,A,D)}T>K?be(c,S,w,!0,!1,F):Ce(g,b,C,S,w,M,A,D,F)},Je=(c,g,b,C,S,w,M,A,D)=>{let T=0;const K=g.length;let F=c.length-1,z=K-1;for(;T<=F&&T<=z;){const J=c[T],ne=g[T]=D?Ct(g[T]):ct(g[T]);if(Zt(J,ne))H(J,ne,b,null,S,w,M,A,D);else break;T++}for(;T<=F&&T<=z;){const J=c[F],ne=g[z]=D?Ct(g[z]):ct(g[z]);if(Zt(J,ne))H(J,ne,b,null,S,w,M,A,D);else break;F--,z--}if(T>F){if(T<=z){const J=z+1,ne=J<K?g[J].el:C;for(;T<=z;)H(null,g[T]=D?Ct(g[T]):ct(g[T]),b,ne,S,w,M,A,D),T++}}else if(T>z)for(;T<=F;)m(c[T],S,w,!0),T++;else{const J=T,ne=T,pe=new Map;for(T=ne;T<=z;T++){const Ue=g[T]=D?Ct(g[T]):ct(g[T]);Ue.key!=null&&pe.set(Ue.key,T)}let le,ye=0;const Oe=z-ne+1;let Ve=!1,tt=0;const qe=new Array(Oe);for(T=0;T<Oe;T++)qe[T]=0;for(T=J;T<=F;T++){const Ue=c[T];if(ye>=Oe){m(Ue,S,w,!0);continue}let st;if(Ue.key!=null)st=pe.get(Ue.key);else for(le=ne;le<=z;le++)if(qe[le-ne]===0&&Zt(Ue,g[le])){st=le;break}st===void 0?m(Ue,S,w,!0):(qe[st-ne]=T+1,st>=tt?tt=st:Ve=!0,H(Ue,g[st],b,null,S,w,M,A,D),ye++)}const vs=Ve?yi(qe):Vt;for(le=vs.length-1,T=Oe-1;T>=0;T--){const Ue=ne+T,st=g[Ue],bs=Ue+1<K?g[Ue+1].el:C;qe[T]===0?H(null,st,b,bs,S,w,M,A,D):Ve&&(le<0||T!==vs[le]?y(st,b,bs,2):le--)}}},y=(c,g,b,C,S=null)=>{const{el:w,type:M,transition:A,children:D,shapeFlag:T}=c;if(T&6){y(c.component.subTree,g,b,C);return}if(T&128){c.suspense.move(g,b,C);return}if(T&64){M.move(c,g,b,At);return}if(M===ae){n(w,g,b);for(let F=0;F<D.length;F++)y(D[F],g,b,C);n(c.anchor,g,b);return}if(M===Ts){Q(c,g,b);return}if(C!==2&&T&1&&A)if(C===0)A.beforeEnter(w),n(w,g,b),Xe(()=>A.enter(w),S);else{const{leave:F,delayLeave:z,afterLeave:J}=A,ne=()=>{c.ctx.isUnmounted?r(w):n(w,g,b)},pe=()=>{F(w,()=>{ne(),J&&J()})};z?z(w,ne,pe):pe()}else n(w,g,b)},m=(c,g,b,C=!1,S=!1)=>{const{type:w,props:M,ref:A,children:D,dynamicChildren:T,shapeFlag:K,patchFlag:F,dirs:z,cacheIndex:J}=c;if(F===-2&&(S=!1),A!=null&&(yt(),os(A,null,b,c,!0),xt()),J!=null&&(g.renderCache[J]=void 0),K&256){g.ctx.deactivate(c);return}const ne=K&1&&z,pe=!Ht(c);let le;if(pe&&(le=M&&M.onVnodeBeforeUnmount)&&at(le,g,c),K&6)N(c.component,b,C);else{if(K&128){c.suspense.unmount(b,C);return}ne&&Et(c,null,g,"beforeUnmount"),K&64?c.type.remove(c,g,b,At,C):T&&!T.hasOnce&&(w!==ae||F>0&&F&64)?be(T,g,b,!1,!0):(w===ae&&F&384||!S&&K&16)&&be(D,g,b),C&&x(c)}(pe&&(le=M&&M.onVnodeUnmounted)||ne)&&Xe(()=>{le&&at(le,g,c),ne&&Et(c,null,g,"unmounted")},b)},x=c=>{const{type:g,el:b,anchor:C,transition:S}=c;if(g===ae){G(b,C);return}if(g===Ts){P(c);return}const w=()=>{r(b),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(c.shapeFlag&1&&S&&!S.persisted){const{leave:M,delayLeave:A}=S,D=()=>M(b,w);A?A(c.el,w,D):D()}else w()},G=(c,g)=>{let b;for(;c!==g;)b=_(c),r(c),c=b;r(g)},N=(c,g,b)=>{const{bum:C,scope:S,job:w,subTree:M,um:A,m:D,a:T,parent:K,slots:{__:F}}=c;ar(D),ar(T),C&&_s(C),K&&X(F)&&F.forEach(z=>{K.renderCache[z]=void 0}),S.stop(),w&&(w.flags|=8,m(M,c,g,b)),A&&Xe(A,g),Xe(()=>{c.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},be=(c,g,b,C=!1,S=!1,w=0)=>{for(let M=w;M<c.length;M++)m(c[M],g,b,C,S)},Ye=c=>{if(c.shapeFlag&6)return Ye(c.component.subTree);if(c.shapeFlag&128)return c.suspense.next();const g=_(c.anchor||c.el),b=g&&g[Bl];return b?_(b):g};let Ze=!1;const et=(c,g,b)=>{c==null?g._vnode&&m(g._vnode,null,null,!0):H(g._vnode||null,c,g,null,null,null,b),g._vnode=c,Ze||(Ze=!0,tr(),oo(),Ze=!1)},At={p:H,um:m,m:y,r:x,mt:ie,mc:Ce,pc:oe,pbc:ze,n:Ye,o:e};return{render:et,hydrate:void 0,createApp:ai(et)}}function cn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Ot({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function bi(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Co(e,t,s=!1){const n=e.children,r=t.children;if(X(n)&&X(r))for(let o=0;o<n.length;o++){const l=n[o];let i=r[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[o]=Ct(r[o]),i.el=l.el),!s&&i.patchFlag!==-2&&Co(l,i)),i.type===Zs&&(i.el=l.el),i.type===wt&&!i.el&&(i.el=l.el)}}function yi(e){const t=e.slice(),s=[0];let n,r,o,l,i;const u=e.length;for(n=0;n<u;n++){const p=e[n];if(p!==0){if(r=s[s.length-1],e[r]<p){t[n]=r,s.push(n);continue}for(o=0,l=s.length-1;o<l;)i=o+l>>1,e[s[i]]<p?o=i+1:l=i;p<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,l=s[o-1];o-- >0;)s[o]=l,l=t[l];return s}function To(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:To(t)}function ar(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const xi=Symbol.for("v-scx"),wi=()=>Cs(xi);function zt(e,t,s){return $o(e,t,s)}function $o(e,t,s=me){const{immediate:n,deep:r,flush:o,once:l}=s,i=We({},s),u=t&&n||!t&&o!=="post";let p;if(ps){if(o==="sync"){const $=wi();p=$.__watcherHandles||($.__watcherHandles=[])}else if(!u){const $=()=>{};return $.stop=ft,$.resume=ft,$.pause=ft,$}}const d=je;i.call=($,U,H)=>pt($,d,U,H);let v=!1;o==="post"?i.scheduler=$=>{Xe($,d&&d.suspense)}:o!=="sync"&&(v=!0,i.scheduler=($,U)=>{U?$():Bn($)}),i.augmentJob=$=>{t&&($.flags|=4),v&&($.flags|=2,d&&($.id=d.uid,$.i=d))};const _=Fl(e,t,i);return ps&&(p?p.push(_):u&&_()),_}function _i(e,t,s){const n=this.proxy,r=Ae(e)?e.includes(".")?Do(n,e):()=>n[e]:e.bind(n,n);let o;ee(t)?o=t:(o=t.handler,s=t);const l=ms(this),i=$o(r,o.bind(n),s);return l(),i}function Do(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Si=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ot(t)}Modifiers`]||e[`${kt(t)}Modifiers`];function Ci(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||me;let r=s;const o=t.startsWith("update:"),l=o&&Si(n,t.slice(7));l&&(l.trim&&(r=s.map(d=>Ae(d)?d.trim():d)),l.number&&(r=s.map(As)));let i,u=n[i=nn(t)]||n[i=nn(ot(t))];!u&&o&&(u=n[i=nn(kt(t))]),u&&pt(u,e,6,r);const p=n[i+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,pt(p,e,6,r)}}function ko(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const o=e.emits;let l={},i=!1;if(!ee(e)){const u=p=>{const d=ko(p,t,!0);d&&(i=!0,We(l,d))};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!i?(Se(e)&&n.set(e,null),null):(X(o)?o.forEach(u=>l[u]=null):We(l,o),Se(e)&&n.set(e,l),l)}function Qs(e,t){return!e||!Ks(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,kt(t))||ce(e,t))}function ur(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[o],slots:l,attrs:i,emit:u,render:p,renderCache:d,props:v,data:_,setupState:$,ctx:U,inheritAttrs:H}=e,se=Ms(e);let W,j;try{if(s.shapeFlag&4){const P=r||n,O=P;W=ct(p.call(O,P,d,v,$,_,U)),j=i}else{const P=t;W=ct(P.length>1?P(v,{attrs:i,slots:l,emit:u}):P(v,null)),j=t.props?i:Ti(i)}}catch(P){is.length=0,Js(P,e,1),W=he(wt)}let Q=W;if(j&&H!==!1){const P=Object.keys(j),{shapeFlag:O}=Q;P.length&&O&7&&(o&&P.some(Dn)&&(j=$i(j,o)),Q=qt(Q,j,!1,!0))}return s.dirs&&(Q=qt(Q,null,!1,!0),Q.dirs=Q.dirs?Q.dirs.concat(s.dirs):s.dirs),s.transition&&Vn(Q,s.transition),W=Q,Ms(se),W}const Ti=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ks(s))&&((t||(t={}))[s]=e[s]);return t},$i=(e,t)=>{const s={};for(const n in e)(!Dn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Di(e,t,s){const{props:n,children:r,component:o}=e,{props:l,children:i,patchFlag:u}=t,p=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return n?cr(n,l,p):!!l;if(u&8){const d=t.dynamicProps;for(let v=0;v<d.length;v++){const _=d[v];if(l[_]!==n[_]&&!Qs(p,_))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:n===l?!1:n?l?cr(n,l,p):!0:!!l;return!1}function cr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(t[o]!==e[o]&&!Qs(s,o))return!0}return!1}function ki({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ao=e=>e.__isSuspense;function Ai(e,t){t&&t.pendingBranch?X(e)?t.effects.push(...e):t.effects.push(e):jl(e)}const ae=Symbol.for("v-fgt"),Zs=Symbol.for("v-txt"),wt=Symbol.for("v-cmt"),Ts=Symbol.for("v-stc"),is=[];let Qe=null;function k(e=!1){is.push(Qe=e?null:[])}function Ei(){is.pop(),Qe=is[is.length-1]||null}let fs=1;function dr(e,t=!1){fs+=e,e<0&&Qe&&t&&(Qe.hasOnce=!0)}function Eo(e){return e.dynamicChildren=fs>0?Qe||Vt:null,Ei(),fs>0&&Qe&&Qe.push(e),e}function I(e,t,s,n,r,o){return Eo(a(e,t,s,n,r,o,!0))}function Rt(e,t,s,n,r){return Eo(he(e,t,s,n,r,!0))}function Kn(e){return e?e.__v_isVNode===!0:!1}function Zt(e,t){return e.type===t.type&&e.key===t.key}const Oo=({key:e})=>e??null,$s=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ae(e)||Be(e)||ee(e)?{i:Fe,r:e,k:t,f:!!s}:e:null);function a(e,t=null,s=null,n=0,r=null,o=e===ae?0:1,l=!1,i=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Oo(t),ref:t&&$s(t),scopeId:io,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Fe};return i?(Hn(u,s),o&128&&e.normalize(u)):s&&(u.shapeFlag|=Ae(s)?8:16),fs>0&&!l&&Qe&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Qe.push(u),u}const he=Oi;function Oi(e,t=null,s=null,n=0,r=null,o=!1){if((!e||e===Zl)&&(e=wt),Kn(e)){const i=qt(e,t,!0);return s&&Hn(i,s),fs>0&&!o&&Qe&&(i.shapeFlag&6?Qe[Qe.indexOf(e)]=i:Qe.push(i)),i.patchFlag=-2,i}if(Li(e)&&(e=e.__vccOpts),t){t=Ii(t);let{class:i,style:u}=t;i&&!Ae(i)&&(t.class=_e(i)),Se(u)&&(jn(u)&&!X(u)&&(u=We({},u)),t.style=as(u))}const l=Ae(e)?1:Ao(e)?128:Vl(e)?64:Se(e)?4:ee(e)?2:0;return a(e,t,s,n,r,l,o,!0)}function Ii(e){return e?jn(e)||bo(e)?We({},e):e:null}function qt(e,t,s=!1,n=!1){const{props:r,ref:o,patchFlag:l,children:i,transition:u}=e,p=t?Mi(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Oo(p),ref:t&&t.ref?s&&o?X(o)?o.concat($s(t)):[o,$s(t)]:$s(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ae?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qt(e.ssContent),ssFallback:e.ssFallback&&qt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&n&&Vn(d,u.clone(d)),d}function Ke(e=" ",t=0){return he(Zs,null,e,t)}function Io(e,t){const s=he(Ts,null,e);return s.staticCount=t,s}function ge(e="",t=!1){return t?(k(),Rt(wt,null,e)):he(wt,null,e)}function ct(e){return e==null||typeof e=="boolean"?he(wt):X(e)?he(ae,null,e.slice()):Kn(e)?Ct(e):he(Zs,null,String(e))}function Ct(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qt(e)}function Hn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(X(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Hn(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!bo(t)?t._ctx=Fe:r===3&&Fe&&(Fe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ee(t)?(t={default:t,_ctx:Fe},s=32):(t=String(t),n&64?(s=16,t=[Ke(t)]):s=8);e.children=t,e.shapeFlag|=s}function Mi(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=_e([t.class,n.class]));else if(r==="style")t.style=as([t.style,n.style]);else if(Ks(r)){const o=t[r],l=n[r];l&&o!==l&&!(X(o)&&o.includes(l))&&(t[r]=o?[].concat(o,l):l)}else r!==""&&(t[r]=n[r])}return t}function at(e,t,s,n=null){pt(e,t,7,[s,n])}const Fi=ho();let Ri=0;function Pi(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Fi,o={uid:Ri++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ll(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xo(n,r),emitsOptions:ko(n,r),emit:null,emitted:null,propsDefaults:me,inheritAttrs:n.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ci.bind(null,o),e.ce&&e.ce(o),o}let je=null,Ps,Sn;{const e=Ys(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),o=>{r.length>1?r.forEach(l=>l(o)):r[0](o)}};Ps=t("__VUE_INSTANCE_SETTERS__",s=>je=s),Sn=t("__VUE_SSR_SETTERS__",s=>ps=s)}const ms=e=>{const t=je;return Ps(e),e.scope.on(),()=>{e.scope.off(),Ps(t)}},fr=()=>{je&&je.scope.off(),Ps(null)};function Mo(e){return e.vnode.shapeFlag&4}let ps=!1;function ji(e,t=!1,s=!1){t&&Sn(t);const{props:n,children:r}=e.vnode,o=Mo(e);ci(e,n,o,t),gi(e,r,s||t);const l=o?Bi(e,t):void 0;return t&&Sn(!1),l}function Bi(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ti);const{setup:n}=s;if(n){yt();const r=e.setupContext=n.length>1?Ui(e):null,o=ms(e),l=hs(n,e,0,[e.props,r]),i=Rr(l);if(xt(),o(),(i||e.sp)&&!Ht(e)&&ao(e),i){if(l.then(fr,fr),t)return l.then(u=>{pr(e,u)}).catch(u=>{Js(u,e,0)});e.asyncDep=l}else pr(e,l)}else Fo(e)}function pr(e,t,s){ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Se(t)&&(e.setupState=so(t)),Fo(e)}function Fo(e,t,s){const n=e.type;e.render||(e.render=n.render||ft);{const r=ms(e);yt();try{si(e)}finally{xt(),r()}}}const Vi={get(e,t){return Pe(e,"get",""),e[t]}};function Ui(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Vi),slots:e.slots,emit:e.emit,expose:t}}function en(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(so(Dl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ls)return ls[s](e)},has(t,s){return s in t||s in ls}})):e.proxy}function Ni(e,t=!0){return ee(e)?e.displayName||e.name:e.name||t&&e.__name}function Li(e){return ee(e)&&"__vccOpts"in e}const Te=(e,t)=>Il(e,t,ps),Ki="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cn;const gr=typeof window<"u"&&window.trustedTypes;if(gr)try{Cn=gr.createPolicy("vue",{createHTML:e=>e})}catch{}const Ro=Cn?e=>Cn.createHTML(e):e=>e,Hi="http://www.w3.org/2000/svg",Wi="http://www.w3.org/1998/Math/MathML",mt=typeof document<"u"?document:null,hr=mt&&mt.createElement("template"),zi={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?mt.createElementNS(Hi,e):t==="mathml"?mt.createElementNS(Wi,e):s?mt.createElement(e,{is:s}):mt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>mt.createTextNode(e),createComment:e=>mt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,o){const l=s?s.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===o||!(r=r.nextSibling)););else{hr.innerHTML=Ro(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const i=hr.content;if(n==="svg"||n==="mathml"){const u=i.firstChild;for(;u.firstChild;)i.appendChild(u.firstChild);i.removeChild(u)}t.insertBefore(i,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Yi=Symbol("_vtc");function qi(e,t,s){const n=e[Yi];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const mr=Symbol("_vod"),Gi=Symbol("_vsh"),Ji=Symbol(""),Xi=/(^|;)\s*display\s*:/;function Qi(e,t,s){const n=e.style,r=Ae(s);let o=!1;if(s&&!r){if(t)if(Ae(t))for(const l of t.split(";")){const i=l.slice(0,l.indexOf(":")).trim();s[i]==null&&Ds(n,i,"")}else for(const l in t)s[l]==null&&Ds(n,l,"");for(const l in s)l==="display"&&(o=!0),Ds(n,l,s[l])}else if(r){if(t!==s){const l=n[Ji];l&&(s+=";"+l),n.cssText=s,o=Xi.test(s)}}else t&&e.removeAttribute("style");mr in e&&(e[mr]=o?n.display:"",e[Gi]&&(n.display="none"))}const vr=/\s*!important$/;function Ds(e,t,s){if(X(s))s.forEach(n=>Ds(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Zi(e,t);vr.test(s)?e.setProperty(kt(n),s.replace(vr,""),"important"):e[n]=s}}const br=["Webkit","Moz","ms"],dn={};function Zi(e,t){const s=dn[t];if(s)return s;let n=ot(t);if(n!=="filter"&&n in e)return dn[t]=n;n=zs(n);for(let r=0;r<br.length;r++){const o=br[r]+n;if(o in e)return dn[t]=o}return t}const yr="http://www.w3.org/1999/xlink";function xr(e,t,s,n,r,o=nl(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(yr,t.slice(6,t.length)):e.setAttributeNS(yr,t,s):s==null||o&&!Br(s)?e.removeAttribute(t):e.setAttribute(t,o?"":it(s)?String(s):s)}function wr(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Ro(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const i=o==="OPTION"?e.getAttribute("value")||"":e.value,u=s==null?e.type==="checkbox"?"on":"":String(s);(i!==u||!("_value"in e))&&(e.value=u),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Br(s):s==null&&i==="string"?(s="",l=!0):i==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(r||t)}function Mt(e,t,s,n){e.addEventListener(t,s,n)}function ea(e,t,s,n){e.removeEventListener(t,s,n)}const _r=Symbol("_vei");function ta(e,t,s,n,r=null){const o=e[_r]||(e[_r]={}),l=o[t];if(n&&l)l.value=n;else{const[i,u]=sa(t);if(n){const p=o[t]=oa(n,r);Mt(e,i,p,u)}else l&&(ea(e,i,l,u),o[t]=void 0)}}const Sr=/(?:Once|Passive|Capture)$/;function sa(e){let t;if(Sr.test(e)){t={};let n;for(;n=e.match(Sr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):kt(e.slice(2)),t]}let fn=0;const na=Promise.resolve(),ra=()=>fn||(na.then(()=>fn=0),fn=Date.now());function oa(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;pt(la(n,s.value),t,5,[n])};return s.value=e,s.attached=ra(),s}function la(e,t){if(X(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Cr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ia=(e,t,s,n,r,o)=>{const l=r==="svg";t==="class"?qi(e,n,l):t==="style"?Qi(e,s,n):Ks(t)?Dn(t)||ta(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):aa(e,t,n,l))?(wr(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&xr(e,t,n,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ae(n))?wr(e,ot(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),xr(e,t,n,l))};function aa(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Cr(t)&&ee(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Cr(t)&&Ae(s)?!1:t in e}const js=e=>{const t=e.props["onUpdate:modelValue"]||!1;return X(t)?s=>_s(t,s):t};function ua(e){e.target.composing=!0}function Tr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Yt=Symbol("_assign"),dt={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[Yt]=js(r);const o=n||r.props&&r.props.type==="number";Mt(e,t?"change":"input",l=>{if(l.target.composing)return;let i=e.value;s&&(i=i.trim()),o&&(i=As(i)),e[Yt](i)}),s&&Mt(e,"change",()=>{e.value=e.value.trim()}),t||(Mt(e,"compositionstart",ua),Mt(e,"compositionend",Tr),Mt(e,"change",Tr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:o}},l){if(e[Yt]=js(l),e.composing)return;const i=(o||e.type==="number")&&!/^0\d/.test(e.value)?As(e.value):e.value,u=t??"";i!==u&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===u)||(e.value=u))}},ts={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=Hs(t);Mt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?As(Bs(l)):Bs(l));e[Yt](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,Kt(()=>{e._assigning=!1})}),e[Yt]=js(n)},mounted(e,{value:t}){$r(e,t)},beforeUpdate(e,t,s){e[Yt]=js(s)},updated(e,{value:t}){e._assigning||$r(e,t)}};function $r(e,t){const s=e.multiple,n=X(t);if(!(s&&!n&&!Hs(t))){for(let r=0,o=e.options.length;r<o;r++){const l=e.options[r],i=Bs(l);if(s)if(n){const u=typeof i;u==="string"||u==="number"?l.selected=t.some(p=>String(p)===String(i)):l.selected=ol(t,i)>-1}else l.selected=t.has(i);else if(qs(Bs(l),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Bs(e){return"_value"in e?e._value:e.value}const ca=["ctrl","shift","alt","meta"],da={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ca.some(s=>e[`${s}Key`]&&!t.includes(s))},nt=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...o)=>{for(let l=0;l<t.length;l++){const i=da[t[l]];if(i&&i(r,t))return}return e(r,...o)})},fa={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ks=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=r=>{if(!("key"in r))return;const o=kt(r.key);if(t.some(l=>l===o||fa[l]===o))return e(r)})},pa=We({patchProp:ia},zi);let Dr;function ga(){return Dr||(Dr=mi(pa))}const Rd=(...e)=>{const t=ga().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=ma(n);if(!r)return;const o=t._component;!ee(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const l=s(r,!1,ha(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),l},t};function ha(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ma(e){return Ae(e)?document.querySelector(e):e}const va="modulepreload",ba=function(e){return"/budget/"+e},kr={},Ar=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){let l=function(p){return Promise.all(p.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=l(s.map(p=>{if(p=ba(p),p in kr)return;kr[p]=!0;const d=p.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":va,d||(_.as="script"),_.crossOrigin="",_.href=p,u&&_.setAttribute("nonce",u),document.head.appendChild(_),d)return new Promise(($,U)=>{_.addEventListener("load",$),_.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return r.then(l=>{for(const i of l||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};class ya{constructor(){this.parsers={}}async loadParser(t){if(this.parsers[t])return this.parsers[t];try{if(t==="excel"){const{excelParser:s}=await Ar(async()=>{const{excelParser:n}=await import("./excel-B-zEeiyX.js");return{excelParser:n}},[]);return this.parsers.excel=s,s}else if(t==="pdf"){const{pdfParser:s}=await Ar(async()=>{const{pdfParser:n}=await import("./pdf-CDN-8x2c.js");return{pdfParser:n}},[]);return this.parsers.pdf=s,s}}catch(s){throw console.error(`   ${t}:`,s),new Error(`     ${t}`)}}detectFileType(t){const s=t.name.toLowerCase();if(s.endsWith(".xlsx")||s.endsWith(".xls"))return"excel";if(s.endsWith(".pdf"))return"pdf";if(t.type){if(t.type.includes("spreadsheet")||t.type.includes("excel"))return"excel";if(t.type==="application/pdf")return"pdf"}throw new Error("  .  Excel (.xlsx, .xls)  PDF (.pdf) ")}async parseFile(t,s=null){try{const n=this.detectFileType(t),r=await this.loadParser(n);if(n==="excel")return await r.parseExcelFile(t,s);if(n==="pdf")return await r.parsePdfFile(t,s)}catch(n){throw console.error("   :",n),n}}getSupportedFormats(){return[{name:"Excel ",extensions:[".xlsx",".xls"],type:"excel"},{name:"PDF ",extensions:[".pdf"],type:"pdf"}]}getAcceptString(){return this.getSupportedFormats().map(s=>s.extensions.join(",")).join(",")}}const pn=new ya,xa={class:"space-y-3"},wa={key:0,class:"space-y-3"},_a={class:"text-sm text-gray-600 mb-3"},Sa={key:0},Ca={key:1,class:"text-red-600"},Ta=["accept","disabled"],$a={class:"text-xs text-gray-500"},Da={key:1,class:"space-y-3"},ka={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},Aa={class:"flex"},Ea={class:"text-xs text-red-700 mt-0.5"},Oa={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},Ia={class:"flex justify-between items-start"},Ma={class:"flex"},Fa={class:"text-xs text-green-700 mt-0.5"},Ra={key:0},Pa={__name:"FileUpload",props:{accept:{type:String,default:pn.getAcceptString()},maxSize:{type:Number,default:10*1024*1024},selectedBank:{type:String,default:null}},emits:["file-parsed","error"],setup(e,{emit:t}){const s=e,n=t,r=q(!1),o=q(!1),l=q(null),i=q(null),u=q(null);Gt(()=>{u.value&&(u.value.value="")});const p=Te(()=>({"border-blue-500 bg-blue-50":r.value,"border-gray-300 bg-white":!r.value})),d=W=>{W.preventDefault(),r.value=!0},v=W=>{W.preventDefault(),r.value=!1},_=async W=>{W.preventDefault(),r.value=!1;const j=Array.from(W.dataTransfer.files);j.length>0&&await U(j)},$=async W=>{const j=Array.from(W.target.files);j.length>0&&await U(j)},U=async W=>{try{o.value=!0,i.value=null,l.value=null;const j=[],Q=[];for(const P of W)try{if(P.size>s.maxSize)throw new Error(` ${P.name}  .  : ${s.maxSize/1024/1024}MB`);const O=pn.getSupportedFormats();if(!O.some(Ce=>Ce.extensions.some(ve=>P.name.toLowerCase().endsWith(ve)))){const Ce=O.map(ve=>ve.extensions.join(", ")).join(", ");throw new Error(` ${P.name}:   : ${Ce}`)}const fe=await pn.parseFile(P,s.selectedBank);j.push(fe)}catch(O){console.error(`     ${P.name}:`,O),Q.push({file:P.name,error:O.message})}if(Q.length>0){const P=Q.map(O=>`${O.file}: ${O.error}`).join(`
`);i.value=` :
${P}`,n("error",P)}if(j.length>0)if(j.length===1)l.value=j[0],n("file-parsed",j[0]);else{const P=H(j);l.value=P,n("file-parsed",P)}}catch(j){console.error("    processFiles:",j),i.value=j.message,n("error",j.message)}finally{o.value=!1}},H=W=>{const j=[],Q=[];let P=0;const O=[...new Set(W.map(fe=>fe.bankName).filter(Boolean))],$e=O.length>0?O.join(", "):" ";for(const fe of W){if(fe.transactions){const Ce=fe.transactions.map(ve=>({...ve,bank:ve.bank||fe.bank}));j.push(...Ce),P+=fe.totalTransactions||0}fe.rawData&&Q.push(...fe.rawData)}return{bankName:$e,totalTransactions:P,transactions:j,rawData:Q,sourceFiles:W.length}},se=()=>{l.value=null,i.value=null};return(W,j)=>(k(),I("div",xa,[a("div",{class:_e(["border-2 border-dashed rounded-lg p-6 text-center transition-colors",p.value]),onDragover:d,onDragleave:v,onDrop:_},[!o.value&&!l.value?(k(),I("div",wa,[j[2]||(j[2]=a("div",{class:"text-4xl text-gray-400"},"",-1)),a("div",null,[j[1]||(j[1]=a("h3",{class:"text-base font-medium text-gray-900 mb-2"},"  ",-1)),a("p",_a,[e.selectedBank?(k(),I("span",Sa,[j[0]||(j[0]=Ke("  : ")),a("strong",null,R(e.selectedBank),1)])):(k(),I("span",Ca,"      "))]),a("input",{type:"file",accept:e.accept,multiple:"",disabled:!e.selectedBank,class:"hidden",onChange:$,id:"file-upload",autocomplete:"off",ref_key:"fileInput",ref:u},null,40,Ta),a("label",{for:"file-upload",class:_e(["inline-flex items-center px-4 py-2 rounded-lg transition-colors font-medium text-sm shadow-md",e.selectedBank?"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"])},"  "+R(e.selectedBank?" ":"  "),3)]),a("p",$a,"  Excel (.xlsx, .xls)  PDF (.pdf)   "+R(e.maxSize/1024/1024)+"MB ",1)])):ge("",!0),o.value?(k(),I("div",Da,j[3]||(j[3]=[a("div",{class:"text-4xl text-blue-500"},"",-1),a("h3",{class:"text-base font-medium text-gray-900"}," ...",-1),a("p",{class:"text-sm text-gray-600"},", ",-1)]))):ge("",!0)],34),i.value?(k(),I("div",ka,[a("div",Aa,[j[5]||(j[5]=a("div",{class:"text-red-500 text-lg mr-2"},"",-1)),a("div",null,[j[4]||(j[4]=a("h3",{class:"text-sm font-medium text-red-800"}," ",-1)),a("p",Ea,R(i.value),1)])])])):ge("",!0),l.value?(k(),I("div",Oa,[a("div",Ia,[a("div",Ma,[j[7]||(j[7]=a("div",{class:"text-green-500 text-lg mr-2"},"",-1)),a("div",null,[j[6]||(j[6]=a("h3",{class:"text-sm font-medium text-green-800"},"  ",-1)),a("p",Fa,[l.value.sourceFiles>1?(k(),I("span",Ra," : "+R(l.value.sourceFiles)+" | ",1)):ge("",!0),Ke(" : "+R(l.value.bankName)+" | : "+R(l.value.totalTransactions),1)])])]),a("button",{onClick:se,class:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium text-sm"},"     ")])])):ge("",!0)]))}},ja={class:"space-y-3"},Ba={class:"grid grid-cols-2 gap-2"},Va=["onClick"],Ua={class:"text-center"},Na={class:"text-2xl mb-1"},La={class:"text-sm font-medium"},Ka={__name:"BankSelector",props:{selectedBank:{type:String,default:null}},emits:["bank-selected"],setup(e,{emit:t}){const s=e,n=t,r=[{key:"sberbank",name:"",icon:""},{key:"alfabank",name:"-",icon:""},{key:"tinkoff",name:"",icon:""},{key:"ozon",name:" ",icon:""}],o=q(s.selectedBank),l=i=>{o.value=i,n("bank-selected",i)};return(i,u)=>(k(),I("div",ja,[u[0]||(u[0]=a("h3",{class:"text-base font-medium text-gray-900"}," ",-1)),a("div",Ba,[(k(),I(ae,null,Ie(r,p=>a("button",{key:p.key,onClick:d=>l(p.key),class:_e(["flex items-center justify-center p-3 rounded-lg border-2 transition-all",o.value===p.key?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"])},[a("div",Ua,[a("div",Na,R(p.icon),1),a("div",La,R(p.name),1)])],10,Va)),64))])]))}},tn=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},Ha={class:"w-full"},Wa={class:"w-full caption-bottom text-sm"},za={class:"border-b bg-gray-50"},Ya={class:"divide-y divide-gray-200 min-h-[200px]"},qa={__name:"Table",props:{data:{type:Array,default:()=>[]},striped:{type:Boolean,default:!1},hover:{type:Boolean,default:!0}},setup(e){return(t,s)=>(k(),I("div",Ha,[a("table",Wa,[a("thead",za,[a("tr",null,[Fs(t.$slots,"header",{},void 0,!0)])]),a("tbody",Ya,[(k(!0),I(ae,null,Ie(e.data,(n,r)=>(k(),I("tr",{key:n.id||`${n.date}-${n.description}-${n.amount}-${r}`,class:_e([e.hover&&"hover:bg-gray-50 transition-colors",e.striped&&r%2===1&&"bg-gray-50"])},[Fs(t.$slots,"row",{row:n,index:r},void 0,!0)],2))),128))])])]))}},Ga=tn(qa,[["__scopeId","data-v-8c842db0"]]);function Ja(){const e=q(!1),t=q(null);function s(l){t.value&&!t.value.contains(l.target)&&(e.value=!1)}function n(){e.value=!e.value}function r(){e.value=!0}function o(){e.value=!1}return Gt(()=>{Kt(()=>{document.addEventListener("mousedown",s)})}),Un(()=>{document.removeEventListener("mousedown",s)}),{isOpen:e,dropdownRef:t,toggle:n,open:r,close:o}}const Xa={class:"truncate"},Qa={key:0,class:"absolute z-[9999] w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",style:{"min-width":"280px",width:"max-content",top:"100%"}},Za={class:"sticky top-0 bg-white border-b border-gray-200 p-2"},eu=["placeholder"],tu={class:"py-1"},su=["onClick"],nu={key:0,class:"px-3 py-2 text-sm text-gray-500"},ru={key:0,class:"border-t border-gray-200 p-2"},ou={class:"flex space-x-2"},lu=["placeholder"],iu=["disabled"],Vs={__name:"UniversalSelect",props:{modelValue:{type:String,default:""},items:{type:Array,default:()=>[]},placeholder:{type:String,default:" "},itemName:{type:String,default:""},allowAddNew:{type:Boolean,default:!0}},emits:["update:modelValue","item-added"],setup(e,{emit:t}){const s=e,n=t,{isOpen:r,dropdownRef:o,toggle:l,close:i}=Ja(),u=q(""),p=q(""),d=Te(()=>{let U=s.items;return u.value&&(U=U.filter(H=>H.toLowerCase().includes(u.value.toLowerCase()))),U});function v(U){n("update:modelValue",U),i(),u.value=""}function _(){l(),r.value&&(u.value="",p.value="")}function $(){const U=p.value.trim();U&&!s.items.includes(U)?(n("item-added",U),n("update:modelValue",U),i(),p.value="",u.value=""):U&&s.items.includes(U)&&(n("update:modelValue",U),i(),p.value="",u.value="")}return(U,H)=>(k(),I("div",{class:"relative",ref_key:"dropdownRef",ref:o},[a("div",{onClick:_,class:_e(["flex items-center justify-between w-full px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",{"border-blue-500 ring-2 ring-blue-500":Ss(r)}])},[a("span",Xa,R(e.modelValue||e.placeholder),1),(k(),I("svg",{class:_e(["w-4 h-4 text-gray-400 transition-transform",{"rotate-180":Ss(r)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},H[4]||(H[4]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),Ss(r)?(k(),I("div",Qa,[a("div",Za,[Le(a("input",{"onUpdate:modelValue":H[0]||(H[0]=se=>u.value=se),type:"text",placeholder:` ${e.itemName}...`,class:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:H[1]||(H[1]=nt(()=>{},["stop"]))},null,8,eu),[[dt,u.value]])]),a("div",tu,[(k(!0),I(ae,null,Ie(d.value,se=>(k(),I("div",{key:se,onClick:W=>v(se),class:_e(["px-3 py-2 text-sm cursor-pointer hover:bg-blue-50 hover:text-blue-700 break-words",{"bg-blue-100 text-blue-700":e.modelValue===se}])},R(se),11,su))),128)),d.value.length===0&&u.value.value?(k(),I("div",nu,R(e.itemName)+"  .   "+R(e.itemName)+" . ",1)):ge("",!0)]),e.allowAddNew?(k(),I("div",ru,[a("div",ou,[Le(a("input",{"onUpdate:modelValue":H[2]||(H[2]=se=>p.value=se),type:"text",placeholder:` ${e.itemName}...`,class:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:H[3]||(H[3]=nt(()=>{},["stop"])),onKeyup:ks($,["enter"])},null,40,lu),[[dt,p.value]]),a("button",{onClick:$,disabled:!p.value.trim(),class:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors shadow-sm"}," + ",8,iu)])])):ge("",!0)])):ge("",!0)],512))}},Tn={__name:"CategorySelect",props:{modelValue:{type:String,default:""},categories:{type:Array,default:()=>[]}},emits:["update:modelValue","category-added"],setup(e,{emit:t}){const s=t;function n(r){s("category-added",r)}return(r,o)=>(k(),Rt(Vs,{"model-value":e.modelValue,items:e.categories,placeholder:" ","item-name":"","allow-add-new":!0,"onUpdate:modelValue":o[0]||(o[0]=l=>s("update:modelValue",l)),onItemAdded:n},null,8,["model-value","items"]))}},au={class:"flex items-center gap-1"},uu=["value"],cu=["disabled"],du=["disabled"],fu={__name:"DateEditor",props:{value:{type:[Date,String],required:!0}},emits:["update:value"],setup(e,{emit:t}){const s=e,n=t,r=q(""),o=q(!1),l=Te(()=>o.value?r.value:s.value instanceof Date?s.value.toISOString().split("T")[0]:new Date(s.value).toISOString().split("T")[0]);function i(d){r.value=d.target.value,o.value=!0}function u(){o.value&&(n("update:value",r.value),o.value=!1,r.value="")}function p(){o.value=!1,r.value=""}return(d,v)=>(k(),I("div",au,[a("input",{type:"date",value:l.value,onChange:i,class:"border-none bg-transparent text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 rounded px-1",style:{"min-width":"120px"}},null,40,uu),a("button",{onClick:u,class:"px-1 py-0.5 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",title:"  ",disabled:!o.value},"  ",8,cu),a("button",{onClick:p,class:"px-1 py-0.5 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",title:"  ",disabled:!o.value},"  ",8,du)]))}},Wn="transaction-",Po="categories",jo="category-order";function pu(){return Wn+Date.now()+"-"+Math.random().toString(36).substr(2,9)}function Bo(e){if(!e)return"";const t=e.trim();return t===" "||t===""||t===" "||t===""?"":t}async function Us(e){try{e.bank||console.warn("  :",e);const t=pu(),n={...{...e,category:Bo(e.category),bank:e.bank||" ",date:e.date instanceof Date?e.date.toISOString():e.date},id:t,createdAt:new Date().toISOString()},r=JSON.parse(JSON.stringify(n));return await Ls(t,r),t}catch(t){throw console.error("   :",t),t}}async function gu(e){try{const t=[];for(const s of e){const n=await Us(s);t.push(n)}return t}catch(t){throw console.error("   :",t),t}}async function Vo(){try{const t=(await Mr()).filter(n=>typeof n=="string"&&n.startsWith(Wn)),s=[];for(const n of t){const r=await Ns(n);if(r){const o={...r,date:r.date?new Date(r.date):null};s.push(o)}}return s}catch(e){return console.error("   :",e),[]}}async function Er(e,t){try{const s=await Ns(e);if(!s)throw new Error(`  ID ${e}  `);const n={...t};n.category!==void 0&&(n.category=Bo(n.category));const r={...s,...n,updatedAt:new Date().toISOString()};return await Ls(e,r),r}catch(s){throw console.error("   :",s),s}}async function Or(e){try{return await Fr(e),!0}catch(t){throw console.error("   :",t),t}}async function hu(){try{const t=(await Mr()).filter(s=>typeof s=="string"&&s.startsWith(Wn));for(const s of t)await Fr(s);return{success:!0,deletedCount:t.length}}catch(e){throw console.error("    :",e),e}}async function Uo(e){try{const t={categories:e,updatedAt:new Date().toISOString(),version:"1.0"};return await Ls(Po,t),!0}catch(t){throw console.error("   :",t),t}}async function sn(){try{const e=await Ns(Po);return e&&e.categories?e.categories:null}catch(e){return console.error("   :",e),null}}async function mu(e){try{let s=await sn()||[];return s.includes(e)||(s.push(e),s.sort(),await Uo(s)),s}catch(t){throw console.error("   :",t),t}}async function vu(e){try{const s={order:JSON.parse(JSON.stringify(e)),updatedAt:new Date().toISOString()};return await Ls(jo,s),!0}catch(t){throw console.error("    :",t),t}}async function Ir(){try{const e=await Ns(jo);return e&&e.order?e.order:null}catch(e){return console.error("    :",e),null}}async function bu(){try{const e=await Vo(),t=await sn(),s={version:"2.0",exportedAt:new Date().toISOString(),format:"transactions",transactions:e,categories:t||[],summary:{totalTransactions:e.length,totalCategories:t?t.length:0,banks:[...new Set(e.map(l=>l.bank))],dateRange:e.length>0?{from:new Date(Math.min(...e.map(l=>new Date(l.date)))),to:new Date(Math.max(...e.map(l=>new Date(l.date))))}:null}},n=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");return o.href=r,o.download=`family-budget-backup-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r),{success:!0,count:e.length,categoriesCount:t?t.length:0}}catch(e){throw console.error("   :",e),e}}async function yu(e){try{const t=typeof e=="string"?JSON.parse(e):e;if(!t.transactions||!Array.isArray(t.transactions))throw new Error("  :   transactions");let s=0;for(const n of t.transactions)if(n){const{id:r,createdAt:o,updatedAt:l,...i}=n;await Us(i),s++}return t.categories&&Array.isArray(t.categories)&&await Uo(t.categories),{success:!0,count:s,categoriesRestored:!!t.categories}}catch(t){throw console.error("   :",t),t}}const xu={class:"mb-4"},wu={class:"text-lg font-semibold text-gray-900"},_u={class:"text-gray-600 text-sm"},Su={class:"fixed top-2 right-2 z-50 flex flex-col gap-2"},Cu={key:0,class:"mb-4 space-y-3"},Tu={class:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3"},$u={class:"flex items-center"},Du={class:"text-sm text-blue-700"},ku={class:"mb-4 flex flex-wrap gap-2 items-end"},Au=["value"],Eu=["value"],Ou=["value"],Iu=["value"],Mu={class:"ml-auto text-xs text-gray-500"},Fu={key:1,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},Ru={class:"flex items-center justify-between"},Pu={class:"flex items-center space-x-4"},ju={class:"text-sm font-medium text-blue-800"},Bu={class:"flex items-center space-x-2"},Vu={class:"w-8"},Uu=["checked","indeterminate"],Nu={key:0},Lu={key:0},Ku={key:0},Hu={key:0},Wu={class:"w-8"},zu=["checked","onChange"],Yu={class:"whitespace-nowrap"},qu={class:"whitespace-nowrap px-4"},Gu=["title","onBlur"],Ju=["onBlur"],Xu={class:"table-category"},Qu=["title","onBlur"],Zu={class:"whitespace-nowrap"},ec={class:"flex gap-1"},tc=["onClick"],sc=["onClick"],nc={class:"mt-3 flex items-center justify-between text-sm text-gray-700 bg-gray-50 p-3 rounded border"},rc={class:"p-6"},oc={class:"mb-6"},lc={class:"bg-gray-50 p-3 rounded border"},ic={class:"text-sm"},ac={class:"font-medium"},uc={class:"text-gray-500"},cc={class:"p-6"},dc={class:"mb-6"},fc={class:"text-gray-600 mb-3"},pc={class:"flex space-x-3"},gc={class:"p-6"},hc={class:"mb-6"},mc={class:"text-gray-600 mb-4"},vc={class:"space-y-4"},bc={class:"flex space-x-3"},yc={__name:"AllTransactionsTable",props:{transactions:{type:Array,default:()=>[]}},emits:["categoriesUpdated","saveToDatabase"],setup(e,{expose:t,emit:s}){const n=s,r=q([]),o=q(!1),l=q([]),i=q(0),u=q(!1),p=q(null),d=q(!1),v=q(null),_=q(!1),$=q(new Set),U=q(!1),H=q(!1),se=q(""),W=q(""),j=q("");async function Q(){try{const h=await sn();h&&Array.isArray(h)&&(l.value=h,await Kt(),n("categoriesUpdated"),window.dispatchEvent(new CustomEvent("categories-updated",{detail:{categories:K.value}})))}catch(h){console.error("     :",h)}}zt(l,()=>{Kt(()=>{})},{deep:!0});const P=q([]);function O(h,f="info",V=3500){const Y=Date.now()+Math.random();P.value.push({id:Y,msg:h,type:f}),setTimeout(()=>{P.value=P.value.filter(te=>te.id!==Y)},V)}function $e(h){$.value.has(h)?$.value.delete(h):$.value.add(h)}function fe(){$.value.clear(),ye.value.forEach(h=>{$.value.add(ve(h))})}function Ce(){$.value.clear()}function ve(h){var f;return`${((f=h.date)==null?void 0:f.getTime())||h.date}-${h.description}-${h.amount}-${h.bank}-${h.category||""}`}function ze(h){return $.value.has(ve(h))}function L(){return $.value.size}function B(){if($.value.size===0){O("   ","warning");return}U.value=!0}async function Z(){try{const h=ye.value.filter(f=>$.value.has(ve(f)));if(o.value){const f=h.filter(Y=>!Y.id);f.length>0&&(console.warn("   ID:",f),O("      ( ID)","warning"));let V=0;for(const Y of h)Y.id?(await Or(Y.id),V++):console.warn("  ID:",Y);await qe(),i.value++,V<h.length&&O(` ${V}  ${h.length} `,"warning")}else for(const f of h){const V=r.value.findIndex(Y=>Y.transactions.some(te=>ve(te)===ve(f)));if(V!==-1){const Y=r.value[V].transactions.findIndex(te=>ve(te)===ve(f));Y!==-1&&r.value[V].transactions.splice(Y,1)}}$.value.clear(),U.value=!1,i.value++,o.value||O(` ${h.length} `,"success")}catch(h){console.error("   :",h),O("   ","error")}}function ie(){U.value=!1}function De(){if($.value.size===0){O("   ","warning");return}se.value="",W.value="",H.value=!0}async function de(){try{const h=ye.value.filter(V=>$.value.has(ve(V)));if(h.length===0){O("    ","warning");return}const f={};if(se.value&&(f.bank=se.value),W.value&&(f.category=W.value),j.value.trim()&&(f.description=j.value.trim()),Object.keys(f).length===0){O("      ","warning");return}if(o.value){const V=h.filter(te=>!te.id);if(V.length>0)throw new Error(`    ID      (${V.length})`);let Y=0;for(const te of h)try{await Er(te.id,f),Y++;for(const ke of r.value){const Re=ke.transactions.findIndex(gt=>gt.id===te.id);if(Re!==-1){Object.assign(ke.transactions[Re],f);break}}}catch(ke){console.error(`    ${te.id}:`,ke)}O(` ${Y}  ${h.length} `,Y===h.length?"success":"warning"),await qe()}else{for(const V of h)Object.assign(V,f);O(` ${h.length} `,"success")}$.value.clear(),H.value=!1,se.value="",W.value="",j.value="",i.value++}catch(h){console.error("    :",h),O("    ","error")}}function re(){H.value=!1,se.value="",W.value="",j.value=""}async function oe(h){if(!h||!h.transactions)return;if(r.value.some(V=>{var Y,te,ke,Re,gt,Jt,Xt,E;return V.fileName===h.fileName&&((te=(Y=V.period)==null?void 0:Y.from)==null?void 0:te.toString())===((Re=(ke=h.period)==null?void 0:ke.from)==null?void 0:Re.toString())&&((Jt=(gt=V.period)==null?void 0:gt.to)==null?void 0:Jt.toString())===((E=(Xt=h.period)==null?void 0:Xt.to)==null?void 0:E.toString())})){O("    ","warning");return}try{r.value.push(h),i.value=i.value+1,O(` : ${h.transactions.length}`,"success")}catch(V){console.error("   :",V),O("   ","error")}}function Ee(){x.value="",G.value=""}function Je(){y.value="",m.value="",N.value="",be.value="",Ye.value="",Ee(),Ze.value="date",et.value="desc",O(" ","info")}const y=q(""),m=q(""),x=q(""),G=q(""),N=q(""),be=q(""),Ye=q(""),Ze=q("date"),et=q("desc");Ee();const At=Te(()=>{const h=new Set;w.value.forEach(V=>{if(V.date){const Y=le(V.date);Y&&h.add(Y.getFullYear())}});const f=new Date().getFullYear();return h.add(f),h.add(f-1),h.add(f+1),Array.from(h).sort((V,Y)=>Y-V)}),zn=Te(()=>{const h=[],f={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:"",12:""};for(let V=1;V<=12;V++)h.push({value:V,label:f[V]});return h});function c(){b()}function g(){b()}function b(){if(!N.value&&!be.value){Ee();return}if(N.value&&be.value){const h=parseInt(N.value),f=parseInt(be.value),V=new Date(h,f,0);x.value=`${h}-${String(f).padStart(2,"0")}-01`,G.value=`${h}-${String(f).padStart(2,"0")}-${String(V.getDate()).padStart(2,"0")}`}else if(N.value){const h=parseInt(N.value);x.value=`${h}-01-01`,G.value=`${h}-12-31`}else if(be.value){const h=parseInt(be.value),f=new Set;w.value.forEach(ke=>{if(ke.date){const Re=le(ke.date);Re&&f.add(Re.getFullYear())}});const V=Array.from(f).sort((ke,Re)=>Re-ke),Y=V.length>0?V[0]:new Date().getFullYear(),te=new Date(Y,h,0);x.value=`${Y}-${String(h).padStart(2,"0")}-01`,G.value=`${Y}-${String(h).padStart(2,"0")}-${String(te.getDate()).padStart(2,"0")}`,N.value=Y.toString()}}function C(){if(!x.value||!G.value){N.value="",be.value="";return}const h=new Date(x.value),f=new Date(G.value),V=new Date(h.getFullYear(),h.getMonth(),1),Y=new Date(f.getFullYear(),f.getMonth()+1,0);if(h.getTime()===V.getTime()&&f.getTime()===Y.getTime())N.value=h.getFullYear().toString(),be.value=(h.getMonth()+1).toString();else{const te=new Date(h.getFullYear(),0,1),ke=new Date(f.getFullYear(),11,31);h.getTime()===te.getTime()&&f.getTime()===ke.getTime()?(N.value=h.getFullYear().toString(),be.value=""):(N.value="",be.value="")}}const S=q(0),w=Te(()=>(S.value,Wo(r.value)));function M(){return w.value}function A(){return D.value||[]}const D=Te(()=>Array.from(new Set(w.value.map(h=>h.bank))).filter(Boolean)),T=Te(()=>Array.from(new Set(w.value.map(h=>h.category))).filter(Boolean)),K=Te(()=>[...T.value].sort());async function F(h){l.value.includes(h)||(l.value.push(h),l.value.sort(),await Kt(),n("categoriesUpdated"),window.dispatchEvent(new CustomEvent("categories-updated",{detail:{categories:K.value}})));try{await mu(h),O(`  : ${h}`,"success")}catch(f){console.error("     :",f),O("   ","error")}}function z(h){O(`  : ${h}`,"success")}function J(){u.value=!0,p.value&&clearTimeout(p.value)}function ne(){p.value=setTimeout(()=>{u.value=!1,p.value=null},500)}function pe(h,f){Pt(h,"date",f,!0)}function le(h){if(h instanceof Date)return h;if(typeof h=="string"&&/^\d{2}\.\d{2}\.\d{4}$/.test(h)){const[V,Y,te]=h.split(".");return new Date(parseInt(te),parseInt(Y)-1,parseInt(V))}const f=new Date(h);return isNaN(f.getTime())?(console.warn("   :",h),null):f}const ye=Te(()=>zo(w.value,{bank:y.value||void 0,category:m.value||void 0,dateFrom:x.value?le(x.value):void 0,dateTo:G.value?le(G.value):void 0,search:Ye.value||void 0},u.value?{field:"date",direction:"desc"}:{field:Ze.value,direction:et.value})),Oe=Te(()=>ye.value.reduce((h,f)=>h+(f.amount||0),0));function Ve(h){Ze.value===h?et.value=et.value==="asc"?"desc":"asc":(Ze.value=h,et.value="asc"),i.value=i.value+1}async function tt(){try{let h=0,f=0;for(const V of r.value){const Y=V.transactions.map(te=>({...te,bank:te.bank||V.bank||" "}));await gu(Y),f+=Y.length,h++}O(` ${f}   ${h}   `,"success"),await qe(),i.value=i.value+1}catch(h){O("    ","error"),console.error(" :",h)}}async function qe(){try{const h=await Vo();if(Array.isArray(h)&&h.length>0){const f={};h.forEach(V=>{const Y=V.bank||" ";f[Y]||(f[Y]=[]),f[Y].push(V)}),r.value=Object.entries(f).map(([V,Y])=>({bank:V,totalTransactions:Y.length,transactions:Y,fileName:`  ${V}`,period:{from:new Date(Math.min(...Y.map(te=>new Date(te.date)))),to:new Date(Math.max(...Y.map(te=>new Date(te.date))))}})),o.value=!0,O(` ${h.length}   IndexedDB`,"success")}else r.value=[],o.value=!0,O("     ","info");await Q()}catch(h){O("    IndexedDB","error"),console.error("   IndexedDB:",h)}}function vs(){r.value=[],o.value=!1}async function Ue(){try{const h=await bu();O(` ${h.count} `,"success")}catch(h){O("   ","error"),console.error(" :",h)}}async function st(h){const f=h.target.files[0];if(f){try{const V=await f.text(),Y=await yu(V);O(` ${Y.count} `,"success"),await qe()}catch(V){O("   ","error"),console.error(" :",V)}h.target.value=""}}function bs(){_.value=!0}async function Yn(){try{const h=await hu();O(` ${h.deletedCount}   `,"success"),r.value=[],i.value=i.value+1}catch(h){O("   ","error"),console.error(" :",h)}finally{_.value=!1}}function qn(){_.value=!1}async function Pt(h,f,V,Y=!0){if(f==="amount"){const te=parseFloat(V.replace(/[^\d\-.,]/g,"").replace(",","."));h.amount=isNaN(te)?0:te}else if(f==="date"){const te=new Date(V);if(!isNaN(te.getTime()))h.date=te;else{O("  ","error");return}}else h[f]=V;if(o.value&&h.id)try{const te=await Er(h.id,{[f]:h[f]});if(te)for(const ke of r.value){const Re=ke.transactions.findIndex(gt=>gt.id===h.id);if(Re!==-1){ke.transactions[Re][f]=te[f];break}}i.value=i.value+1,O(` "${f}" `,"success")}catch(te){O("   ",te)}Y&&ne()}function No(h){o.value=h,h&&Ee()}async function Lo(h){try{if(o.value)await Us(h),await qe(),i.value++,O("    ","success");else{const f={fileName:"",transactions:[h],period:{from:new Date(h.date),to:new Date(h.date)},meta:{source:"manual",addedAt:new Date().toISOString()}};r.value.push(f),i.value++,O("    ","success")}}catch(f){console.error("   :",f),O("   ","error")}}function Ko(h){v.value=h,d.value=!0}async function Ho(){if(v.value)try{if(o.value)if(v.value.id)await Or(v.value.id),O("    ","success"),await qe(),i.value++;else throw new Error("   ID     ");else{for(let h=0;h<r.value.length;h++){const f=r.value[h],V=f.transactions.findIndex(Y=>Y===v.value);if(V!==-1){f.transactions.splice(V,1),f.transactions.length===0&&r.value.splice(h,1);break}}O("    ","success"),i.value++}d.value=!1,v.value=null}catch(h){console.error("   :",h),O("   ","error")}}function Gn(){d.value=!1,v.value=null}async function Jn(h){try{const f={...h,id:void 0,description:`${h.description} ()`,createdAt:new Date().toISOString()};if(o.value)await Us(f),await qe(),i.value++,O("    ","success");else{const V={fileName:" ",transactions:[f],period:{from:new Date(f.date),to:new Date(f.date)},meta:{source:"copy",addedAt:new Date().toISOString()}};r.value.push(V),i.value++,O("    ","success")}}catch(f){console.error("   :",f),O("   ","error")}}return t({addStatement:oe,addManualTransaction:Lo,copyTransaction:Jn,loadStatementsFromDb:qe,clearStatements:vs,exportData:Ue,importData:st,clearAllData:Yn,showClearAllConfirmation:bs,getAllTransactions:M,getCategories:()=>K.value,getBanks:A,saveAllToDb:tt,setDatabaseMode:No,statements:r,isDatabaseMode:o}),(h,f)=>{var V,Y,te,ke,Re,gt,Jt,Xt;return k(),I(ae,null,[a("div",xu,[a("h3",wu,R(o.value?"  ":"  "),1),a("p",_u,R(o.value?"     ":"     "),1)]),a("div",Su,[(k(!0),I(ae,null,Ie(P.value,E=>(k(),I("div",{key:E.id,class:_e(["px-4 py-2 rounded shadow text-sm",E.type==="success"?"bg-green-100 text-green-800":E.type==="warning"?"bg-yellow-100 text-yellow-800":E.type==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"])},R(E.msg),3))),128))]),!o.value&&r.value.length>0?(k(),I("div",Cu,[a("div",Tu,[a("div",$u,[f[26]||(f[26]=a("div",{class:"text-blue-600 text-lg mr-2"},"",-1)),a("div",null,[f[25]||(f[25]=a("h3",{class:"font-medium text-blue-800"}," ",-1)),a("p",Du," : "+R(r.value.length),1)])]),a("button",{onClick:f[0]||(f[0]=E=>n("saveToDatabase")),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"},"      ")])])):ge("",!0),a("div",ku,[a("div",null,[f[28]||(f[28]=a("label",{class:"block text-xs mb-1"},"",-1)),Le(a("select",{"onUpdate:modelValue":f[1]||(f[1]=E=>y.value=E),class:"border rounded px-2 py-1 h-8"},[f[27]||(f[27]=a("option",{value:""},"",-1)),(k(!0),I(ae,null,Ie(D.value,E=>(k(),I("option",{key:E,value:E},R(E),9,Au))),128))],512),[[ts,y.value]])]),a("div",null,[f[30]||(f[30]=a("label",{class:"block text-xs mb-1"},"",-1)),Le(a("select",{"onUpdate:modelValue":f[2]||(f[2]=E=>m.value=E),class:"border rounded px-2 py-1 h-8"},[f[29]||(f[29]=a("option",{value:""},"",-1)),(k(!0),I(ae,null,Ie(K.value,E=>(k(),I("option",{key:E,value:E},R(E),9,Eu))),128))],512),[[ts,m.value]])]),a("div",null,[f[32]||(f[32]=a("label",{class:"block text-xs mb-1"},"",-1)),Le(a("select",{"onUpdate:modelValue":f[3]||(f[3]=E=>N.value=E),onChange:c,class:"border rounded px-2 py-1 h-8 min-w-20"},[f[31]||(f[31]=a("option",{value:""}," ",-1)),(k(!0),I(ae,null,Ie(At.value,E=>(k(),I("option",{key:E,value:E},R(E),9,Ou))),128))],544),[[ts,N.value]])]),a("div",null,[f[34]||(f[34]=a("label",{class:"block text-xs mb-1"},"",-1)),Le(a("select",{"onUpdate:modelValue":f[4]||(f[4]=E=>be.value=E),onChange:g,class:"border rounded px-2 py-1 h-8 min-w-24"},[f[33]||(f[33]=a("option",{value:""}," ",-1)),(k(!0),I(ae,null,Ie(zn.value,E=>(k(),I("option",{key:E.value,value:E.value},R(E.label),9,Iu))),128))],544),[[ts,be.value]])]),a("div",null,[f[35]||(f[35]=a("label",{class:"block text-xs mb-1"}," ",-1)),Le(a("input",{type:"date","onUpdate:modelValue":f[5]||(f[5]=E=>x.value=E),onChange:C,class:"border rounded px-2 py-1 h-8"},null,544),[[dt,x.value]])]),a("div",null,[f[36]||(f[36]=a("label",{class:"block text-xs mb-1"}," ",-1)),Le(a("input",{type:"date","onUpdate:modelValue":f[6]||(f[6]=E=>G.value=E),onChange:C,class:"border rounded px-2 py-1 h-8"},null,544),[[dt,G.value]])]),a("div",null,[f[37]||(f[37]=a("label",{class:"block text-xs mb-1"},"",-1)),Le(a("input",{type:"text","onUpdate:modelValue":f[7]||(f[7]=E=>Ye.value=E),placeholder:", , ...",class:"border rounded px-2 py-1 h-8"},null,512),[[dt,Ye.value]])]),a("div",null,[f[38]||(f[38]=a("label",{class:"block text-xs mb-1"},"",-1)),a("button",{onClick:Je,class:"px-3 py-1 h-8 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors text-xs font-medium",title:"  "},"   ")]),a("div",Mu,": "+R(ye.value.length),1)]),L()>0?(k(),I("div",Fu,[a("div",Ru,[a("div",Pu,[a("span",ju," : "+R(L())+"  ",1),a("button",{onClick:Ce,class:"text-sm text-blue-600 hover:text-blue-800 underline"},"   ")]),a("div",Bu,[a("button",{onClick:De,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors text-sm"},"    "),a("button",{onClick:B,class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm"},"   ("+R(L())+") ",1)])])])):ge("",!0),(k(),Rt(Ga,{data:ye.value,key:i.value},{header:Tt(()=>[a("th",Vu,[a("input",{type:"checkbox",checked:L()===ye.value.length&&ye.value.length>0,indeterminate:L()>0&&L()<ye.value.length,onChange:f[8]||(f[8]=E=>L()===ye.value.length?Ce():fe()),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,40,Uu)]),a("th",{class:"cursor-pointer whitespace-nowrap",onClick:f[9]||(f[9]=E=>Ve("date"))},[f[39]||(f[39]=Ke("  ")),Ze.value==="date"?(k(),I("span",Nu,R(et.value==="asc"?"":""),1)):ge("",!0)]),a("th",{class:"cursor-pointer whitespace-nowrap",onClick:f[10]||(f[10]=E=>Ve("bank"))},[f[40]||(f[40]=Ke("  ")),Ze.value==="bank"?(k(),I("span",Lu,R(et.value==="asc"?"":""),1)):ge("",!0)]),f[43]||(f[43]=a("th",{class:"table-description"},"",-1)),a("th",{class:"cursor-pointer whitespace-nowrap",onClick:f[11]||(f[11]=E=>Ve("amount"))},[f[41]||(f[41]=Ke("  ")),Ze.value==="amount"?(k(),I("span",Ku,R(et.value==="asc"?"":""),1)):ge("",!0)]),a("th",{class:"cursor-pointer whitespace-nowrap table-category",onClick:f[12]||(f[12]=E=>Ve("category"))},[f[42]||(f[42]=Ke("  ")),Ze.value==="category"?(k(),I("span",Hu,R(et.value==="asc"?"":""),1)):ge("",!0)]),f[44]||(f[44]=a("th",{class:"table-comment min-w-40 max-w-60"},"",-1)),f[45]||(f[45]=a("th",{class:"whitespace-nowrap w-24"},"",-1))]),row:Tt(({row:E})=>[a("td",Wu,[a("input",{type:"checkbox",checked:ze(E),onChange:xe=>$e(ve(E)),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,40,zu)]),a("td",Yu,[he(fu,{value:E.date,"onUpdate:value":xe=>pe(E,xe)},null,8,["value","onUpdate:value"])]),a("td",qu,[he(Vs,{modelValue:E.bank,"onUpdate:modelValue":[xe=>E.bank=xe,xe=>Pt(E,"bank",xe,!0)],items:D.value,placeholder:" ","item-name":"","allow-add-new":!0,onItemAdded:f[13]||(f[13]=xe=>z(xe)),onFocus:J,onBlur:ne},null,8,["modelValue","onUpdate:modelValue","items"])]),a("td",{class:"table-description",contenteditable:"",title:E.description,onFocus:J,onBlur:xe=>Pt(E,"description",xe.target.innerText,!0),onKeydown:f[14]||(f[14]=ks(nt(xe=>xe.target.blur(),["prevent"]),["enter"]))},R(E.description),41,Gu),a("td",{class:_e(E.amount>0?"text-green-600":"text-red-600"),contenteditable:"",onFocus:J,onBlur:xe=>Pt(E,"amount",xe.target.innerText,!0),onKeydown:f[15]||(f[15]=ks(nt(xe=>xe.target.blur(),["prevent"]),["enter"]))},R(E.amount>0?"+":"")+R(E.amount.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2})),43,Ju),a("td",Xu,[(k(),Rt(Tn,{modelValue:E.category,"onUpdate:modelValue":[xe=>E.category=xe,xe=>Pt(E,"category",xe,!0)],categories:K.value,key:`${E.id||E.date}-${E.description}-${E.amount}-${E.category}-${i.value}`,onCategoryAdded:F,onFocus:J,onBlur:ne},null,8,["modelValue","onUpdate:modelValue","categories"]))]),a("td",{class:"table-comment",contenteditable:"",title:E.comment||"",onFocus:J,onBlur:xe=>Pt(E,"comment",xe.target.innerText,!0),onKeydown:f[16]||(f[16]=ks(nt(xe=>xe.target.blur(),["prevent"]),["enter"]))},R(E.comment||""),41,Qu),a("td",Zu,[a("div",ec,[a("button",{onClick:xe=>Jn(E),class:"px-2 py-1 bg-blue-300 text-white rounded hover:bg-blue-500 transition-colors text-xs",title:" "},"  ",8,tc),a("button",{onClick:xe=>Ko(E),class:"px-2 py-1 bg-red-300 text-white rounded hover:bg-red-500 transition-colors text-xs",title:" "},"  ",8,sc)])])]),_:1},8,["data"])),a("div",nc,[a("div",null,": "+R(ye.value.length),1),a("div",null,[f[46]||(f[46]=Ke("   : ")),a("span",{class:_e(Oe.value>=0?"text-green-700":"text-red-700")},R(Oe.value>=0?"+":"")+R(Oe.value.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),3)])]),d.value?(k(),I("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:Gn},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:f[17]||(f[17]=nt(()=>{},["stop"]))},[a("div",rc,[f[48]||(f[48]=a("div",{class:"flex items-center mb-4"},[a("div",{class:"text-red-500 text-2xl mr-3"},""),a("h3",{class:"text-lg font-semibold text-gray-900"}," ?")],-1)),a("div",oc,[f[47]||(f[47]=a("p",{class:"text-gray-600 mb-3"},"     ?",-1)),a("div",lc,[a("div",ic,[a("div",ac,R((V=v.value)==null?void 0:V.description),1),a("div",uc,[Ke(R((Y=v.value)!=null&&Y.date?(te=le(v.value.date))==null?void 0:te.toLocaleDateString():"")+"  "+R((ke=v.value)==null?void 0:ke.bank)+"  ",1),a("span",{class:_e(((Re=v.value)==null?void 0:Re.amount)>0?"text-green-600":"text-red-600")},R(((gt=v.value)==null?void 0:gt.amount)>0?"+":"")+R((Xt=(Jt=v.value)==null?void 0:Jt.amount)==null?void 0:Xt.toLocaleString("ru-RU",{style:"currency",currency:"RUB"})),3)])])])]),a("div",{class:"flex space-x-3"},[a("button",{onClick:Gn,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{onClick:Ho,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"},"  ")])])])])):ge("",!0),_.value?(k(),I("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:qn},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:f[18]||(f[18]=nt(()=>{},["stop"]))},[a("div",{class:"p-6"},[f[49]||(f[49]=Io('<div class="flex items-center mb-4" data-v-b3c634c3><div class="text-red-500 text-2xl mr-3" data-v-b3c634c3></div><h3 class="text-lg font-semibold text-gray-900" data-v-b3c634c3>  ?</h3></div><div class="mb-6" data-v-b3c634c3><p class="text-gray-600 mb-3" data-v-b3c634c3>        ?    . </p><div class="bg-red-50 p-3 rounded border border-red-200" data-v-b3c634c3><div class="text-sm text-red-700" data-v-b3c634c3><div class="font-medium" data-v-b3c634c3> !</div><div data-v-b3c634c3> ,      .</div></div></div></div>',2)),a("div",{class:"flex space-x-3"},[a("button",{onClick:qn,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{onClick:Yn,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"},"   ")])])])])):ge("",!0),U.value?(k(),I("div",{key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:ie},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:f[19]||(f[19]=nt(()=>{},["stop"]))},[a("div",cc,[f[51]||(f[51]=a("div",{class:"flex items-center mb-4"},[a("div",{class:"text-red-500 text-2xl mr-3"},""),a("h3",{class:"text-lg font-semibold text-gray-900"},"  ?")],-1)),a("div",dc,[a("p",fc,"     "+R(L())+" ?    . ",1),f[50]||(f[50]=a("div",{class:"bg-red-50 p-3 rounded border border-red-200"},[a("div",{class:"text-sm text-red-700"},[a("div",{class:"font-medium"}," !"),a("div",null,"    .")])],-1))]),a("div",pc,[a("button",{onClick:ie,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{onClick:Z,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"},"  "+R(L()),1)])])])])):ge("",!0),H.value?(k(),I("div",{key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:re},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:f[24]||(f[24]=nt(()=>{},["stop"]))},[a("div",gc,[f[57]||(f[57]=a("div",{class:"flex items-center mb-4"},[a("div",{class:"text-green-500 text-2xl mr-3"},""),a("h3",{class:"text-lg font-semibold text-gray-900"},"  ")],-1)),a("div",hc,[a("p",mc,[f[52]||(f[52]=Ke("   ")),a("strong",null,R(L()),1),f[53]||(f[53]=Ke(" .   ,     . "))]),a("div",vc,[a("div",null,[f[54]||(f[54]=a("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Le(a("input",{"onUpdate:modelValue":f[20]||(f[20]=E=>j.value=E),type:"text",placeholder:"  ",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[dt,j.value]])]),a("div",null,[f[55]||(f[55]=a("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),he(Vs,{modelValue:se.value,"onUpdate:modelValue":f[21]||(f[21]=E=>se.value=E),items:D.value,placeholder:"  ","item-name":"","allow-add-new":!0,onItemAdded:f[22]||(f[22]=E=>z(E))},null,8,["modelValue","items"])]),a("div",null,[f[56]||(f[56]=a("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),he(Tn,{modelValue:W.value,"onUpdate:modelValue":f[23]||(f[23]=E=>W.value=E),categories:K.value,placeholder:"  ",onCategoryAdded:F},null,8,["modelValue","categories"])])])]),a("div",bc,[a("button",{onClick:re,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{onClick:de,class:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"},"   "+R(L())+"  ",1)])])])])):ge("",!0)],64)}}},xc=tn(yc,[["__scopeId","data-v-b3c634c3"]]),wc={class:"flex justify-between items-center p-6 border-b"},_c={class:"flex items-center gap-3"},Sc={class:"flex items-center gap-2"},Cc=["value"],Tc={class:"p-6 overflow-auto max-h-[calc(90vh-120px)]"},$c={key:0,class:"text-center py-8"},Dc={key:1,class:"mb-4 text-sm text-gray-600"},kc={key:2,class:"space-y-6"},Ac={class:"overflow-x-auto"},Ec={class:"min-w-full border-collapse"},Oc={class:"bg-gray-50"},Ic=["onDragstart","onDragover","onDrop"],Mc={class:"border px-3 py-2 font-medium text-gray-900"},Fc={class:"border px-2 py-2 text-right font-semibold bg-gray-100 text-gray-900"},Rc={class:"border px-2 py-2 text-right font-semibold bg-gray-100 text-gray-900"},Pc={class:"bg-gray-100 font-bold",draggable:!1},jc={class:"border px-2 py-2 text-right bg-gray-200 text-gray-900"},Bc={class:"border px-2 py-2 text-right bg-gray-300 text-gray-900"},Vc={class:"overflow-x-auto"},Uc={class:"min-w-full border-collapse"},Nc={class:"bg-gray-50"},Lc=["onDragstart","onDragover","onDrop"],Kc={class:"border px-3 py-2 font-medium text-gray-900"},Hc={class:"border px-2 py-2 text-right font-semibold bg-gray-100 text-gray-900"},Wc={class:"border px-2 py-2 text-right font-semibold bg-gray-100 text-gray-900"},zc={class:"bg-gray-100 font-bold",draggable:!1},Yc={class:"border px-2 py-2 text-right bg-gray-200 text-gray-900"},qc={class:"border px-2 py-2 text-right bg-gray-300 text-gray-900"},Gc={class:"overflow-x-auto"},Jc={class:"min-w-full border-collapse"},Xc={class:"bg-gray-200 font-bold"},Qc={class:"border px-2 py-2 text-right text-gray-900"},Zc={class:"border px-2 py-2 text-right text-gray-900"},ed={__name:"MonthlyTable",props:{transactions:{type:Array,default:()=>[]}},emits:["close"],setup(e,{expose:t}){const s=e,n=q(""),r=q([]),o=Te(()=>r.value.filter(y=>d.value.some(m=>Q(m.key,y)<0))),l=Te(()=>r.value.filter(y=>!o.value.includes(y))),i=q(null),u=q(null),p=q(!1),d=Te(()=>{let y=Object.keys(_.value).sort();n.value&&(y=y.filter(x=>x.startsWith(n.value+"-")));const m={"01":"","02":"","03":"","04":"","05":"","06":"","07":"","08":"","09":"",10:"",11:"",12:""};return y.map(x=>{const[G,N]=x.split("-");return{key:x,label:`${m[N]} ${G}`,year:G,month:N}})}),v=Te(()=>{const y=new Set;return Object.keys(_.value).forEach(m=>{const x=m.split("-")[0];y.add(x)}),Array.from(y).sort()}),_=Te(()=>{const y={};return s.transactions.forEach(m=>{if(!m.date||!m.amount)return;const x=B(m.date);if(!x){console.warn("   :",m);return}const G=x.getFullYear(),N=String(x.getMonth()+1).padStart(2,"0"),be=`${G}-${N}`,Ye=m.category||"";y[be]||(y[be]={}),y[be][Ye]||(y[be][Ye]={income:0,expense:0}),m.amount>0?y[be][Ye].income+=m.amount:y[be][Ye].expense+=Math.abs(m.amount)}),y});Te(()=>{const y=[];return Object.values(_.value).forEach(m=>{Object.values(m).forEach(x=>{x.income>0&&y.push(x.income)})}),y.length===0?{min:0,max:0}:{min:Math.min(...y),max:Math.max(...y)}}),Te(()=>{const y=[];return Object.values(_.value).forEach(m=>{Object.values(m).forEach(x=>{x.expense>0&&y.push(x.expense)})}),y.length===0?{min:0,max:0}:{min:Math.min(...y),max:Math.max(...y)}});const $=q([]),U=Te(()=>{const y=Array.from(new Set(s.transactions.map(x=>x.category))).filter(Boolean);return[...new Set([...$.value,...y])].sort()});Gt(async()=>{await H(),await se()});async function H(){try{const y=await sn();y&&($.value=y,r.value=[...y])}catch(y){console.error("     :",y)}}async function se(){try{const y=await Ir();if(y&&Array.isArray(y)&&y.length>0){const m=Array.from(new Set(s.transactions.map(N=>N.category))).filter(Boolean),x=y.filter(N=>m.includes(N)),G=m.filter(N=>!y.includes(N));r.value=[...x,...G.sort()]}}catch(y){console.error("    :",y)}}async function W(){try{await vu(r.value)}catch(y){console.error("    :",y)}}const j=async()=>{const y=Array.from(new Set(s.transactions.map(x=>x.category))).filter(Boolean),m=await Ir();if(m&&Array.isArray(m)&&m.length>0){const x=m.filter(N=>y.includes(N)),G=y.filter(N=>!m.includes(N));r.value=[...x,...G.sort()]}else r.value=y.sort()};zt([U,$,()=>s.transactions],async()=>{await j()},{immediate:!0});function Q(y,m){const G=(_.value[y]||{})[m]||{income:0,expense:0};return G.income-G.expense}function P(y){return Object.keys(_.value).reduce((m,x)=>m+Q(x,y),0)}function O(y){const m=[];return Object.keys(_.value).forEach(x=>{const G=Q(x,y);G!==0&&m.push(G)}),m.length===0?0:m.reduce((x,G)=>x+G,0)/m.length}function $e(y){const m=_.value[y]||{};return Object.values(m).reduce((x,G)=>x+(G.income-G.expense),0)}function fe(){return Object.keys(_.value).reduce((y,m)=>y+$e(m),0)}function Ce(y,m){return m.reduce((x,G)=>x+Q(y,G),0)}function ve(y){return d.value.reduce((m,x)=>m+Ce(x.key,y),0)}function ze(y){const m=d.value.map(x=>Ce(x.key,y)).filter(x=>x!==0);return m.length===0?0:m.reduce((x,G)=>x+G,0)/m.length}function L(){const y=[];return Object.keys(_.value).forEach(m=>{const x=$e(m);x!==0&&y.push(x)}),y.length===0?0:y.reduce((m,x)=>m+x,0)/y.length}function B(y){if(y instanceof Date)return y;if(typeof y=="string"&&/^\d{2}\.\d{2}\.\d{4}$/.test(y)){const[x,G,N]=y.split(".");return new Date(parseInt(N),parseInt(G)-1,parseInt(x))}const m=new Date(y);return isNaN(m.getTime())?(console.warn("   :",y),null):m}function Z(y){if(y===0)return"0";const m=y.toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:0});return y>0?`+${m}`:m}function ie(y){if(y===0)return"";if(y>0){const m=Math.abs(y);return m>=1e5?"bg-green-600 text-white font-semibold":m>=5e4?"bg-green-500 text-white":m>=2e4?"bg-green-400 text-white":m>=1e4?"bg-green-300 text-gray-800":"bg-green-100 text-gray-800"}else{const m=Math.abs(y);return m>=1e5?"bg-red-600 text-white font-semibold":m>=5e4?"bg-red-500 text-white":m>=2e4?"bg-red-400 text-white":m>=1e4?"bg-red-300 text-gray-800":"bg-red-100 text-gray-800"}}function De(){}function de(y,m,x){i.value=m,p.value=!0,y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/html",m),y.target.style.opacity="0.5"}function re(y){y.target.style.opacity="1",i.value=null,u.value=null,p.value=!1}function oe(y,m){y.preventDefault(),y.dataTransfer.dropEffect="move",u.value=m}function Ee(y){y.currentTarget.contains(y.relatedTarget)||(u.value=null)}function Je(y,m){if(y.preventDefault(),i.value===null)return;const x=r.value.indexOf(i.value);if(x===-1||x===m){u.value=null;return}const G=[...r.value],[N]=G.splice(x,1);G.splice(m,0,N),r.value=G,W(),u.value=null,i.value=null}return t({refreshCategoriesFromDb:H}),(y,m)=>(k(),I("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:m[7]||(m[7]=x=>y.$emit("close"))},[a("div",{class:"bg-white rounded-lg shadow-xl w-full max-h-[90vh] overflow-hidden",onClick:m[6]||(m[6]=nt(()=>{},["stop"]))},[a("div",wc,[m[10]||(m[10]=a("h2",{class:"text-2xl font-bold text-gray-900"},"    ",-1)),a("div",_c,[a("div",Sc,[m[9]||(m[9]=a("label",{class:"text-sm text-gray-600"},":",-1)),Le(a("select",{"onUpdate:modelValue":m[0]||(m[0]=x=>n.value=x),class:"text-sm border rounded px-2 py-1",onChange:De},[m[8]||(m[8]=a("option",{value:""}," ",-1)),(k(!0),I(ae,null,Ie(v.value,x=>(k(),I("option",{key:x,value:x},R(x),9,Cc))),128))],544),[[ts,n.value]])]),a("button",{onClick:m[1]||(m[1]=x=>y.$emit("close")),class:"text-gray-400 hover:text-gray-600 text-2xl font-bold"},"  ")])]),a("div",Tc,[!_.value||Object.keys(_.value).length===0?(k(),I("div",$c,m[11]||(m[11]=[a("p",{class:"text-gray-500"},"   ",-1)]))):ge("",!0),_.value&&Object.keys(_.value).length>0?(k(),I("div",Dc,"  : "+R(s.transactions.length)+" |  : "+R(d.value.length)+" | : "+R(r.value.length),1)):ge("",!0),_.value&&Object.keys(_.value).length>0?(k(),I("div",kc,[a("div",Ac,[m[16]||(m[16]=a("h3",{class:"text-lg font-semibold text-red-700 mb-2"},"  (   ) ",-1)),a("table",Ec,[a("thead",null,[a("tr",Oc,[m[12]||(m[12]=a("th",{class:"border px-3 py-2 text-left font-semibold text-gray-700"},"",-1)),(k(!0),I(ae,null,Ie(d.value,x=>(k(),I("th",{key:x.key,class:"border px-3 py-2 text-center font-semibold text-gray-700"},R(x.label),1))),128)),m[13]||(m[13]=a("th",{class:"border px-3 py-2 text-center font-semibold text-gray-700"},"   ",-1)),m[14]||(m[14]=a("th",{class:"border px-3 py-2 text-center font-semibold text-gray-700"},"",-1))])]),a("tbody",null,[(k(!0),I(ae,null,Ie(o.value,(x,G)=>(k(),I("tr",{key:`exp-${x}`,class:_e(["hover:bg-gray-50 transition-all duration-200",p.value&&i.value===x?"opacity-50 bg-gray-200":"",u.value===G?"bg-blue-100 shadow-md":""]),style:as(u.value===G?"outline: 4px solid rgb(59, 130, 246); outline-offset: -4px;":""),draggable:!0,onDragstart:N=>de(N,x),onDragend:m[2]||(m[2]=N=>re(N)),onDragover:N=>oe(N,G),onDragleave:m[3]||(m[3]=N=>Ee(N)),onDrop:N=>Je(N,G)},[a("td",Mc,R(x),1),(k(!0),I(ae,null,Ie(d.value,N=>(k(),I("td",{key:N.key,class:_e(["border px-2 py-2 text-right",ie(Q(N.key,x))])},R(Z(Q(N.key,x))),3))),128)),a("td",Fc,R(Z(O(x))),1),a("td",Rc,R(Z(P(x))),1)],46,Ic))),128)),a("tr",Pc,[m[15]||(m[15]=a("td",{class:"border px-3 py-2 text-gray-900"}," ",-1)),(k(!0),I(ae,null,Ie(d.value,x=>(k(),I("td",{key:x.key,class:"border px-2 py-2 text-right bg-gray-200 text-gray-900"},R(Z(Ce(x.key,o.value))),1))),128)),a("td",jc,R(Z(ze(o.value))),1),a("td",Bc,R(Z(ve(o.value))),1)])])])]),a("div",Vc,[m[21]||(m[21]=a("h3",{class:"text-lg font-semibold text-green-700 mb-2"}," ( )",-1)),a("table",Uc,[a("thead",null,[a("tr",Nc,[m[17]||(m[17]=a("th",{class:"border px-3 py-2 text-left font-semibold text-gray-700"},"",-1)),(k(!0),I(ae,null,Ie(d.value,x=>(k(),I("th",{key:x.key,class:"border px-3 py-2 text-center font-semibold text-gray-700"},R(x.label),1))),128)),m[18]||(m[18]=a("th",{class:"border px-3 py-2 text-center font-semibold text-gray-700"},"   ",-1)),m[19]||(m[19]=a("th",{class:"border px-3 py-2 text-center font-semibold text-gray-700"},"",-1))])]),a("tbody",null,[(k(!0),I(ae,null,Ie(l.value,(x,G)=>(k(),I("tr",{key:`inc-${x}`,class:_e(["hover:bg-gray-50 transition-all duration-200",p.value&&i.value===x?"opacity-50 bg-gray-200":"",u.value===G?"bg-blue-100 shadow-md":""]),style:as(u.value===G?"outline: 4px solid rgb(59, 130, 246); outline-offset: -4px;":""),draggable:!0,onDragstart:N=>de(N,x),onDragend:m[4]||(m[4]=N=>re(N)),onDragover:N=>oe(N,G),onDragleave:m[5]||(m[5]=N=>Ee(N)),onDrop:N=>Je(N,G)},[a("td",Kc,R(x),1),(k(!0),I(ae,null,Ie(d.value,N=>(k(),I("td",{key:N.key,class:_e(["border px-2 py-2 text-right",ie(Q(N.key,x))])},R(Z(Q(N.key,x))),3))),128)),a("td",Hc,R(Z(O(x))),1),a("td",Wc,R(Z(P(x))),1)],46,Lc))),128)),a("tr",zc,[m[20]||(m[20]=a("td",{class:"border px-3 py-2 text-gray-900"}," ",-1)),(k(!0),I(ae,null,Ie(d.value,x=>(k(),I("td",{key:x.key,class:"border px-2 py-2 text-right bg-gray-200 text-gray-900"},R(Z(Ce(x.key,l.value))),1))),128)),a("td",Yc,R(Z(ze(l.value))),1),a("td",qc,R(Z(ve(l.value))),1)])])])]),a("div",Gc,[a("table",Jc,[a("tbody",null,[a("tr",Xc,[m[22]||(m[22]=a("td",{class:"border px-3 py-2 text-gray-900 w-40"}," ",-1)),(k(!0),I(ae,null,Ie(d.value,x=>(k(),I("td",{key:x.key,class:"border px-2 py-2 text-right text-gray-900"},R(Z($e(x.key))),1))),128)),a("td",Qc,R(Z(L())),1),a("td",Zc,R(Z(fe())),1)])])])])])):ge("",!0)])])]))}},td=tn(ed,[["__scopeId","data-v-dfd75a3d"]]),sd={class:"p-6"},nd={class:"flex items-center justify-between mb-4"},rd={class:"flex space-x-3 pt-4"},od=["disabled"],ld={__name:"AddTransactionModal",props:{isOpen:{type:Boolean,default:!1},categories:{type:Array,default:()=>[]},banks:{type:Array,default:()=>[]}},emits:["close","add-transaction"],setup(e,{emit:t}){const s=e,n=t,r=q({date:"",description:"",amount:"",category:"",bank:"",comment:""}),o=Te(()=>{const u=s.banks||[];return u.length===0?[""]:u.sort()}),l=Te(()=>{const u=!!r.value.date,p=!!r.value.description.trim(),d=r.value.amount!==""&&parseFloat(r.value.amount)!==0;return u&&p&&d});zt(()=>s.isOpen,u=>{if(u){const p=new Date;r.value.date=p.toISOString().split("T")[0],r.value.description="",r.value.amount="",r.value.category="",r.value.comment="";const d=o.value;r.value.bank=d.length>0?d[0]:""}});function i(){if(!l.value)return;const u={date:r.value.date,description:r.value.description.trim(),amount:parseFloat(r.value.amount),category:r.value.category||"",bank:r.value.bank||"",comment:r.value.comment.trim()||"",raw:`${r.value.bank||""}: ${r.value.description}`,meta:{source:"manual",addedAt:new Date().toISOString()}};n("add-transaction",u),n("close")}return(u,p)=>e.isOpen?(k(),I("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:p[9]||(p[9]=d=>u.$emit("close"))},[a("div",{class:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:p[8]||(p[8]=nt(()=>{},["stop"]))},[a("div",sd,[a("div",nd,[p[10]||(p[10]=a("h2",{class:"text-lg font-semibold text-gray-900"},"  ",-1)),a("button",{onClick:p[0]||(p[0]=d=>u.$emit("close")),class:"text-gray-400 hover:text-gray-600 transition-colors"},"  ")]),a("form",{onSubmit:nt(i,["prevent"]),class:"space-y-4"},[a("div",null,[p[11]||(p[11]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),he(Tn,{modelValue:r.value.category,"onUpdate:modelValue":p[1]||(p[1]=d=>r.value.category=d),categories:e.categories,placeholder:" "},null,8,["modelValue","categories"])]),a("div",null,[p[12]||(p[12]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),he(Vs,{modelValue:r.value.bank,"onUpdate:modelValue":p[2]||(p[2]=d=>r.value.bank=d),items:o.value,placeholder:" ","item-name":"","allow-add-new":!0},null,8,["modelValue","items"])]),a("div",null,[p[13]||(p[13]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ke(" "),a("span",{class:"text-red-500"},"*")],-1)),Le(a("input",{"onUpdate:modelValue":p[3]||(p[3]=d=>r.value.date=d),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[dt,r.value.date]])]),a("div",null,[p[14]||(p[14]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ke(" "),a("span",{class:"text-red-500"},"*")],-1)),Le(a("input",{"onUpdate:modelValue":p[4]||(p[4]=d=>r.value.description=d),type:"text",required:"",placeholder:"  ",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[dt,r.value.description]])]),a("div",null,[p[15]||(p[15]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ke(" "),a("span",{class:"text-red-500"},"*")],-1)),Le(a("input",{"onUpdate:modelValue":p[5]||(p[5]=d=>r.value.amount=d),type:"number",step:"0.01",required:"",placeholder:"0.00",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[dt,r.value.amount]]),p[16]||(p[16]=a("p",{class:"text-xs text-gray-500 mt-1"},"   = ,  =  ",-1))]),a("div",null,[p[17]||(p[17]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Le(a("textarea",{"onUpdate:modelValue":p[6]||(p[6]=d=>r.value.comment=d),placeholder:"    ()",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"},null,512),[[dt,r.value.comment]])]),a("div",rd,[a("button",{type:"button",onClick:p[7]||(p[7]=d=>u.$emit("close")),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"  "),a("button",{type:"submit",disabled:!l.value,class:_e(["flex-1 px-4 py-2 rounded-lg font-medium transition-colors",l.value?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed opacity-100"])},"  ",10,od)]),p[18]||(p[18]=a("div",{class:"text-xs text-gray-500 mt-2"},[a("span",{class:"text-red-500"},"*"),Ke(" -   ")],-1))],32)])])])):ge("",!0)}},id={key:0,class:"fixed bottom-4 right-4 z-50 flex gap-2 rounded-lg bg-blue-600 p-3 text-white shadow-lg"},ad={__name:"PWAInstallButton",setup(e){const t=q(!1),s=q(null);async function n(){if("getInstalledRelatedApps"in navigator)try{(await navigator.getInstalledRelatedApps()).length>0&&(t.value=!1)}catch{}}function r(){s.value&&(s.value.prompt(),s.value.userChoice.then(()=>{t.value=!1}))}return Gt(()=>{n()}),window.addEventListener("beforeinstallprompt",o=>{s.value=o,t.value=!0}),window.addEventListener("appinstalled",()=>{t.value=!1}),(o,l)=>t.value?(k(),I("div",id,[a("button",{class:"rounded-md bg-white px-3 py-1 text-sm font-medium text-blue-600 hover:bg-gray-100 transition-colors",onClick:r},"   "),a("button",{class:"rounded-md bg-gray-600 px-3 py-1 text-sm font-medium text-white hover:bg-gray-700 transition-colors",onClick:l[0]||(l[0]=i=>t.value=!1)},"  ")])):ge("",!0)}},ud=tn(ad,[["__scopeId","data-v-19fbfc8c"]]),cd={class:"min-h-screen bg-gray-50"},dd={class:"w-full max-w-none mx-auto p-4"},fd={class:"bg-white border-b border-gray-200 px-4 py-3"},pd={class:"flex items-center justify-between"},gd={class:"flex items-center space-x-3"},hd={key:0,class:"flex items-center"},md={key:0,class:"fixed top-3 right-3 z-50"},vd={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4"},bd={class:"text-xs text-gray-500 mb-1"},yd={class:"text-2xl font-bold text-green-600 mb-2"},xd={class:"text-xs text-gray-500 mb-1"},wd={class:"text-2xl font-bold text-green-500 mb-2"},_d={class:"text-xs text-gray-500 mb-1"},Sd={class:"text-2xl font-bold text-red-500 mb-2"},Cd={class:"flex space-x-2 mb-4"},Td={key:0},$d={class:"mb-4"},Dd={key:1},kd={class:"flex justify-between"},Ad={class:"flex flex-wrap gap-2"},Ed=["disabled"],Pd={__name:"App",setup(e){const t=q(null),s=q(null),n=q("upload"),r=q(!1),o=q(!1),l=q(!1),i=q(!1),u=q(null);function p(L){u.value=L}async function d(L){t.value&&t.value.addStatement&&(await t.value.addStatement(L),l.value=!0,i.value=!0,setTimeout(()=>{i.value=!1},5e3))}async function v(){t.value&&t.value.saveAllToDb&&(await t.value.saveAllToDb(),l.value=!1,n.value="database",await U())}function _(){n.value="upload",t.value&&t.value.clearStatements&&t.value.clearStatements(),t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!1),l.value=!1,i.value=!1}function $(){n.value="database",t.value&&t.value.loadStatementsFromDb&&t.value.loadStatementsFromDb(),t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!0),U(),l.value=!1,i.value=!1}async function U(){s.value&&s.value.refreshCategoriesFromDb&&await s.value.refreshCategoriesFromDb()}async function H(){await U()}async function se(L){t.value&&t.value.addManualTransaction&&(await t.value.addManualTransaction(L),t.value.statements&&t.value.statements.length>0&&!t.value.isDatabaseMode&&(l.value=!0))}function W(L){if(L instanceof Date)return L;if(typeof L=="string"&&/^\d{2}\.\d{2}\.\d{4}$/.test(L)){const[Z,ie,De]=L.split(".");return new Date(parseInt(De),parseInt(ie)-1,parseInt(Z))}const B=new Date(L);return isNaN(B.getTime())?(console.warn("   :",L),null):B}function j(L){return Array.isArray(L)?L.reduce((B,Z)=>B+(Z.amount||0),0):0}function Q(L){if(!Array.isArray(L)||L.length===0)return null;const B=new Set;return L.forEach(Z=>{if(Z.date){const ie=W(Z.date);ie&&B.add(ie.getFullYear())}}),B.size===0?null:Math.max(...B)}function P(L){if(!Array.isArray(L)||L.length===0)return 0;const B=Q(L);return B?L.filter(ie=>{if(!ie.date)return!1;const De=W(ie.date);if(!De)return!1;const de=De.getFullYear()===B,re=(ie.amount||0)>0;return de&&re}).reduce((ie,De)=>ie+(De.amount||0),0):0}function O(L){if(!Array.isArray(L)||L.length===0)return 0;const B=Q(L);return B?L.filter(ie=>{if(!ie.date)return!1;const De=W(ie.date);if(!De)return!1;const de=De.getFullYear()===B,re=(ie.amount||0)<0;return de&&re}).reduce((ie,De)=>ie+Math.abs(De.amount||0),0):0}const $e=Te(()=>{var B,Z;if(!t.value)return{balance:0,income:0,expenses:0};const L=((Z=(B=t.value).getAllTransactions)==null?void 0:Z.call(B))||[];return{balance:j(L),income:P(L),expenses:O(L)}}),fe=Te(()=>{var B,Z;return t.value?(((Z=(B=t.value).getAllTransactions)==null?void 0:Z.call(B))||[]).length>0:!1});Gt(async()=>{setTimeout(async()=>{if(t.value&&t.value.loadStatementsFromDb)try{await t.value.loadStatementsFromDb(),n.value="database",t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!0)}catch{t.value&&t.value.clearStatements&&t.value.clearStatements(),t.value&&t.value.setDatabaseMode&&t.value.setDatabaseMode(!1)}},100)});function Ce(){t.value&&t.value.exportData&&t.value.exportData()}function ve(){const L=document.createElement("input");L.type="file",L.accept=".json",L.onchange=B=>{t.value&&t.value.importData&&t.value.importData(B)},L.click()}function ze(){t.value&&t.value.showClearAllConfirmation&&t.value.showClearAllConfirmation()}return(L,B)=>{var ie,De,de,re,oe,Ee;const Z=Ql("Card");return k(),I("div",cd,[a("div",dd,[a("header",fd,[a("div",pd,[a("div",gd,[B[5]||(B[5]=a("h1",{class:"text-lg font-bold text-gray-900"},"  ",-1)),l.value?(k(),I("div",hd,B[4]||(B[4]=[a("span",{class:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full"},"     ",-1)]))):ge("",!0)]),B[6]||(B[6]=a("p",{class:"text-xs text-gray-500"},"Local-first PWA   ",-1))])]),i.value?(k(),I("div",md,B[7]||(B[7]=[Io('<div class="bg-green-50 border border-green-200 rounded-lg p-3 shadow-lg max-w-sm"><div class="flex items-center"><div class="text-green-500 text-lg mr-2"></div><div><h3 class="font-medium text-green-800 text-sm">  </h3><p class="text-xs text-green-700 mt-0.5">    .      ! </p></div></div></div>',1)]))):ge("",!0),a("div",vd,[he(Z,{class:"text-center hover:shadow-lg transition-shadow"},{default:Tt(()=>[a("div",bd,R(n.value==="upload"?"  ":"  "),1),a("div",yd,R($e.value.balance>=0?"+":"")+R($e.value.balance.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),1),B[8]||(B[8]=a("div",{class:"text-gray-600"}," ",-1))]),_:1,__:[8]}),he(Z,{class:"text-center hover:shadow-lg transition-shadow"},{default:Tt(()=>[a("div",xd,R(n.value==="upload"?"  ":"  "),1),a("div",wd,R($e.value.income.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),1),B[9]||(B[9]=a("div",{class:"text-gray-600"},"  ",-1))]),_:1,__:[9]}),he(Z,{class:"text-center hover:shadow-lg transition-shadow"},{default:Tt(()=>[a("div",_d,R(n.value==="upload"?"  ":"  "),1),a("div",Sd,R($e.value.expenses.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0})),1),B[10]||(B[10]=a("div",{class:"text-gray-600"},"  ",-1))]),_:1,__:[10]})]),he(Z,null,{default:Tt(()=>[a("div",Cd,[a("button",{onClick:_,class:_e(["px-4 py-2 rounded-lg font-medium transition-colors text-sm",n.value==="upload"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},"    ",2),a("button",{onClick:$,class:_e(["px-4 py-2 rounded-lg font-medium transition-colors text-sm",n.value==="database"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},"    ",2)]),n.value==="upload"?(k(),I("div",Td,[B[11]||(B[11]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-3"},"      ",-1)),B[12]||(B[12]=a("p",{class:"text-gray-600 mb-4 text-sm"},"   ,   Excel  PDF    .        ,         . ",-1)),a("div",$d,[he(Ka,{"selected-bank":u.value,onBankSelected:p},null,8,["selected-bank"])]),he(Pa,{"selected-bank":u.value,onFileParsed:d},null,8,["selected-bank"])])):ge("",!0),n.value==="database"?(k(),I("div",Dd,[B[16]||(B[16]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-3"},"   ",-1)),B[17]||(B[17]=a("p",{class:"text-gray-600 mb-4 text-sm"},"         .   ,    . ",-1)),a("div",kd,[a("div",Ad,[a("button",{onClick:B[0]||(B[0]=Je=>r.value=!0),class:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium text-sm"},"    "),B[13]||(B[13]=a("div",{class:"w-4"},null,-1)),a("button",{onClick:B[1]||(B[1]=Je=>o.value=!0),class:"px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium text-sm"},"   "),B[14]||(B[14]=a("div",{class:"w-4"},null,-1)),a("button",{onClick:Ce,disabled:!fe.value,class:_e(["px-3 py-2 rounded-lg transition-colors font-medium text-sm",fe.value?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])},"   ",10,Ed),a("button",{onClick:ve,class:"px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium text-sm"},"   "),B[15]||(B[15]=a("div",{class:"w-4"},null,-1))]),a("button",{onClick:ze,class:"px-3 py-2 bg-red-300 text-white rounded-lg hover:bg-red-500 transition-colors font-medium text-sm"},"   ")])])):ge("",!0)]),_:1}),he(Z,null,{default:Tt(()=>[he(xc,{ref_key:"allTable",ref:t,onCategoriesUpdated:H,onSaveToDatabase:v},null,512)]),_:1}),r.value?(k(),Rt(td,{key:1,ref_key:"monthlyTable",ref:s,transactions:((De=(ie=t.value)==null?void 0:ie.getAllTransactions)==null?void 0:De.call(ie))||[],onClose:B[2]||(B[2]=Je=>r.value=!1),onCategoriesUpdated:H},null,8,["transactions"])):ge("",!0),he(ld,{"is-open":o.value,categories:((re=(de=t.value)==null?void 0:de.getCategories)==null?void 0:re.call(de))||[],banks:((Ee=(oe=t.value)==null?void 0:oe.getBanks)==null?void 0:Ee.call(oe))||[],onClose:B[3]||(B[3]=Je=>o.value=!1),onAddTransaction:se},null,8,["is-open","categories","banks"]),he(ud)])])}}},Od=["disabled"],jd={__name:"Button",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","outline","ghost"].includes(e)},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},disabled:{type:Boolean,default:!1}},setup(e){return(t,s)=>(k(),I("button",{class:_e(["inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e.variant==="primary"&&"bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-blue-500",e.variant==="secondary"&&"bg-gray-100 text-gray-900 hover:bg-gray-200 focus-visible:ring-gray-500",e.variant==="outline"&&"border border-gray-300 bg-transparent hover:bg-gray-50 focus-visible:ring-gray-500",e.variant==="ghost"&&"hover:bg-gray-100 focus-visible:ring-gray-500",e.size==="sm"&&"h-8 px-3 text-sm",e.size==="md"&&"h-10 px-4 py-2",e.size==="lg"&&"h-12 px-8 text-lg"]),disabled:e.disabled},[Fs(t.$slots,"default")],10,Od))}},Bd={__name:"Card",props:{padding:{type:String,default:"md",validator:e=>["none","sm","md","lg"].includes(e)}},setup(e){return(t,s)=>(k(),I("div",{class:_e(["rounded-lg border bg-white shadow-sm",e.padding==="none"&&"",e.padding==="sm"&&"p-3",e.padding==="md"&&"p-6",e.padding==="lg"&&"p-8"])},[Fs(t.$slots,"default")],2))}},Id=["disabled","placeholder"],Vd={__name:"Input",props:{size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(e){return(t,s)=>(k(),I("input",{class:_e(["flex w-full rounded-md border border-gray-300 bg-white px-3 font-medium transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e.size==="sm"&&"h-8 text-sm",e.size==="md"&&"h-10",e.size==="lg"&&"h-12 text-lg"]),disabled:e.disabled,placeholder:e.placeholder,onInput:s[0]||(s[0]=n=>t.$emit("update:modelValue",n.target.value))},null,42,Id))}};export{Ga as T,jd as _,Bd as a,Vd as b,Rd as c,Pa as d,Pd as e};
